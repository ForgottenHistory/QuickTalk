/*! For license information please see main.1e688f19.js.LICENSE.txt */
(()=>{"use strict";var e={4:(e,t,n)=>{var r=n(853),a=n(43),s=n(950);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(l(e)!==e)throw Error(i(188))}function d(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=d(e)))return t;e=e.sibling}return null}var f=Object.assign,h=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),S=Symbol.for("react.consumer"),w=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),E=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),T=Symbol.for("react.lazy");Symbol.for("react.scope");var _=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var N=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var A=Symbol.iterator;function j(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=A&&e[A]||e["@@iterator"])?e:null}var P=Symbol.for("react.client.reference");function L(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===P?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case g:return"Fragment";case v:return"Profiler";case y:return"StrictMode";case x:return"Suspense";case E:return"SuspenseList";case _:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case m:return"Portal";case w:return(e.displayName||"Context")+".Provider";case S:return(e._context.displayName||"Context")+".Consumer";case k:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case C:return null!==(t=e.displayName||null)?t:L(e.type)||"Memo";case T:t=e._payload,e=e._init;try{return L(e(t))}catch(n){}}return null}var O=Array.isArray,R=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I={pending:!1,data:null,method:null,action:null},z=[],M=-1;function F(e){return{current:e}}function U(e){0>M||(e.current=z[M],z[M]=null,M--)}function $(e,t){M++,z[M]=e.current,e.current=t}var B=F(null),q=F(null),H=F(null),V=F(null);function G(e,t){switch($(H,t),$(q,e),$(B,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?ad(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=sd(t=ad(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}U(B),$(B,e)}function W(){U(B),U(q),U(H)}function Q(e){null!==e.memoizedState&&$(V,e);var t=B.current,n=sd(t,e.type);t!==n&&($(q,e),$(B,n))}function Y(e){q.current===e&&(U(B),U(q)),V.current===e&&(U(V),Qd._currentValue=I)}var K=Object.prototype.hasOwnProperty,X=r.unstable_scheduleCallback,J=r.unstable_cancelCallback,Z=r.unstable_shouldYield,ee=r.unstable_requestPaint,te=r.unstable_now,ne=r.unstable_getCurrentPriorityLevel,re=r.unstable_ImmediatePriority,ae=r.unstable_UserBlockingPriority,se=r.unstable_NormalPriority,ie=r.unstable_LowPriority,oe=r.unstable_IdlePriority,le=r.log,ce=r.unstable_setDisableYieldValue,ue=null,de=null;function fe(e){if("function"===typeof le&&ce(e),de&&"function"===typeof de.setStrictMode)try{de.setStrictMode(ue,e)}catch(t){}}var he=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(pe(e)/me|0)|0},pe=Math.log,me=Math.LN2;var ge=256,ye=4194304;function ve(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function be(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var a=0,s=e.suspendedLanes,i=e.pingedLanes;e=e.warmLanes;var o=134217727&r;return 0!==o?0!==(r=o&~s)?a=ve(r):0!==(i&=o)?a=ve(i):n||0!==(n=o&~e)&&(a=ve(n)):0!==(o=r&~s)?a=ve(o):0!==i?a=ve(i):n||0!==(n=r&~e)&&(a=ve(n)),0===a?0:0!==t&&t!==a&&0===(t&s)&&((s=a&-a)>=(n=t&-t)||32===s&&0!==(4194048&n))?t:a}function Se(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function we(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ke(){var e=ge;return 0===(4194048&(ge<<=1))&&(ge=256),e}function xe(){var e=ye;return 0===(62914560&(ye<<=1))&&(ye=4194304),e}function Ee(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ce(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Te(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-he(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|4194090&n}function _e(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-he(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}function Ne(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ae(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function je(){var e=D.p;return 0!==e?e:void 0===(e=window.event)?32:uf(e.type)}var Pe=Math.random().toString(36).slice(2),Le="__reactFiber$"+Pe,Oe="__reactProps$"+Pe,Re="__reactContainer$"+Pe,De="__reactEvents$"+Pe,Ie="__reactListeners$"+Pe,ze="__reactHandles$"+Pe,Me="__reactResources$"+Pe,Fe="__reactMarker$"+Pe;function Ue(e){delete e[Le],delete e[Oe],delete e[De],delete e[Ie],delete e[ze]}function $e(e){var t=e[Le];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Re]||n[Le]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=bd(e);null!==e;){if(n=e[Le])return n;e=bd(e)}return t}n=(e=n).parentNode}return null}function Be(e){if(e=e[Le]||e[Re]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function qe(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(i(33))}function He(e){var t=e[Me];return t||(t=e[Me]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ve(e){e[Fe]=!0}var Ge=new Set,We={};function Qe(e,t){Ye(e,t),Ye(e+"Capture",t)}function Ye(e,t){for(We[e]=t,e=0;e<t.length;e++)Ge.add(t[e])}var Ke,Xe,Je=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ze={},et={};function tt(e,t,n){if(a=t,K.call(et,a)||!K.call(Ze,a)&&(Je.test(a)?et[a]=!0:(Ze[a]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var a}function nt(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function rt(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function at(e){if(void 0===Ke)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ke=t&&t[1]||"",Xe=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Ke+e+Xe}var st=!1;function it(e,t){if(!e||st)return"";st=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(a){var r=a}Reflect.construct(e,[],n)}else{try{n.call()}catch(s){r=s}e.call(n.prototype)}}else{try{throw Error()}catch(i){r=i}(n=e())&&"function"===typeof n.catch&&n.catch(function(){})}}catch(o){if(o&&r&&"string"===typeof o.stack)return[o.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var a=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");a&&a.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=r.DetermineComponentFrameRoot(),i=s[0],o=s[1];if(i&&o){var l=i.split("\n"),c=o.split("\n");for(a=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;a<c.length&&!c[a].includes("DetermineComponentFrameRoot");)a++;if(r===l.length||a===c.length)for(r=l.length-1,a=c.length-1;1<=r&&0<=a&&l[r]!==c[a];)a--;for(;1<=r&&0<=a;r--,a--)if(l[r]!==c[a]){if(1!==r||1!==a)do{if(r--,0>--a||l[r]!==c[a]){var u="\n"+l[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=a);break}}}finally{st=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?at(n):""}function ot(e){switch(e.tag){case 26:case 27:case 5:return at(e.type);case 16:return at("Lazy");case 13:return at("Suspense");case 19:return at("SuspenseList");case 0:case 15:return it(e.type,!1);case 11:return it(e.type.render,!1);case 1:return it(e.type,!0);case 31:return at("Activity");default:return""}}function lt(e){try{var t="";do{t+=ot(e),e=e.return}while(e);return t}catch(n){return"\nError generating stack: "+n.message+"\n"+n.stack}}function ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ut(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function dt(e){e._valueTracker||(e._valueTracker=function(e){var t=ut(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var a=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function ft(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ut(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function ht(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var pt=/[\n"\\]/g;function mt(e){return e.replace(pt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function gt(e,t,n,r,a,s,i,o){e.name="",null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i?e.type=i:e.removeAttribute("type"),null!=t?"number"===i?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ct(t)):e.value!==""+ct(t)&&(e.value=""+ct(t)):"submit"!==i&&"reset"!==i||e.removeAttribute("value"),null!=t?vt(e,i,ct(t)):null!=n?vt(e,i,ct(n)):null!=r&&e.removeAttribute("value"),null==a&&null!=s&&(e.defaultChecked=!!s),null!=a&&(e.checked=a&&"function"!==typeof a&&"symbol"!==typeof a),null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o?e.name=""+ct(o):e.removeAttribute("name")}function yt(e,t,n,r,a,s,i,o){if(null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s&&(e.type=s),null!=t||null!=n){if(!("submit"!==s&&"reset"!==s||void 0!==t&&null!==t))return;n=null!=n?""+ct(n):"",t=null!=t?""+ct(t):n,o||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:a)&&"symbol"!==typeof r&&!!r,e.checked=o?e.checked:!!r,e.defaultChecked=!!r,null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i&&(e.name=i)}function vt(e,t,n){"number"===t&&ht(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function bt(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ct(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function St(e,t,n){null==t||((t=""+ct(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ct(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function wt(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(i(92));if(O(r)){if(1<r.length)throw Error(i(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=ct(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r)}function kt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var xt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Et(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||xt.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Ct(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(i(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var a in t)r=t[a],t.hasOwnProperty(a)&&n[a]!==r&&Et(e,a,r)}else for(var s in t)t.hasOwnProperty(s)&&Et(e,s,t[s])}function Tt(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _t=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Nt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function At(e){return Nt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var jt=null;function Pt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Lt=null,Ot=null;function Rt(e){var t=Be(e);if(t&&(e=t.stateNode)){var n=e[Oe]||null;e:switch(e=t.stateNode,t.type){case"input":if(gt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+mt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=r[Oe]||null;if(!a)throw Error(i(90));gt(r,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&ft(r)}break e;case"textarea":St(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&bt(e,!!n.multiple,t,!1)}}}var Dt=!1;function It(e,t,n){if(Dt)return e(t,n);Dt=!0;try{return e(t)}finally{if(Dt=!1,(null!==Lt||null!==Ot)&&($c(),Lt&&(t=Lt,e=Ot,Ot=Lt=null,Rt(t),e)))for(t=0;t<e.length;t++)Rt(e[t])}}function zt(e,t){var n=e.stateNode;if(null===n)return null;var r=n[Oe]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(i(231,t,typeof n));return n}var Mt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Ft=!1;if(Mt)try{var Ut={};Object.defineProperty(Ut,"passive",{get:function(){Ft=!0}}),window.addEventListener("test",Ut,Ut),window.removeEventListener("test",Ut,Ut)}catch(Rf){Ft=!1}var $t=null,Bt=null,qt=null;function Ht(){if(qt)return qt;var e,t,n=Bt,r=n.length,a="value"in $t?$t.value:$t.textContent,s=a.length;for(e=0;e<r&&n[e]===a[e];e++);var i=r-e;for(t=1;t<=i&&n[r-t]===a[s-t];t++);return qt=a.slice(e,1<t?1-t:void 0)}function Vt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Gt(){return!0}function Wt(){return!1}function Qt(e){function t(t,n,r,a,s){for(var i in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(a):a[i]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?Gt:Wt,this.isPropagationStopped=Wt,this}return f(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Gt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Gt)},persist:function(){},isPersistent:Gt}),t}var Yt,Kt,Xt,Jt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zt=Qt(Jt),en=f({},Jt,{view:0,detail:0}),tn=Qt(en),nn=f({},en,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Xt&&(Xt&&"mousemove"===e.type?(Yt=e.screenX-Xt.screenX,Kt=e.screenY-Xt.screenY):Kt=Yt=0,Xt=e),Yt)},movementY:function(e){return"movementY"in e?e.movementY:Kt}}),rn=Qt(nn),an=Qt(f({},nn,{dataTransfer:0})),sn=Qt(f({},en,{relatedTarget:0})),on=Qt(f({},Jt,{animationName:0,elapsedTime:0,pseudoElement:0})),ln=Qt(f({},Jt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),cn=Qt(f({},Jt,{data:0})),un={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=fn[e])&&!!t[e]}function pn(){return hn}var mn=Qt(f({},en,{key:function(e){if(e.key){var t=un[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Vt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?dn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pn,charCode:function(e){return"keypress"===e.type?Vt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Vt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),gn=Qt(f({},nn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),yn=Qt(f({},en,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pn})),vn=Qt(f({},Jt,{propertyName:0,elapsedTime:0,pseudoElement:0})),bn=Qt(f({},nn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Sn=Qt(f({},Jt,{newState:0,oldState:0})),wn=[9,13,27,32],kn=Mt&&"CompositionEvent"in window,xn=null;Mt&&"documentMode"in document&&(xn=document.documentMode);var En=Mt&&"TextEvent"in window&&!xn,Cn=Mt&&(!kn||xn&&8<xn&&11>=xn),Tn=String.fromCharCode(32),_n=!1;function Nn(e,t){switch(e){case"keyup":return-1!==wn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function An(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var jn=!1;var Pn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ln(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Pn[e.type]:"textarea"===t}function On(e,t,n,r){Lt?Ot?Ot.push(r):Ot=[r]:Lt=r,0<(t=Hu(t,"onChange")).length&&(n=new Zt("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Rn=null,Dn=null;function In(e){Iu(e,0)}function zn(e){if(ft(qe(e)))return e}function Mn(e,t){if("change"===e)return t}var Fn=!1;if(Mt){var Un;if(Mt){var $n="oninput"in document;if(!$n){var Bn=document.createElement("div");Bn.setAttribute("oninput","return;"),$n="function"===typeof Bn.oninput}Un=$n}else Un=!1;Fn=Un&&(!document.documentMode||9<document.documentMode)}function qn(){Rn&&(Rn.detachEvent("onpropertychange",Hn),Dn=Rn=null)}function Hn(e){if("value"===e.propertyName&&zn(Dn)){var t=[];On(t,Dn,e,Pt(e)),It(In,t)}}function Vn(e,t,n){"focusin"===e?(qn(),Dn=n,(Rn=t).attachEvent("onpropertychange",Hn)):"focusout"===e&&qn()}function Gn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return zn(Dn)}function Wn(e,t){if("click"===e)return zn(t)}function Qn(e,t){if("input"===e||"change"===e)return zn(t)}var Yn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Kn(e,t){if(Yn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!K.call(t,a)||!Yn(e[a],t[a]))return!1}return!0}function Xn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Jn(e,t){var n,r=Xn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Xn(r)}}function Zn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Zn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function er(e){for(var t=ht((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=ht((e=t.contentWindow).document)}return t}function tr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var nr=Mt&&"documentMode"in document&&11>=document.documentMode,rr=null,ar=null,sr=null,ir=!1;function or(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;ir||null==rr||rr!==ht(r)||("selectionStart"in(r=rr)&&tr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},sr&&Kn(sr,r)||(sr=r,0<(r=Hu(ar,"onSelect")).length&&(t=new Zt("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=rr)))}function lr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var cr={animationend:lr("Animation","AnimationEnd"),animationiteration:lr("Animation","AnimationIteration"),animationstart:lr("Animation","AnimationStart"),transitionrun:lr("Transition","TransitionRun"),transitionstart:lr("Transition","TransitionStart"),transitioncancel:lr("Transition","TransitionCancel"),transitionend:lr("Transition","TransitionEnd")},ur={},dr={};function fr(e){if(ur[e])return ur[e];if(!cr[e])return e;var t,n=cr[e];for(t in n)if(n.hasOwnProperty(t)&&t in dr)return ur[e]=n[t];return e}Mt&&(dr=document.createElement("div").style,"AnimationEvent"in window||(delete cr.animationend.animation,delete cr.animationiteration.animation,delete cr.animationstart.animation),"TransitionEvent"in window||delete cr.transitionend.transition);var hr=fr("animationend"),pr=fr("animationiteration"),mr=fr("animationstart"),gr=fr("transitionrun"),yr=fr("transitionstart"),vr=fr("transitioncancel"),br=fr("transitionend"),Sr=new Map,wr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function kr(e,t){Sr.set(e,t),Qe(t,[e])}wr.push("scrollEnd");var xr=new WeakMap;function Er(e,t){if("object"===typeof e&&null!==e){var n=xr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:lt(t)},xr.set(e,t),t)}return{value:e,source:t,stack:lt(t)}}var Cr=[],Tr=0,_r=0;function Nr(){for(var e=Tr,t=_r=Tr=0;t<e;){var n=Cr[t];Cr[t++]=null;var r=Cr[t];Cr[t++]=null;var a=Cr[t];Cr[t++]=null;var s=Cr[t];if(Cr[t++]=null,null!==r&&null!==a){var i=r.pending;null===i?a.next=a:(a.next=i.next,i.next=a),r.pending=a}0!==s&&Lr(n,a,s)}}function Ar(e,t,n,r){Cr[Tr++]=e,Cr[Tr++]=t,Cr[Tr++]=n,Cr[Tr++]=r,_r|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function jr(e,t,n,r){return Ar(e,t,n,r),Or(e)}function Pr(e,t){return Ar(e,null,null,t),Or(e)}function Lr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var a=!1,s=e.return;null!==s;)s.childLanes|=n,null!==(r=s.alternate)&&(r.childLanes|=n),22===s.tag&&(null===(e=s.stateNode)||1&e._visibility||(a=!0)),e=s,s=s.return;return 3===e.tag?(s=e.stateNode,a&&null!==t&&(a=31-he(n),null===(r=(e=s.hiddenUpdates)[a])?e[a]=[t]:r.push(t),t.lane=536870912|n),s):null}function Or(e){if(50<Lc)throw Lc=0,Oc=null,Error(i(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Rr={};function Dr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ir(e,t,n,r){return new Dr(e,t,n,r)}function zr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Mr(e,t){var n=e.alternate;return null===n?((n=Ir(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Fr(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ur(e,t,n,r,a,s){var o=0;if(r=e,"function"===typeof e)zr(e)&&(o=1);else if("string"===typeof e)o=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,B.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case _:return(e=Ir(31,n,t,a)).elementType=_,e.lanes=s,e;case g:return $r(n.children,a,s,t);case y:o=8,a|=24;break;case v:return(e=Ir(12,n,t,2|a)).elementType=v,e.lanes=s,e;case x:return(e=Ir(13,n,t,a)).elementType=x,e.lanes=s,e;case E:return(e=Ir(19,n,t,a)).elementType=E,e.lanes=s,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case b:case w:o=10;break e;case S:o=9;break e;case k:o=11;break e;case C:o=14;break e;case T:o=16,r=null;break e}o=29,n=Error(i(130,null===e?"null":typeof e,"")),r=null}return(t=Ir(o,n,t,a)).elementType=e,t.type=r,t.lanes=s,t}function $r(e,t,n,r){return(e=Ir(7,e,r,t)).lanes=n,e}function Br(e,t,n){return(e=Ir(6,e,null,t)).lanes=n,e}function qr(e,t,n){return(t=Ir(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Hr=[],Vr=0,Gr=null,Wr=0,Qr=[],Yr=0,Kr=null,Xr=1,Jr="";function Zr(e,t){Hr[Vr++]=Wr,Hr[Vr++]=Gr,Gr=e,Wr=t}function ea(e,t,n){Qr[Yr++]=Xr,Qr[Yr++]=Jr,Qr[Yr++]=Kr,Kr=e;var r=Xr;e=Jr;var a=32-he(r)-1;r&=~(1<<a),n+=1;var s=32-he(t)+a;if(30<s){var i=a-a%5;s=(r&(1<<i)-1).toString(32),r>>=i,a-=i,Xr=1<<32-he(t)+a|n<<a|r,Jr=s+e}else Xr=1<<s|n<<a|r,Jr=e}function ta(e){null!==e.return&&(Zr(e,1),ea(e,1,0))}function na(e){for(;e===Gr;)Gr=Hr[--Vr],Hr[Vr]=null,Wr=Hr[--Vr],Hr[Vr]=null;for(;e===Kr;)Kr=Qr[--Yr],Qr[Yr]=null,Jr=Qr[--Yr],Qr[Yr]=null,Xr=Qr[--Yr],Qr[Yr]=null}var ra=null,aa=null,sa=!1,ia=null,oa=!1,la=Error(i(519));function ca(e){throw ma(Er(Error(i(418,"")),e)),la}function ua(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Le]=e,t[Oe]=r,n){case"dialog":zu("cancel",t),zu("close",t);break;case"iframe":case"object":case"embed":zu("load",t);break;case"video":case"audio":for(n=0;n<Ru.length;n++)zu(Ru[n],t);break;case"source":zu("error",t);break;case"img":case"image":case"link":zu("error",t),zu("load",t);break;case"details":zu("toggle",t);break;case"input":zu("invalid",t),yt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),dt(t);break;case"select":zu("invalid",t);break;case"textarea":zu("invalid",t),wt(t,r.value,r.defaultValue,r.children),dt(t)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||Ku(t.textContent,n)?(null!=r.popover&&(zu("beforetoggle",t),zu("toggle",t)),null!=r.onScroll&&zu("scroll",t),null!=r.onScrollEnd&&zu("scrollend",t),null!=r.onClick&&(t.onclick=Xu),t=!0):t=!1,t||ca(e)}function da(e){for(ra=e.return;ra;)switch(ra.tag){case 5:case 13:return void(oa=!1);case 27:case 3:return void(oa=!0);default:ra=ra.return}}function fa(e){if(e!==ra)return!1;if(!sa)return da(e),sa=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||id(e.type,e.memoizedProps)),t=!t),t&&aa&&ca(e),da(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){aa=yd(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}aa=null}}else 27===n?(n=aa,hd(e.type)?(e=vd,vd=null,aa=e):aa=n):aa=ra?yd(e.stateNode.nextSibling):null;return!0}function ha(){aa=ra=null,sa=!1}function pa(){var e=ia;return null!==e&&(null===bc?bc=e:bc.push.apply(bc,e),ia=null),e}function ma(e){null===ia?ia=[e]:ia.push(e)}var ga=F(null),ya=null,va=null;function ba(e,t,n){$(ga,t._currentValue),t._currentValue=n}function Sa(e){e._currentValue=ga.current,U(ga)}function wa(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ka(e,t,n,r){var a=e.child;for(null!==a&&(a.return=e);null!==a;){var s=a.dependencies;if(null!==s){var o=a.child;s=s.firstContext;e:for(;null!==s;){var l=s;s=a;for(var c=0;c<t.length;c++)if(l.context===t[c]){s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),wa(s.return,n,e),r||(o=null);break e}s=l.next}}else if(18===a.tag){if(null===(o=a.return))throw Error(i(341));o.lanes|=n,null!==(s=o.alternate)&&(s.lanes|=n),wa(o,n,e),o=null}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===e){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}}function xa(e,t,n,r){e=null;for(var a=t,s=!1;null!==a;){if(!s)if(0!==(524288&a.flags))s=!0;else if(0!==(262144&a.flags))break;if(10===a.tag){var o=a.alternate;if(null===o)throw Error(i(387));if(null!==(o=o.memoizedProps)){var l=a.type;Yn(a.pendingProps.value,o.value)||(null!==e?e.push(l):e=[l])}}else if(a===V.current){if(null===(o=a.alternate))throw Error(i(387));o.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(null!==e?e.push(Qd):e=[Qd])}a=a.return}null!==e&&ka(t,e,n,r),t.flags|=262144}function Ea(e){for(e=e.firstContext;null!==e;){if(!Yn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ca(e){ya=e,va=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Ta(e){return Na(ya,e)}function _a(e,t){return null===ya&&Ca(e),Na(e,t)}function Na(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===va){if(null===e)throw Error(i(308));va=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else va=va.next=t;return n}var Aa="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},ja=r.unstable_scheduleCallback,Pa=r.unstable_NormalPriority,La={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Oa(){return{controller:new Aa,data:new Map,refCount:0}}function Ra(e){e.refCount--,0===e.refCount&&ja(Pa,function(){e.controller.abort()})}var Da=null,Ia=0,za=0,Ma=null;function Fa(){if(0===--Ia&&null!==Da){null!==Ma&&(Ma.status="fulfilled");var e=Da;Da=null,za=0,Ma=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Ua=R.S;R.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Da){var n=Da=[];Ia=0,za=Au(),Ma={status:"pending",value:void 0,then:function(e){n.push(e)}}}Ia++,t.then(Fa,Fa)}(0,t),null!==Ua&&Ua(e,t)};var $a=F(null);function Ba(){var e=$a.current;return null!==e?e:rc.pooledCache}function qa(e,t){$($a,null===t?$a.current:t.pool)}function Ha(){var e=Ba();return null===e?null:{parent:La._currentValue,pool:e}}var Va=Error(i(460)),Ga=Error(i(474)),Wa=Error(i(542)),Qa={then:function(){}};function Ya(e){return"fulfilled"===(e=e.status)||"rejected"===e}function Ka(){}function Xa(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Ka,Ka),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw es(e=t.reason),e;default:if("string"===typeof t.status)t.then(Ka,Ka);else{if(null!==(e=rc)&&100<e.shellSuspendCounter)throw Error(i(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw es(e=t.reason),e}throw Ja=t,Va}}var Ja=null;function Za(){if(null===Ja)throw Error(i(459));var e=Ja;return Ja=null,e}function es(e){if(e===Va||e===Wa)throw Error(i(483))}var ts=!1;function ns(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function rs(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function as(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ss(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&nc)){var a=r.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),r.pending=t,t=Or(e),Lr(e,null,n),t}return Ar(e,r,t,n),Or(e)}function is(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,_e(e,n)}}function os(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var i={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===s?a=s=i:s=s.next=i,n=n.next}while(null!==n);null===s?a=s=t:s=s.next=t}else a=s=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var ls=!1;function cs(){if(ls){if(null!==Ma)throw Ma}}function us(e,t,n,r){ls=!1;var a=e.updateQueue;ts=!1;var s=a.firstBaseUpdate,i=a.lastBaseUpdate,o=a.shared.pending;if(null!==o){a.shared.pending=null;var l=o,c=l.next;l.next=null,null===i?s=c:i.next=c,i=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==i&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==s){var d=a.baseState;for(i=0,u=c=l=null,o=s;;){var h=-536870913&o.lane,p=h!==o.lane;if(p?(sc&h)===h:(r&h)===h){0!==h&&h===za&&(ls=!0),null!==u&&(u=u.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var m=e,g=o;h=t;var y=n;switch(g.tag){case 1:if("function"===typeof(m=g.payload)){d=m.call(y,d,h);break e}d=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(h="function"===typeof(m=g.payload)?m.call(y,d,h):m)||void 0===h)break e;d=f({},d,h);break e;case 2:ts=!0}}null!==(h=o.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=a.callbacks)?a.callbacks=[h]:p.push(h))}else p={lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=p,l=d):u=u.next=p,i|=h;if(null===(o=o.next)){if(null===(o=a.shared.pending))break;o=(p=o).next,p.next=null,a.lastBaseUpdate=p,a.shared.pending=null}}null===u&&(l=d),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=u,null===s&&(a.shared.lanes=0),hc|=i,e.lanes=i,e.memoizedState=d}}function ds(e,t){if("function"!==typeof e)throw Error(i(191,e));e.call(t)}function fs(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)ds(n[e],t)}var hs=F(null),ps=F(0);function ms(e,t){$(ps,e=dc),$(hs,t),dc=e|t.baseLanes}function gs(){$(ps,dc),$(hs,hs.current)}function ys(){dc=ps.current,U(hs),U(ps)}var vs=0,bs=null,Ss=null,ws=null,ks=!1,xs=!1,Es=!1,Cs=0,Ts=0,_s=null,Ns=0;function As(){throw Error(i(321))}function js(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Yn(e[n],t[n]))return!1;return!0}function Ps(e,t,n,r,a,s){return vs=s,bs=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,R.H=null===e||null===e.memoizedState?Vi:Gi,Es=!1,s=n(r,a),Es=!1,xs&&(s=Os(t,n,r,a)),Ls(e),s}function Ls(e){R.H=Hi;var t=null!==Ss&&null!==Ss.next;if(vs=0,ws=Ss=bs=null,ks=!1,Ts=0,_s=null,t)throw Error(i(300));null===e||_o||null!==(e=e.dependencies)&&Ea(e)&&(_o=!0)}function Os(e,t,n,r){bs=e;var a=0;do{if(xs&&(_s=null),Ts=0,xs=!1,25<=a)throw Error(i(301));if(a+=1,ws=Ss=null,null!=e.updateQueue){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,null!=s.memoCache&&(s.memoCache.index=0)}R.H=Wi,s=t(n,r)}while(xs);return s}function Rs(){var e=R.H,t=e.useState()[0];return t="function"===typeof t.then?Us(t):t,e=e.useState()[0],(null!==Ss?Ss.memoizedState:null)!==e&&(bs.flags|=1024),t}function Ds(){var e=0!==Cs;return Cs=0,e}function Is(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function zs(e){if(ks){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}ks=!1}vs=0,ws=Ss=bs=null,xs=!1,Ts=Cs=0,_s=null}function Ms(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ws?bs.memoizedState=ws=e:ws=ws.next=e,ws}function Fs(){if(null===Ss){var e=bs.alternate;e=null!==e?e.memoizedState:null}else e=Ss.next;var t=null===ws?bs.memoizedState:ws.next;if(null!==t)ws=t,Ss=e;else{if(null===e){if(null===bs.alternate)throw Error(i(467));throw Error(i(310))}e={memoizedState:(Ss=e).memoizedState,baseState:Ss.baseState,baseQueue:Ss.baseQueue,queue:Ss.queue,next:null},null===ws?bs.memoizedState=ws=e:ws=ws.next=e}return ws}function Us(e){var t=Ts;return Ts+=1,null===_s&&(_s=[]),e=Xa(_s,e,t),t=bs,null===(null===ws?t.memoizedState:ws.next)&&(t=t.alternate,R.H=null===t||null===t.memoizedState?Vi:Gi),e}function $s(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return Us(e);if(e.$$typeof===w)return Ta(e)}throw Error(i(438,String(e)))}function Bs(e){var t=null,n=bs.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=bs.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},bs.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=N;return t.index++,n}function qs(e,t){return"function"===typeof t?t(e):t}function Hs(e){return Vs(Fs(),Ss,e)}function Vs(e,t,n){var r=e.queue;if(null===r)throw Error(i(311));r.lastRenderedReducer=n;var a=e.baseQueue,s=r.pending;if(null!==s){if(null!==a){var o=a.next;a.next=s.next,s.next=o}t.baseQueue=a=s,r.pending=null}if(s=e.baseState,null===a)e.memoizedState=s;else{var l=o=null,c=null,u=t=a.next,d=!1;do{var f=-536870913&u.lane;if(f!==u.lane?(sc&f)===f:(vs&f)===f){var h=u.revertLane;if(0===h)null!==c&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),f===za&&(d=!0);else{if((vs&h)===h){u=u.next,h===za&&(d=!0);continue}f={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=f,o=s):c=c.next=f,bs.lanes|=h,hc|=h}f=u.action,Es&&n(s,f),s=u.hasEagerState?u.eagerState:n(s,f)}else h={lane:f,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=h,o=s):c=c.next=h,bs.lanes|=f,hc|=f;u=u.next}while(null!==u&&u!==t);if(null===c?o=s:c.next=l,!Yn(s,e.memoizedState)&&(_o=!0,d&&null!==(n=Ma)))throw n;e.memoizedState=s,e.baseState=o,e.baseQueue=c,r.lastRenderedState=s}return null===a&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Gs(e){var t=Fs(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,s=t.memoizedState;if(null!==a){n.pending=null;var o=a=a.next;do{s=e(s,o.action),o=o.next}while(o!==a);Yn(s,t.memoizedState)||(_o=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Ws(e,t,n){var r=bs,a=Fs(),s=sa;if(s){if(void 0===n)throw Error(i(407));n=n()}else n=t();var o=!Yn((Ss||a).memoizedState,n);if(o&&(a.memoizedState=n,_o=!0),a=a.queue,gi(2048,8,Ks.bind(null,r,a,e),[e]),a.getSnapshot!==t||o||null!==ws&&1&ws.memoizedState.tag){if(r.flags|=2048,hi(9,{destroy:void 0,resource:void 0},Ys.bind(null,r,a,n,t),null),null===rc)throw Error(i(349));s||0!==(124&vs)||Qs(r,t,n)}return n}function Qs(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=bs.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},bs.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ys(e,t,n,r){t.value=n,t.getSnapshot=r,Xs(t)&&Js(e)}function Ks(e,t,n){return n(function(){Xs(t)&&Js(e)})}function Xs(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Yn(e,n)}catch(r){return!0}}function Js(e){var t=Pr(e,2);null!==t&&Ic(t,e,2)}function Zs(e){var t=Ms();if("function"===typeof e){var n=e;if(e=n(),Es){fe(!0);try{n()}finally{fe(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qs,lastRenderedState:e},t}function ei(e,t,n,r){return e.baseState=n,Vs(e,Ss,"function"===typeof r?r:qs)}function ti(e,t,n,r,a){if($i(e))throw Error(i(485));if(null!==(e=t.action)){var s={payload:a,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){s.listeners.push(e)}};null!==R.T?n(!0):s.isTransition=!1,r(s),null===(n=t.pending)?(s.next=t.pending=s,ni(t,s)):(s.next=n.next,t.pending=n.next=s)}}function ni(e,t){var n=t.action,r=t.payload,a=e.state;if(t.isTransition){var s=R.T,i={};R.T=i;try{var o=n(a,r),l=R.S;null!==l&&l(i,o),ri(e,t,o)}catch(c){si(e,t,c)}finally{R.T=s}}else try{ri(e,t,s=n(a,r))}catch(u){si(e,t,u)}}function ri(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then(function(n){ai(e,t,n)},function(n){return si(e,t,n)}):ai(e,t,n)}function ai(e,t,n){t.status="fulfilled",t.value=n,ii(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,ni(e,n)))}function si(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,ii(t),t=t.next}while(t!==r)}e.action=null}function ii(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function oi(e,t){return t}function li(e,t){if(sa){var n=rc.formState;if(null!==n){e:{var r=bs;if(sa){if(aa){t:{for(var a=aa,s=oa;8!==a.nodeType;){if(!s){a=null;break t}if(null===(a=yd(a.nextSibling))){a=null;break t}}a="F!"===(s=a.data)||"F"===s?a:null}if(a){aa=yd(a.nextSibling),r="F!"===a.data;break e}}ca(r)}r=!1}r&&(t=n[0])}}return(n=Ms()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:oi,lastRenderedState:t},n.queue=r,n=Mi.bind(null,bs,r),r.dispatch=n,r=Zs(!1),s=Ui.bind(null,bs,!1,r.queue),a={state:t,dispatch:null,action:e,pending:null},(r=Ms()).queue=a,n=ti.bind(null,bs,a,s,n),a.dispatch=n,r.memoizedState=e,[t,n,!1]}function ci(e){return ui(Fs(),Ss,e)}function ui(e,t,n){if(t=Vs(e,t,oi)[0],e=Hs(qs)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var r=Us(t)}catch(i){if(i===Va)throw Wa;throw i}else r=t;var a=(t=Fs()).queue,s=a.dispatch;return n!==t.memoizedState&&(bs.flags|=2048,hi(9,{destroy:void 0,resource:void 0},di.bind(null,a,n),null)),[r,s,e]}function di(e,t){e.action=t}function fi(e){var t=Fs(),n=Ss;if(null!==n)return ui(t,n,e);Fs(),t=t.memoizedState;var r=(n=Fs()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function hi(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=bs.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},bs.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function pi(){return Fs().memoizedState}function mi(e,t,n,r){var a=Ms();r=void 0===r?null:r,bs.flags|=e,a.memoizedState=hi(1|t,{destroy:void 0,resource:void 0},n,r)}function gi(e,t,n,r){var a=Fs();r=void 0===r?null:r;var s=a.memoizedState.inst;null!==Ss&&null!==r&&js(r,Ss.memoizedState.deps)?a.memoizedState=hi(t,s,n,r):(bs.flags|=e,a.memoizedState=hi(1|t,s,n,r))}function yi(e,t){mi(8390656,8,e,t)}function vi(e,t){gi(2048,8,e,t)}function bi(e,t){return gi(4,2,e,t)}function Si(e,t){return gi(4,4,e,t)}function wi(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function ki(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,gi(4,4,wi.bind(null,t,e),n)}function xi(){}function Ei(e,t){var n=Fs();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&js(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ci(e,t){var n=Fs();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&js(t,r[1]))return r[0];if(r=e(),Es){fe(!0);try{e()}finally{fe(!1)}}return n.memoizedState=[r,t],r}function Ti(e,t,n){return void 0===n||0!==(1073741824&vs)?e.memoizedState=t:(e.memoizedState=n,e=Dc(),bs.lanes|=e,hc|=e,n)}function _i(e,t,n,r){return Yn(n,t)?n:null!==hs.current?(e=Ti(e,n,r),Yn(e,t)||(_o=!0),e):0===(42&vs)?(_o=!0,e.memoizedState=n):(e=Dc(),bs.lanes|=e,hc|=e,t)}function Ni(e,t,n,r,a){var s=D.p;D.p=0!==s&&8>s?s:8;var i=R.T,o={};R.T=o,Ui(e,!1,t,n);try{var l=a(),c=R.S;if(null!==c&&c(o,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)Fi(e,t,function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),r}(l,r),Rc());else Fi(e,t,r,Rc())}catch(u){Fi(e,t,{then:function(){},status:"rejected",reason:u},Rc())}finally{D.p=s,R.T=i}}function Ai(){}function ji(e,t,n,r){if(5!==e.tag)throw Error(i(476));var a=Pi(e).queue;Ni(e,a,t,I,null===n?Ai:function(){return Li(e),n(r)})}function Pi(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:I,baseState:I,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qs,lastRenderedState:I},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qs,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function Li(e){Fi(e,Pi(e).next.queue,{},Rc())}function Oi(){return Ta(Qd)}function Ri(){return Fs().memoizedState}function Di(){return Fs().memoizedState}function Ii(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Rc(),r=ss(t,e=as(n),n);return null!==r&&(Ic(r,t,n),is(r,t,n)),t={cache:Oa()},void(e.payload=t)}t=t.return}}function zi(e,t,n){var r=Rc();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},$i(e)?Bi(t,n):null!==(n=jr(e,t,n,r))&&(Ic(n,e,r),qi(n,t,r))}function Mi(e,t,n){Fi(e,t,n,Rc())}function Fi(e,t,n,r){var a={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if($i(e))Bi(t,a);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var i=t.lastRenderedState,o=s(i,n);if(a.hasEagerState=!0,a.eagerState=o,Yn(o,i))return Ar(e,t,a,0),null===rc&&Nr(),!1}catch(l){}if(null!==(n=jr(e,t,a,r)))return Ic(n,e,r),qi(n,t,r),!0}return!1}function Ui(e,t,n,r){if(r={lane:2,revertLane:Au(),action:r,hasEagerState:!1,eagerState:null,next:null},$i(e)){if(t)throw Error(i(479))}else null!==(t=jr(e,n,r,2))&&Ic(t,e,2)}function $i(e){var t=e.alternate;return e===bs||null!==t&&t===bs}function Bi(e,t){xs=ks=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function qi(e,t,n){if(0!==(4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,_e(e,n)}}var Hi={readContext:Ta,use:$s,useCallback:As,useContext:As,useEffect:As,useImperativeHandle:As,useLayoutEffect:As,useInsertionEffect:As,useMemo:As,useReducer:As,useRef:As,useState:As,useDebugValue:As,useDeferredValue:As,useTransition:As,useSyncExternalStore:As,useId:As,useHostTransitionStatus:As,useFormState:As,useActionState:As,useOptimistic:As,useMemoCache:As,useCacheRefresh:As},Vi={readContext:Ta,use:$s,useCallback:function(e,t){return Ms().memoizedState=[e,void 0===t?null:t],e},useContext:Ta,useEffect:yi,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,mi(4194308,4,wi.bind(null,t,e),n)},useLayoutEffect:function(e,t){return mi(4194308,4,e,t)},useInsertionEffect:function(e,t){mi(4,2,e,t)},useMemo:function(e,t){var n=Ms();t=void 0===t?null:t;var r=e();if(Es){fe(!0);try{e()}finally{fe(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=Ms();if(void 0!==n){var a=n(t);if(Es){fe(!0);try{n(t)}finally{fe(!1)}}}else a=t;return r.memoizedState=r.baseState=a,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:a},r.queue=e,e=e.dispatch=zi.bind(null,bs,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ms().memoizedState=e},useState:function(e){var t=(e=Zs(e)).queue,n=Mi.bind(null,bs,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:xi,useDeferredValue:function(e,t){return Ti(Ms(),e,t)},useTransition:function(){var e=Zs(!1);return e=Ni.bind(null,bs,e.queue,!0,!1),Ms().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=bs,a=Ms();if(sa){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===rc)throw Error(i(349));0!==(124&sc)||Qs(r,t,n)}a.memoizedState=n;var s={value:n,getSnapshot:t};return a.queue=s,yi(Ks.bind(null,r,s,e),[e]),r.flags|=2048,hi(9,{destroy:void 0,resource:void 0},Ys.bind(null,r,s,n,t),null),n},useId:function(){var e=Ms(),t=rc.identifierPrefix;if(sa){var n=Jr;t="\xab"+t+"R"+(n=(Xr&~(1<<32-he(Xr)-1)).toString(32)+n),0<(n=Cs++)&&(t+="H"+n.toString(32)),t+="\xbb"}else t="\xab"+t+"r"+(n=Ns++).toString(32)+"\xbb";return e.memoizedState=t},useHostTransitionStatus:Oi,useFormState:li,useActionState:li,useOptimistic:function(e){var t=Ms();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Ui.bind(null,bs,!0,n),n.dispatch=t,[e,t]},useMemoCache:Bs,useCacheRefresh:function(){return Ms().memoizedState=Ii.bind(null,bs)}},Gi={readContext:Ta,use:$s,useCallback:Ei,useContext:Ta,useEffect:vi,useImperativeHandle:ki,useInsertionEffect:bi,useLayoutEffect:Si,useMemo:Ci,useReducer:Hs,useRef:pi,useState:function(){return Hs(qs)},useDebugValue:xi,useDeferredValue:function(e,t){return _i(Fs(),Ss.memoizedState,e,t)},useTransition:function(){var e=Hs(qs)[0],t=Fs().memoizedState;return["boolean"===typeof e?e:Us(e),t]},useSyncExternalStore:Ws,useId:Ri,useHostTransitionStatus:Oi,useFormState:ci,useActionState:ci,useOptimistic:function(e,t){return ei(Fs(),0,e,t)},useMemoCache:Bs,useCacheRefresh:Di},Wi={readContext:Ta,use:$s,useCallback:Ei,useContext:Ta,useEffect:vi,useImperativeHandle:ki,useInsertionEffect:bi,useLayoutEffect:Si,useMemo:Ci,useReducer:Gs,useRef:pi,useState:function(){return Gs(qs)},useDebugValue:xi,useDeferredValue:function(e,t){var n=Fs();return null===Ss?Ti(n,e,t):_i(n,Ss.memoizedState,e,t)},useTransition:function(){var e=Gs(qs)[0],t=Fs().memoizedState;return["boolean"===typeof e?e:Us(e),t]},useSyncExternalStore:Ws,useId:Ri,useHostTransitionStatus:Oi,useFormState:fi,useActionState:fi,useOptimistic:function(e,t){var n=Fs();return null!==Ss?ei(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Bs,useCacheRefresh:Di},Qi=null,Yi=0;function Ki(e){var t=Yi;return Yi+=1,null===Qi&&(Qi=[]),Xa(Qi,e,t)}function Xi(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function Ji(e,t){if(t.$$typeof===h)throw Error(i(525));throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Zi(e){return(0,e._init)(e._payload)}function eo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function a(e,t){return(e=Mr(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Br(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===g?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===T&&Zi(s)===t.type)?(Xi(t=a(t,n.props),n),t.return=e,t):(Xi(t=Ur(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=qr(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function d(e,t,n,r,s){return null===t||7!==t.tag?((t=$r(n,e.mode,r,s)).return=e,t):((t=a(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Br(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case p:return Xi(n=Ur(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case m:return(t=qr(t,e.mode,n)).return=e,t;case T:return f(e,t=(0,t._init)(t._payload),n)}if(O(t)||j(t))return(t=$r(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return f(e,Ki(t),n);if(t.$$typeof===w)return f(e,_a(e,t),n);Ji(e,t)}return null}function h(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==a?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case p:return n.key===a?c(e,t,n,r):null;case m:return n.key===a?u(e,t,n,r):null;case T:return h(e,t,n=(a=n._init)(n._payload),r)}if(O(n)||j(n))return null!==a?null:d(e,t,n,r,null);if("function"===typeof n.then)return h(e,t,Ki(n),r);if(n.$$typeof===w)return h(e,t,_a(e,n),r);Ji(e,n)}return null}function y(e,t,n,r,a){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return l(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case p:return c(t,e=e.get(null===r.key?n:r.key)||null,r,a);case m:return u(t,e=e.get(null===r.key?n:r.key)||null,r,a);case T:return y(e,t,n,r=(0,r._init)(r._payload),a)}if(O(r)||j(r))return d(t,e=e.get(n)||null,r,a,null);if("function"===typeof r.then)return y(e,t,n,Ki(r),a);if(r.$$typeof===w)return y(e,t,n,_a(t,r),a);Ji(t,r)}return null}function v(l,c,u,d){if("object"===typeof u&&null!==u&&u.type===g&&null===u.key&&(u=u.props.children),"object"===typeof u&&null!==u){switch(u.$$typeof){case p:e:{for(var b=u.key;null!==c;){if(c.key===b){if((b=u.type)===g){if(7===c.tag){n(l,c.sibling),(d=a(c,u.props.children)).return=l,l=d;break e}}else if(c.elementType===b||"object"===typeof b&&null!==b&&b.$$typeof===T&&Zi(b)===c.type){n(l,c.sibling),Xi(d=a(c,u.props),u),d.return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}u.type===g?((d=$r(u.props.children,l.mode,d,u.key)).return=l,l=d):(Xi(d=Ur(u.type,u.key,u.props,null,l.mode,d),u),d.return=l,l=d)}return o(l);case m:e:{for(b=u.key;null!==c;){if(c.key===b){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(l,c.sibling),(d=a(c,u.children||[])).return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}(d=qr(u,l.mode,d)).return=l,l=d}return o(l);case T:return v(l,c,u=(b=u._init)(u._payload),d)}if(O(u))return function(a,i,o,l){for(var c=null,u=null,d=i,p=i=0,m=null;null!==d&&p<o.length;p++){d.index>p?(m=d,d=null):m=d.sibling;var g=h(a,d,o[p],l);if(null===g){null===d&&(d=m);break}e&&d&&null===g.alternate&&t(a,d),i=s(g,i,p),null===u?c=g:u.sibling=g,u=g,d=m}if(p===o.length)return n(a,d),sa&&Zr(a,p),c;if(null===d){for(;p<o.length;p++)null!==(d=f(a,o[p],l))&&(i=s(d,i,p),null===u?c=d:u.sibling=d,u=d);return sa&&Zr(a,p),c}for(d=r(d);p<o.length;p++)null!==(m=y(d,a,p,o[p],l))&&(e&&null!==m.alternate&&d.delete(null===m.key?p:m.key),i=s(m,i,p),null===u?c=m:u.sibling=m,u=m);return e&&d.forEach(function(e){return t(a,e)}),sa&&Zr(a,p),c}(l,c,u,d);if(j(u)){if("function"!==typeof(b=j(u)))throw Error(i(150));return function(a,o,l,c){if(null==l)throw Error(i(151));for(var u=null,d=null,p=o,m=o=0,g=null,v=l.next();null!==p&&!v.done;m++,v=l.next()){p.index>m?(g=p,p=null):g=p.sibling;var b=h(a,p,v.value,c);if(null===b){null===p&&(p=g);break}e&&p&&null===b.alternate&&t(a,p),o=s(b,o,m),null===d?u=b:d.sibling=b,d=b,p=g}if(v.done)return n(a,p),sa&&Zr(a,m),u;if(null===p){for(;!v.done;m++,v=l.next())null!==(v=f(a,v.value,c))&&(o=s(v,o,m),null===d?u=v:d.sibling=v,d=v);return sa&&Zr(a,m),u}for(p=r(p);!v.done;m++,v=l.next())null!==(v=y(p,a,m,v.value,c))&&(e&&null!==v.alternate&&p.delete(null===v.key?m:v.key),o=s(v,o,m),null===d?u=v:d.sibling=v,d=v);return e&&p.forEach(function(e){return t(a,e)}),sa&&Zr(a,m),u}(l,c,u=b.call(u),d)}if("function"===typeof u.then)return v(l,c,Ki(u),d);if(u.$$typeof===w)return v(l,c,_a(l,u),d);Ji(l,u)}return"string"===typeof u&&""!==u||"number"===typeof u||"bigint"===typeof u?(u=""+u,null!==c&&6===c.tag?(n(l,c.sibling),(d=a(c,u)).return=l,l=d):(n(l,c),(d=Br(u,l.mode,d)).return=l,l=d),o(l)):n(l,c)}return function(e,t,n,r){try{Yi=0;var a=v(e,t,n,r);return Qi=null,a}catch(i){if(i===Va||i===Wa)throw i;var s=Ir(29,i,null,e.mode);return s.lanes=r,s.return=e,s}}}var to=eo(!0),no=eo(!1),ro=F(null),ao=null;function so(e){var t=e.alternate;$(co,1&co.current),$(ro,e),null===ao&&(null===t||null!==hs.current||null!==t.memoizedState)&&(ao=e)}function io(e){if(22===e.tag){if($(co,co.current),$(ro,e),null===ao){var t=e.alternate;null!==t&&null!==t.memoizedState&&(ao=e)}}else oo()}function oo(){$(co,co.current),$(ro,ro.current)}function lo(e){U(ro),ao===e&&(ao=null),U(co)}var co=F(0);function uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||gd(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function fo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:f({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ho={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Rc(),a=as(r);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=ss(e,a,r))&&(Ic(t,e,r),is(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Rc(),a=as(r);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=ss(e,a,r))&&(Ic(t,e,r),is(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Rc(),r=as(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=ss(e,r,n))&&(Ic(t,e,n),is(t,e,n))}};function po(e,t,n,r,a,s,i){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,i):!t.prototype||!t.prototype.isPureReactComponent||(!Kn(n,r)||!Kn(a,s))}function mo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ho.enqueueReplaceState(t,t.state,null)}function go(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var a in n===t&&(n=f({},n)),e)void 0===n[a]&&(n[a]=e[a]);return n}var yo="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function vo(e){yo(e)}function bo(e){console.error(e)}function So(e){yo(e)}function wo(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function ko(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function xo(e,t,n){return(n=as(n)).tag=3,n.payload={element:null},n.callback=function(){wo(e,t)},n}function Eo(e){return(e=as(e)).tag=3,e}function Co(e,t,n,r){var a=n.type.getDerivedStateFromError;if("function"===typeof a){var s=r.value;e.payload=function(){return a(s)},e.callback=function(){ko(t,n,r)}}var i=n.stateNode;null!==i&&"function"===typeof i.componentDidCatch&&(e.callback=function(){ko(t,n,r),"function"!==typeof a&&(null===Ec?Ec=new Set([this]):Ec.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var To=Error(i(461)),_o=!1;function No(e,t,n,r){t.child=null===e?no(t,null,n,r):to(t,e.child,n,r)}function Ao(e,t,n,r,a){n=n.render;var s=t.ref;if("ref"in r){var i={};for(var o in r)"ref"!==o&&(i[o]=r[o])}else i=r;return Ca(t),r=Ps(e,t,n,i,s,a),o=Ds(),null===e||_o?(sa&&o&&ta(t),t.flags|=1,No(e,t,r,a),t.child):(Is(e,t,a),Yo(e,t,a))}function jo(e,t,n,r,a){if(null===e){var s=n.type;return"function"!==typeof s||zr(s)||void 0!==s.defaultProps||null!==n.compare?((e=Ur(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Po(e,t,s,r,a))}if(s=e.child,!Ko(e,a)){var i=s.memoizedProps;if((n=null!==(n=n.compare)?n:Kn)(i,r)&&e.ref===t.ref)return Yo(e,t,a)}return t.flags|=1,(e=Mr(s,r)).ref=t.ref,e.return=t,t.child=e}function Po(e,t,n,r,a){if(null!==e){var s=e.memoizedProps;if(Kn(s,r)&&e.ref===t.ref){if(_o=!1,t.pendingProps=r=s,!Ko(e,a))return t.lanes=e.lanes,Yo(e,t,a);0!==(131072&e.flags)&&(_o=!0)}}return Do(e,t,n,r,a)}function Lo(e,t,n){var r=t.pendingProps,a=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode){if(0!==(128&t.flags)){if(r=null!==s?s.baseLanes|n:n,null!==e){for(a=t.child=e.child,s=0;null!==a;)s=s|a.lanes|a.childLanes,a=a.sibling;t.childLanes=s&~r}else t.childLanes=0,t.child=null;return Oo(e,t,r,n)}if(0===(536870912&n))return t.lanes=t.childLanes=536870912,Oo(e,t,null!==s?s.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&qa(0,null!==s?s.cachePool:null),null!==s?ms(t,s):gs(),io(t)}else null!==s?(qa(0,s.cachePool),ms(t,s),oo(),t.memoizedState=null):(null!==e&&qa(0,null),gs(),oo());return No(e,t,a,n),t.child}function Oo(e,t,n,r){var a=Ba();return a=null===a?null:{parent:La._currentValue,pool:a},t.memoizedState={baseLanes:n,cachePool:a},null!==e&&qa(0,null),gs(),io(t),null!==e&&xa(e,t,r,!0),null}function Ro(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(i(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Do(e,t,n,r,a){return Ca(t),n=Ps(e,t,n,r,void 0,a),r=Ds(),null===e||_o?(sa&&r&&ta(t),t.flags|=1,No(e,t,n,a),t.child):(Is(e,t,a),Yo(e,t,a))}function Io(e,t,n,r,a,s){return Ca(t),t.updateQueue=null,n=Os(t,r,n,a),Ls(e),r=Ds(),null===e||_o?(sa&&r&&ta(t),t.flags|=1,No(e,t,n,s),t.child):(Is(e,t,s),Yo(e,t,s))}function zo(e,t,n,r,a){if(Ca(t),null===t.stateNode){var s=Rr,i=n.contextType;"object"===typeof i&&null!==i&&(s=Ta(i)),s=new n(r,s),t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,s.updater=ho,t.stateNode=s,s._reactInternals=t,(s=t.stateNode).props=r,s.state=t.memoizedState,s.refs={},ns(t),i=n.contextType,s.context="object"===typeof i&&null!==i?Ta(i):Rr,s.state=t.memoizedState,"function"===typeof(i=n.getDerivedStateFromProps)&&(fo(t,n,i,r),s.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof s.getSnapshotBeforeUpdate||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||(i=s.state,"function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),i!==s.state&&ho.enqueueReplaceState(s,s.state,null),us(t,r,s,a),cs(),s.state=t.memoizedState),"function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){s=t.stateNode;var o=t.memoizedProps,l=go(n,o);s.props=l;var c=s.context,u=n.contextType;i=Rr,"object"===typeof u&&null!==u&&(i=Ta(u));var d=n.getDerivedStateFromProps;u="function"===typeof d||"function"===typeof s.getSnapshotBeforeUpdate,o=t.pendingProps!==o,u||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o||c!==i)&&mo(t,s,r,i),ts=!1;var f=t.memoizedState;s.state=f,us(t,r,s,a),cs(),c=t.memoizedState,o||f!==c||ts?("function"===typeof d&&(fo(t,n,d,r),c=t.memoizedState),(l=ts||po(t,n,l,r,f,c,i))?(u||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),s.props=r,s.state=c,s.context=i,r=l):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,rs(e,t),u=go(n,i=t.memoizedProps),s.props=u,d=t.pendingProps,f=s.context,c=n.contextType,l=Rr,"object"===typeof c&&null!==c&&(l=Ta(c)),(c="function"===typeof(o=n.getDerivedStateFromProps)||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(i!==d||f!==l)&&mo(t,s,r,l),ts=!1,f=t.memoizedState,s.state=f,us(t,r,s,a),cs();var h=t.memoizedState;i!==d||f!==h||ts||null!==e&&null!==e.dependencies&&Ea(e.dependencies)?("function"===typeof o&&(fo(t,n,o,r),h=t.memoizedState),(u=ts||po(t,n,u,r,f,h,l)||null!==e&&null!==e.dependencies&&Ea(e.dependencies))?(c||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,h,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,h,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||i===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||i===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),s.props=r,s.state=h,s.context=l,r=u):("function"!==typeof s.componentDidUpdate||i===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||i===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return s=r,Ro(e,t),r=0!==(128&t.flags),s||r?(s=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:s.render(),t.flags|=1,null!==e&&r?(t.child=to(t,e.child,null,a),t.child=to(t,null,n,a)):No(e,t,n,a),t.memoizedState=s.state,e=t.child):e=Yo(e,t,a),e}function Mo(e,t,n,r){return ha(),t.flags|=256,No(e,t,n,r),t.child}var Fo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Uo(e){return{baseLanes:e,cachePool:Ha()}}function $o(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=gc),e}function Bo(e,t,n){var r,a=t.pendingProps,s=!1,o=0!==(128&t.flags);if((r=o)||(r=(null===e||null!==e.memoizedState)&&0!==(2&co.current)),r&&(s=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(sa){if(s?so(t):oo(),sa){var l,c=aa;if(l=c){e:{for(l=c,c=oa;8!==l.nodeType;){if(!c){c=null;break e}if(null===(l=yd(l.nextSibling))){c=null;break e}}c=l}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==Kr?{id:Xr,overflow:Jr}:null,retryLane:536870912,hydrationErrors:null},(l=Ir(18,null,null,0)).stateNode=c,l.return=t,t.child=l,ra=t,aa=null,l=!0):l=!1}l||ca(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return gd(c)?t.lanes=32:t.lanes=536870912,null;lo(t)}return c=a.children,a=a.fallback,s?(oo(),c=Ho({mode:"hidden",children:c},s=t.mode),a=$r(a,s,n,null),c.return=t,a.return=t,c.sibling=a,t.child=c,(s=t.child).memoizedState=Uo(n),s.childLanes=$o(e,r,n),t.memoizedState=Fo,a):(so(t),qo(t,c))}if(null!==(l=e.memoizedState)&&null!==(c=l.dehydrated)){if(o)256&t.flags?(so(t),t.flags&=-257,t=Vo(e,t,n)):null!==t.memoizedState?(oo(),t.child=e.child,t.flags|=128,t=null):(oo(),s=a.fallback,c=t.mode,a=Ho({mode:"visible",children:a.children},c),(s=$r(s,c,n,null)).flags|=2,a.return=t,s.return=t,a.sibling=s,t.child=a,to(t,e.child,null,n),(a=t.child).memoizedState=Uo(n),a.childLanes=$o(e,r,n),t.memoizedState=Fo,t=s);else if(so(t),gd(c)){if(r=c.nextSibling&&c.nextSibling.dataset)var u=r.dgst;r=u,(a=Error(i(419))).stack="",a.digest=r,ma({value:a,source:null,stack:null}),t=Vo(e,t,n)}else if(_o||xa(e,t,n,!1),r=0!==(n&e.childLanes),_o||r){if(null!==(r=rc)&&(0!==(a=0!==((a=0!==(42&(a=n&-n))?1:Ne(a))&(r.suspendedLanes|n))?0:a)&&a!==l.retryLane))throw l.retryLane=a,Pr(e,a),Ic(r,e,a),To;"$?"===c.data||Wc(),t=Vo(e,t,n)}else"$?"===c.data?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,aa=yd(c.nextSibling),ra=t,sa=!0,ia=null,oa=!1,null!==e&&(Qr[Yr++]=Xr,Qr[Yr++]=Jr,Qr[Yr++]=Kr,Xr=e.id,Jr=e.overflow,Kr=t),(t=qo(t,a.children)).flags|=4096);return t}return s?(oo(),s=a.fallback,c=t.mode,u=(l=e.child).sibling,(a=Mr(l,{mode:"hidden",children:a.children})).subtreeFlags=65011712&l.subtreeFlags,null!==u?s=Mr(u,s):(s=$r(s,c,n,null)).flags|=2,s.return=t,a.return=t,a.sibling=s,t.child=a,a=s,s=t.child,null===(c=e.child.memoizedState)?c=Uo(n):(null!==(l=c.cachePool)?(u=La._currentValue,l=l.parent!==u?{parent:u,pool:u}:l):l=Ha(),c={baseLanes:c.baseLanes|n,cachePool:l}),s.memoizedState=c,s.childLanes=$o(e,r,n),t.memoizedState=Fo,a):(so(t),e=(n=e.child).sibling,(n=Mr(n,{mode:"visible",children:a.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function qo(e,t){return(t=Ho({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Ho(e,t){return(e=Ir(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Vo(e,t,n){return to(t,e.child,null,n),(e=qo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Go(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),wa(e.return,t,n)}function Wo(e,t,n,r,a){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=a)}function Qo(e,t,n){var r=t.pendingProps,a=r.revealOrder,s=r.tail;if(No(e,t,r.children,n),0!==(2&(r=co.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Go(e,n,t);else if(19===e.tag)Go(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch($(co,r),a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===uo(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Wo(t,!1,a,n,s);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===uo(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Wo(t,!0,n,null,s);break;case"together":Wo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Yo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),hc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(xa(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Mr(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Mr(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ko(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Ea(e))}function Xo(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)_o=!0;else{if(!Ko(e,n)&&0===(128&t.flags))return _o=!1,function(e,t,n){switch(t.tag){case 3:G(t,t.stateNode.containerInfo),ba(0,La,e.memoizedState.cache),ha();break;case 27:case 5:Q(t);break;case 4:G(t,t.stateNode.containerInfo);break;case 10:ba(0,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(so(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Bo(e,t,n):(so(t),null!==(e=Yo(e,t,n))?e.sibling:null);so(t);break;case 19:var a=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(xa(e,t,n,!1),r=0!==(n&t.childLanes)),a){if(r)return Qo(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),$(co,co.current),r)break;return null;case 22:case 23:return t.lanes=0,Lo(e,t,n);case 24:ba(0,La,e.memoizedState.cache)}return Yo(e,t,n)}(e,t,n);_o=0!==(131072&e.flags)}else _o=!1,sa&&0!==(1048576&t.flags)&&ea(t,Wr,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,a=r._init;if(r=a(r._payload),t.type=r,"function"!==typeof r){if(void 0!==r&&null!==r){if((a=r.$$typeof)===k){t.tag=11,t=Ao(null,t,r,e,n);break e}if(a===C){t.tag=14,t=jo(null,t,r,e,n);break e}}throw t=L(r)||r,Error(i(306,t,""))}zr(r)?(e=go(r,e),t.tag=1,t=zo(null,t,r,e,n)):(t.tag=0,t=Do(null,t,r,e,n))}return t;case 0:return Do(e,t,t.type,t.pendingProps,n);case 1:return zo(e,t,r=t.type,a=go(r,t.pendingProps),n);case 3:e:{if(G(t,t.stateNode.containerInfo),null===e)throw Error(i(387));r=t.pendingProps;var s=t.memoizedState;a=s.element,rs(e,t),us(t,r,null,n);var o=t.memoizedState;if(r=o.cache,ba(0,La,r),r!==s.cache&&ka(t,[La],n,!0),cs(),r=o.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Mo(e,t,r,n);break e}if(r!==a){ma(a=Er(Error(i(424)),t)),t=Mo(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(aa=yd(e.firstChild),ra=t,sa=!0,ia=null,oa=!0,n=no(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ha(),r===a){t=Yo(e,t,n);break e}No(e,t,r,n)}t=t.child}return t;case 26:return Ro(e,t),null===e?(n=Nd(t.type,null,t.pendingProps,null))?t.memoizedState=n:sa||(n=t.type,e=t.pendingProps,(r=rd(H.current).createElement(n))[Le]=t,r[Oe]=e,ed(r,n,e),Ve(r),t.stateNode=r):t.memoizedState=Nd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Q(t),null===e&&sa&&(r=t.stateNode=Sd(t.type,t.pendingProps,H.current),ra=t,oa=!0,a=aa,hd(t.type)?(vd=a,aa=yd(r.firstChild)):aa=a),No(e,t,t.pendingProps.children,n),Ro(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&sa&&((a=r=aa)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var a=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Fe])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(s=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(s!==a.rel||e.getAttribute("href")!==(null==a.href||""===a.href?null:a.href)||e.getAttribute("crossorigin")!==(null==a.crossOrigin?null:a.crossOrigin)||e.getAttribute("title")!==(null==a.title?null:a.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((s=e.getAttribute("src"))!==(null==a.src?null:a.src)||e.getAttribute("type")!==(null==a.type?null:a.type)||e.getAttribute("crossorigin")!==(null==a.crossOrigin?null:a.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var s=null==a.name?null:""+a.name;if("hidden"===a.type&&e.getAttribute("name")===s)return e}if(null===(e=yd(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,oa))?(t.stateNode=r,ra=t,aa=yd(r.firstChild),oa=!1,a=!0):a=!1),a||ca(t)),Q(t),a=t.type,s=t.pendingProps,o=null!==e?e.memoizedProps:null,r=s.children,id(a,s)?r=null:null!==o&&id(a,o)&&(t.flags|=32),null!==t.memoizedState&&(a=Ps(e,t,Rs,null,null,n),Qd._currentValue=a),Ro(e,t),No(e,t,r,n),t.child;case 6:return null===e&&sa&&((e=n=aa)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=yd(e.nextSibling)))return null}return e}(n,t.pendingProps,oa))?(t.stateNode=n,ra=t,aa=null,e=!0):e=!1),e||ca(t)),null;case 13:return Bo(e,t,n);case 4:return G(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=to(t,null,r,n):No(e,t,r,n),t.child;case 11:return Ao(e,t,t.type,t.pendingProps,n);case 7:return No(e,t,t.pendingProps,n),t.child;case 8:case 12:return No(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,ba(0,t.type,r.value),No(e,t,r.children,n),t.child;case 9:return a=t.type._context,r=t.pendingProps.children,Ca(t),r=r(a=Ta(a)),t.flags|=1,No(e,t,r,n),t.child;case 14:return jo(e,t,t.type,t.pendingProps,n);case 15:return Po(e,t,t.type,t.pendingProps,n);case 19:return Qo(e,t,n);case 31:return r=t.pendingProps,n=t.mode,r={mode:r.mode,children:r.children},null===e?((n=Ho(r,n)).ref=t.ref,t.child=n,n.return=t,t=n):((n=Mr(e.child,r)).ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return Lo(e,t,n);case 24:return Ca(t),r=Ta(La),null===e?(null===(a=Ba())&&(a=rc,s=Oa(),a.pooledCache=s,s.refCount++,null!==s&&(a.pooledCacheLanes|=n),a=s),t.memoizedState={parent:r,cache:a},ns(t),ba(0,La,a)):(0!==(e.lanes&n)&&(rs(e,t),us(t,null,null,n),cs()),a=e.memoizedState,s=t.memoizedState,a.parent!==r?(a={parent:r,cache:r},t.memoizedState=a,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=a),ba(0,La,r)):(r=s.cache,ba(0,La,r),r!==a.cache&&ka(t,[La],n,!0))),No(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(i(156,t.tag))}function Jo(e){e.flags|=4}function Zo(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!$d(t)){if(null!==(t=ro.current)&&((4194048&sc)===sc?null!==ao:(62914560&sc)!==sc&&0===(536870912&sc)||t!==ao))throw Ja=Qa,Ga;e.flags|=8192}}function el(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?xe():536870912,e.lanes|=t,yc|=t)}function tl(e,t){if(!sa)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function nl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=65011712&a.subtreeFlags,r|=65011712&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function rl(e,t,n){var r=t.pendingProps;switch(na(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return nl(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Sa(La),W(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(fa(t)?Jo(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,pa())),nl(t),null;case 26:return n=t.memoizedState,null===e?(Jo(t),null!==n?(nl(t),Zo(t,n)):(nl(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Jo(t),nl(t),Zo(t,n)):(nl(t),t.flags&=-16777217):(e.memoizedProps!==r&&Jo(t),nl(t),t.flags&=-16777217),null;case 27:Y(t),n=H.current;var a=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Jo(t);else{if(!r){if(null===t.stateNode)throw Error(i(166));return nl(t),null}e=B.current,fa(t)?ua(t):(e=Sd(a,r,n),t.stateNode=e,Jo(t))}return nl(t),null;case 5:if(Y(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Jo(t);else{if(!r){if(null===t.stateNode)throw Error(i(166));return nl(t),null}if(e=B.current,fa(t))ua(t);else{switch(a=rd(H.current),e){case 1:e=a.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=a.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=a.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=a.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=a.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof r.is?a.createElement("select",{is:r.is}):a.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e="string"===typeof r.is?a.createElement(n,{is:r.is}):a.createElement(n)}}e[Le]=t,e[Oe]=r;e:for(a=t.child;null!==a;){if(5===a.tag||6===a.tag)e.appendChild(a.stateNode);else if(4!==a.tag&&27!==a.tag&&null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;null===a.sibling;){if(null===a.return||a.return===t)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}t.stateNode=e;e:switch(ed(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Jo(t)}}return nl(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&Jo(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(i(166));if(e=H.current,fa(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(a=ra))switch(a.tag){case 27:case 5:r=a.memoizedProps}e[Le]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||Ku(e.nodeValue,n)))||ca(t)}else(e=rd(e).createTextNode(r))[Le]=t,t.stateNode=e}return nl(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(a=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(i(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(i(317));a[Le]=t}else ha(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;nl(t),a=!1}else a=pa(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=a),a=!0;if(!a)return 256&t.flags?(lo(t),t):(lo(t),null)}if(lo(t),0!==(128&t.flags))return t.lanes=n,t;if(n=null!==r,e=null!==e&&null!==e.memoizedState,n){a=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(a=r.alternate.memoizedState.cachePool.pool);var s=null;null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(s=r.memoizedState.cachePool.pool),s!==a&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),el(t,t.updateQueue),nl(t),null;case 4:return W(),null===e&&Uu(t.stateNode.containerInfo),nl(t),null;case 10:return Sa(t.type),nl(t),null;case 19:if(U(co),null===(a=t.memoizedState))return nl(t),null;if(r=0!==(128&t.flags),null===(s=a.rendering))if(r)tl(a,!1);else{if(0!==fc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=uo(e))){for(t.flags|=128,tl(a,!1),e=s.updateQueue,t.updateQueue=e,el(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Fr(n,e),n=n.sibling;return $(co,1&co.current|2),t.child}e=e.sibling}null!==a.tail&&te()>kc&&(t.flags|=128,r=!0,tl(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=uo(s))){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,el(t,e),tl(a,!0),null===a.tail&&"hidden"===a.tailMode&&!s.alternate&&!sa)return nl(t),null}else 2*te()-a.renderingStartTime>kc&&536870912!==n&&(t.flags|=128,r=!0,tl(a,!1),t.lanes=4194304);a.isBackwards?(s.sibling=t.child,t.child=s):(null!==(e=a.last)?e.sibling=s:t.child=s,a.last=s)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=te(),t.sibling=null,e=co.current,$(co,r?1&e|2:1&e),t):(nl(t),null);case 22:case 23:return lo(t),ys(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(nl(t),6&t.subtreeFlags&&(t.flags|=8192)):nl(t),null!==(n=t.updateQueue)&&el(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&U($a),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Sa(La),nl(t),null;case 25:case 30:return null}throw Error(i(156,t.tag))}function al(e,t){switch(na(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Sa(La),W(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return Y(t),null;case 13:if(lo(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));ha()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return U(co),null;case 4:return W(),null;case 10:return Sa(t.type),null;case 22:case 23:return lo(t),ys(),null!==e&&U($a),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return Sa(La),null;default:return null}}function sl(e,t){switch(na(t),t.tag){case 3:Sa(La),W();break;case 26:case 27:case 5:Y(t);break;case 4:W();break;case 13:lo(t);break;case 19:U(co);break;case 10:Sa(t.type);break;case 22:case 23:lo(t),ys(),null!==e&&U($a);break;case 24:Sa(La)}}function il(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var a=r.next;n=a;do{if((n.tag&e)===e){r=void 0;var s=n.create,i=n.inst;r=s(),i.destroy=r}n=n.next}while(n!==a)}}catch(o){uu(t,t.return,o)}}function ol(e,t,n){try{var r=t.updateQueue,a=null!==r?r.lastEffect:null;if(null!==a){var s=a.next;r=s;do{if((r.tag&e)===e){var i=r.inst,o=i.destroy;if(void 0!==o){i.destroy=void 0,a=t;var l=n,c=o;try{c()}catch(u){uu(a,l,u)}}}r=r.next}while(r!==s)}}catch(u){uu(t,t.return,u)}}function ll(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{fs(t,n)}catch(r){uu(e,e.return,r)}}}function cl(e,t,n){n.props=go(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){uu(e,t,r)}}function ul(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"===typeof n?e.refCleanup=n(r):n.current=r}}catch(a){uu(e,t,a)}}function dl(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(a){uu(e,t,a)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(s){uu(e,t,s)}else n.current=null}function fl(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(a){uu(e,e.return,a)}}function hl(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var a=null,s=null,o=null,l=null,c=null,u=null,d=null;for(p in n){var f=n[p];if(n.hasOwnProperty(p)&&null!=f)switch(p){case"checked":case"value":break;case"defaultValue":c=f;default:r.hasOwnProperty(p)||Ju(e,t,p,null,r,f)}}for(var h in r){var p=r[h];if(f=n[h],r.hasOwnProperty(h)&&(null!=p||null!=f))switch(h){case"type":s=p;break;case"name":a=p;break;case"checked":u=p;break;case"defaultChecked":d=p;break;case"value":o=p;break;case"defaultValue":l=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(i(137,t));break;default:p!==f&&Ju(e,t,h,p,r,f)}}return void gt(e,o,l,c,u,d,s,a);case"select":for(s in p=o=l=h=null,n)if(c=n[s],n.hasOwnProperty(s)&&null!=c)switch(s){case"value":break;case"multiple":p=c;default:r.hasOwnProperty(s)||Ju(e,t,s,null,r,c)}for(a in r)if(s=r[a],c=n[a],r.hasOwnProperty(a)&&(null!=s||null!=c))switch(a){case"value":h=s;break;case"defaultValue":l=s;break;case"multiple":o=s;default:s!==c&&Ju(e,t,a,s,r,c)}return t=l,n=o,r=p,void(null!=h?bt(e,!!n,h,!1):!!r!==!!n&&(null!=t?bt(e,!!n,t,!0):bt(e,!!n,n?[]:"",!1)));case"textarea":for(l in p=h=null,n)if(a=n[l],n.hasOwnProperty(l)&&null!=a&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:Ju(e,t,l,null,r,a)}for(o in r)if(a=r[o],s=n[o],r.hasOwnProperty(o)&&(null!=a||null!=s))switch(o){case"value":h=a;break;case"defaultValue":p=a;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=a)throw Error(i(91));break;default:a!==s&&Ju(e,t,o,a,r,s)}return void St(e,h,p);case"option":for(var m in n)if(h=n[m],n.hasOwnProperty(m)&&null!=h&&!r.hasOwnProperty(m))if("selected"===m)e.selected=!1;else Ju(e,t,m,null,r,h);for(c in r)if(h=r[c],p=n[c],r.hasOwnProperty(c)&&h!==p&&(null!=h||null!=p))if("selected"===c)e.selected=h&&"function"!==typeof h&&"symbol"!==typeof h;else Ju(e,t,c,h,r,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)h=n[g],n.hasOwnProperty(g)&&null!=h&&!r.hasOwnProperty(g)&&Ju(e,t,g,null,r,h);for(u in r)if(h=r[u],p=n[u],r.hasOwnProperty(u)&&h!==p&&(null!=h||null!=p))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=h)throw Error(i(137,t));break;default:Ju(e,t,u,h,r,p)}return;default:if(Tt(t)){for(var y in n)h=n[y],n.hasOwnProperty(y)&&void 0!==h&&!r.hasOwnProperty(y)&&Zu(e,t,y,void 0,r,h);for(d in r)h=r[d],p=n[d],!r.hasOwnProperty(d)||h===p||void 0===h&&void 0===p||Zu(e,t,d,h,r,p);return}}for(var v in n)h=n[v],n.hasOwnProperty(v)&&null!=h&&!r.hasOwnProperty(v)&&Ju(e,t,v,null,r,h);for(f in r)h=r[f],p=n[f],!r.hasOwnProperty(f)||h===p||null==h&&null==p||Ju(e,t,f,h,r,p)}(r,e.type,n,t),r[Oe]=t}catch(a){uu(e,e.return,a)}}function pl(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&hd(e.type)||4===e.tag}function ml(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||pl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&hd(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function gl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Xu));else if(4!==r&&(27===r&&hd(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(gl(e,t,n),e=e.sibling;null!==e;)gl(e,t,n),e=e.sibling}function yl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&hd(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(yl(e,t,n),e=e.sibling;null!==e;)yl(e,t,n),e=e.sibling}function vl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,a=t.attributes;a.length;)t.removeAttributeNode(a[0]);ed(t,r,n),t[Le]=e,t[Oe]=n}catch(s){uu(e,e.return,s)}}var bl=!1,Sl=!1,wl=!1,kl="function"===typeof WeakSet?WeakSet:Set,xl=null;function El(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:zl(e,n),4&r&&il(5,n);break;case 1:if(zl(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(i){uu(n,n.return,i)}else{var a=go(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(a,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){uu(n,n.return,o)}}64&r&&ll(n),512&r&&ul(n,n.return);break;case 3:if(zl(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{fs(e,t)}catch(i){uu(n,n.return,i)}}break;case 27:null===t&&4&r&&vl(n);case 26:case 5:zl(e,n),null===t&&4&r&&fl(n),512&r&&ul(n,n.return);break;case 12:zl(e,n);break;case 13:zl(e,n),4&r&&jl(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$?"!==e.data||"complete"===n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=pu.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||bl)){t=null!==t&&null!==t.memoizedState||Sl,a=bl;var s=Sl;bl=r,(Sl=t)&&!s?Fl(e,n,0!==(8772&n.subtreeFlags)):zl(e,n),bl=a,Sl=s}break;case 30:break;default:zl(e,n)}}function Cl(e){var t=e.alternate;null!==t&&(e.alternate=null,Cl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Ue(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Tl=null,_l=!1;function Nl(e,t,n){for(n=n.child;null!==n;)Al(e,t,n),n=n.sibling}function Al(e,t,n){if(de&&"function"===typeof de.onCommitFiberUnmount)try{de.onCommitFiberUnmount(ue,n)}catch(s){}switch(n.tag){case 26:Sl||dl(n,t),Nl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:Sl||dl(n,t);var r=Tl,a=_l;hd(n.type)&&(Tl=n.stateNode,_l=!1),Nl(e,t,n),wd(n.stateNode),Tl=r,_l=a;break;case 5:Sl||dl(n,t);case 6:if(r=Tl,a=_l,Tl=null,Nl(e,t,n),_l=a,null!==(Tl=r))if(_l)try{(9===Tl.nodeType?Tl.body:"HTML"===Tl.nodeName?Tl.ownerDocument.body:Tl).removeChild(n.stateNode)}catch(i){uu(n,t,i)}else try{Tl.removeChild(n.stateNode)}catch(i){uu(n,t,i)}break;case 18:null!==Tl&&(_l?(pd(9===(e=Tl).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Nf(e)):pd(Tl,n.stateNode));break;case 4:r=Tl,a=_l,Tl=n.stateNode.containerInfo,_l=!0,Nl(e,t,n),Tl=r,_l=a;break;case 0:case 11:case 14:case 15:Sl||ol(2,n,t),Sl||ol(4,n,t),Nl(e,t,n);break;case 1:Sl||(dl(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&cl(n,t,r)),Nl(e,t,n);break;case 21:Nl(e,t,n);break;case 22:Sl=(r=Sl)||null!==n.memoizedState,Nl(e,t,n),Sl=r;break;default:Nl(e,t,n)}}function jl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Nf(e)}catch(n){uu(t,t.return,n)}}function Pl(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new kl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new kl),t;default:throw Error(i(435,e.tag))}}(e);t.forEach(function(t){var r=mu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}function Ll(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var a=n[r],s=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 27:if(hd(l.type)){Tl=l.stateNode,_l=!1;break e}break;case 5:Tl=l.stateNode,_l=!1;break e;case 3:case 4:Tl=l.stateNode.containerInfo,_l=!0;break e}l=l.return}if(null===Tl)throw Error(i(160));Al(s,o,a),Tl=null,_l=!1,null!==(s=a.alternate)&&(s.return=null),a.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)Rl(t,e),t=t.sibling}var Ol=null;function Rl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ll(t,e),Dl(e),4&r&&(ol(3,e,e.return),il(3,e),ol(5,e,e.return));break;case 1:Ll(t,e),Dl(e),512&r&&(Sl||null===n||dl(n,n.return)),64&r&&bl&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var a=Ol;if(Ll(t,e),Dl(e),512&r&&(Sl||null===n||dl(n,n.return)),4&r){var s=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,a=a.ownerDocument||a;t:switch(r){case"title":(!(s=a.getElementsByTagName("title")[0])||s[Fe]||s[Le]||"http://www.w3.org/2000/svg"===s.namespaceURI||s.hasAttribute("itemprop"))&&(s=a.createElement(r),a.head.insertBefore(s,a.querySelector("head > title"))),ed(s,r,n),s[Le]=e,Ve(s),r=s;break e;case"link":var o=Fd("link","href",a).get(r+(n.href||""));if(o)for(var l=0;l<o.length;l++)if((s=o[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&s.getAttribute("rel")===(null==n.rel?null:n.rel)&&s.getAttribute("title")===(null==n.title?null:n.title)&&s.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){o.splice(l,1);break t}ed(s=a.createElement(r),r,n),a.head.appendChild(s);break;case"meta":if(o=Fd("meta","content",a).get(r+(n.content||"")))for(l=0;l<o.length;l++)if((s=o[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&s.getAttribute("name")===(null==n.name?null:n.name)&&s.getAttribute("property")===(null==n.property?null:n.property)&&s.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&s.getAttribute("charset")===(null==n.charSet?null:n.charSet)){o.splice(l,1);break t}ed(s=a.createElement(r),r,n),a.head.appendChild(s);break;default:throw Error(i(468,r))}s[Le]=e,Ve(s),r=s}e.stateNode=r}else Ud(a,e.type,e.stateNode);else e.stateNode=Rd(a,r,e.memoizedProps);else s!==r?(null===s?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):s.count--,null===r?Ud(a,e.type,e.stateNode):Rd(a,r,e.memoizedProps)):null===r&&null!==e.stateNode&&hl(e,e.memoizedProps,n.memoizedProps)}break;case 27:Ll(t,e),Dl(e),512&r&&(Sl||null===n||dl(n,n.return)),null!==n&&4&r&&hl(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Ll(t,e),Dl(e),512&r&&(Sl||null===n||dl(n,n.return)),32&e.flags){a=e.stateNode;try{kt(a,"")}catch(p){uu(e,e.return,p)}}4&r&&null!=e.stateNode&&hl(e,a=e.memoizedProps,null!==n?n.memoizedProps:a),1024&r&&(wl=!0);break;case 6:if(Ll(t,e),Dl(e),4&r){if(null===e.stateNode)throw Error(i(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(p){uu(e,e.return,p)}}break;case 3:if(Md=null,a=Ol,Ol=Ed(t.containerInfo),Ll(t,e),Ol=a,Dl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Nf(t.containerInfo)}catch(p){uu(e,e.return,p)}wl&&(wl=!1,Il(e));break;case 4:r=Ol,Ol=Ed(e.stateNode.containerInfo),Ll(t,e),Dl(e),Ol=r;break;case 12:default:Ll(t,e),Dl(e);break;case 13:Ll(t,e),Dl(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(wc=te()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Pl(e,r)));break;case 22:a=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=bl,d=Sl;if(bl=u||a,Sl=d||c,Ll(t,e),Sl=d,bl=u,Dl(e),8192&r)e:for(t=e.stateNode,t._visibility=a?-2&t._visibility:1|t._visibility,a&&(null===n||c||bl||Sl||Ml(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(s=c.stateNode,a)"function"===typeof(o=s.style).setProperty?o.setProperty("display","none","important"):o.display="none";else{l=c.stateNode;var f=c.memoizedProps.style,h=void 0!==f&&null!==f&&f.hasOwnProperty("display")?f.display:null;l.style.display=null==h||"boolean"===typeof h?"":(""+h).trim()}}catch(p){uu(c,c.return,p)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=a?"":c.memoizedProps}catch(p){uu(c,c.return,p)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,Pl(e,n))));break;case 19:Ll(t,e),Dl(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Pl(e,r)));case 30:case 21:}}function Dl(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(pl(r)){n=r;break}r=r.return}if(null==n)throw Error(i(160));switch(n.tag){case 27:var a=n.stateNode;yl(e,ml(e),a);break;case 5:var s=n.stateNode;32&n.flags&&(kt(s,""),n.flags&=-33),yl(e,ml(e),s);break;case 3:case 4:var o=n.stateNode.containerInfo;gl(e,ml(e),o);break;default:throw Error(i(161))}}catch(l){uu(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Il(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Il(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function zl(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)El(e,t.alternate,t),t=t.sibling}function Ml(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ol(4,t,t.return),Ml(t);break;case 1:dl(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&cl(t,t.return,n),Ml(t);break;case 27:wd(t.stateNode);case 26:case 5:dl(t,t.return),Ml(t);break;case 22:null===t.memoizedState&&Ml(t);break;default:Ml(t)}e=e.sibling}}function Fl(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,a=e,s=t,i=s.flags;switch(s.tag){case 0:case 11:case 15:Fl(a,s,n),il(4,s);break;case 1:if(Fl(a,s,n),"function"===typeof(a=(r=s).stateNode).componentDidMount)try{a.componentDidMount()}catch(c){uu(r,r.return,c)}if(null!==(a=(r=s).updateQueue)){var o=r.stateNode;try{var l=a.shared.hiddenCallbacks;if(null!==l)for(a.shared.hiddenCallbacks=null,a=0;a<l.length;a++)ds(l[a],o)}catch(c){uu(r,r.return,c)}}n&&64&i&&ll(s),ul(s,s.return);break;case 27:vl(s);case 26:case 5:Fl(a,s,n),n&&null===r&&4&i&&fl(s),ul(s,s.return);break;case 12:Fl(a,s,n);break;case 13:Fl(a,s,n),n&&4&i&&jl(a,s);break;case 22:null===s.memoizedState&&Fl(a,s,n),ul(s,s.return);break;case 30:break;default:Fl(a,s,n)}t=t.sibling}}function Ul(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Ra(n))}function $l(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Ra(e))}function Bl(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)ql(e,t,n,r),t=t.sibling}function ql(e,t,n,r){var a=t.flags;switch(t.tag){case 0:case 11:case 15:Bl(e,t,n,r),2048&a&&il(9,t);break;case 1:case 13:default:Bl(e,t,n,r);break;case 3:Bl(e,t,n,r),2048&a&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Ra(e)));break;case 12:if(2048&a){Bl(e,t,n,r),e=t.stateNode;try{var s=t.memoizedProps,i=s.id,o=s.onPostCommit;"function"===typeof o&&o(i,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){uu(t,t.return,l)}}else Bl(e,t,n,r);break;case 23:break;case 22:s=t.stateNode,i=t.alternate,null!==t.memoizedState?2&s._visibility?Bl(e,t,n,r):Vl(e,t):2&s._visibility?Bl(e,t,n,r):(s._visibility|=2,Hl(e,t,n,r,0!==(10256&t.subtreeFlags))),2048&a&&Ul(i,t);break;case 24:Bl(e,t,n,r),2048&a&&$l(t.alternate,t)}}function Hl(e,t,n,r,a){for(a=a&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var s=e,i=t,o=n,l=r,c=i.flags;switch(i.tag){case 0:case 11:case 15:Hl(s,i,o,l,a),il(8,i);break;case 23:break;case 22:var u=i.stateNode;null!==i.memoizedState?2&u._visibility?Hl(s,i,o,l,a):Vl(s,i):(u._visibility|=2,Hl(s,i,o,l,a)),a&&2048&c&&Ul(i.alternate,i);break;case 24:Hl(s,i,o,l,a),a&&2048&c&&$l(i.alternate,i);break;default:Hl(s,i,o,l,a)}t=t.sibling}}function Vl(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,a=r.flags;switch(r.tag){case 22:Vl(n,r),2048&a&&Ul(r.alternate,r);break;case 24:Vl(n,r),2048&a&&$l(r.alternate,r);break;default:Vl(n,r)}t=t.sibling}}var Gl=8192;function Wl(e){if(e.subtreeFlags&Gl)for(e=e.child;null!==e;)Ql(e),e=e.sibling}function Ql(e){switch(e.tag){case 26:Wl(e),e.flags&Gl&&null!==e.memoizedState&&function(e,t,n){if(null===Bd)throw Error(i(475));var r=Bd;if("stylesheet"===t.type&&("string"!==typeof n.media||!1!==matchMedia(n.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var a=Ad(n.href),s=e.querySelector(jd(a));if(s)return null!==(e=s._p)&&"object"===typeof e&&"function"===typeof e.then&&(r.count++,r=Hd.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=s,void Ve(s);s=e.ownerDocument||e,n=Pd(n),(a=kd.get(a))&&Id(n,a),Ve(s=s.createElement("link"));var o=s;o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),ed(s,"link",n),t.instance=s}null===r.stylesheets&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(r.count++,t=Hd.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}(Ol,e.memoizedState,e.memoizedProps);break;case 5:default:Wl(e);break;case 3:case 4:var t=Ol;Ol=Ed(e.stateNode.containerInfo),Wl(e),Ol=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Gl,Gl=16777216,Wl(e),Gl=t):Wl(e))}}function Yl(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Kl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];xl=r,Zl(r,e)}Yl(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Xl(e),e=e.sibling}function Xl(e){switch(e.tag){case 0:case 11:case 15:Kl(e),2048&e.flags&&ol(9,e,e.return);break;case 3:case 12:default:Kl(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,Jl(e)):Kl(e)}}function Jl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];xl=r,Zl(r,e)}Yl(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:ol(8,t,t.return),Jl(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,Jl(t));break;default:Jl(t)}e=e.sibling}}function Zl(e,t){for(;null!==xl;){var n=xl;switch(n.tag){case 0:case 11:case 15:ol(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Ra(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,xl=r;else e:for(n=e;null!==xl;){var a=(r=xl).sibling,s=r.return;if(Cl(r),r===n){xl=null;break e}if(null!==a){a.return=s,xl=a;break e}xl=s}}}var ec={getCacheForType:function(e){var t=Ta(La),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},tc="function"===typeof WeakMap?WeakMap:Map,nc=0,rc=null,ac=null,sc=0,ic=0,oc=null,lc=!1,cc=!1,uc=!1,dc=0,fc=0,hc=0,pc=0,mc=0,gc=0,yc=0,vc=null,bc=null,Sc=!1,wc=0,kc=1/0,xc=null,Ec=null,Cc=0,Tc=null,_c=null,Nc=0,Ac=0,jc=null,Pc=null,Lc=0,Oc=null;function Rc(){if(0!==(2&nc)&&0!==sc)return sc&-sc;if(null!==R.T){return 0!==za?za:Au()}return je()}function Dc(){0===gc&&(gc=0===(536870912&sc)||sa?ke():536870912);var e=ro.current;return null!==e&&(e.flags|=32),gc}function Ic(e,t,n){(e!==rc||2!==ic&&9!==ic)&&null===e.cancelPendingCommit||(qc(e,0),Uc(e,sc,gc,!1)),Ce(e,n),0!==(2&nc)&&e===rc||(e===rc&&(0===(2&nc)&&(pc|=n),4===fc&&Uc(e,sc,gc,!1)),ku(e))}function zc(e,t,n){if(0!==(6&nc))throw Error(i(327));for(var r=!n&&0===(124&t)&&0===(t&e.expiredLanes)||Se(e,t),a=r?function(e,t){var n=nc;nc|=2;var r=Vc(),a=Gc();rc!==e||sc!==t?(xc=null,kc=te()+500,qc(e,t)):cc=Se(e,t);e:for(;;)try{if(0!==ic&&null!==ac){t=ac;var s=oc;t:switch(ic){case 1:ic=0,oc=null,Zc(e,t,s,1);break;case 2:case 9:if(Ya(s)){ic=0,oc=null,Jc(t);break}t=function(){2!==ic&&9!==ic||rc!==e||(ic=7),ku(e)},s.then(t,t);break e;case 3:ic=7;break e;case 4:ic=5;break e;case 7:Ya(s)?(ic=0,oc=null,Jc(t)):(ic=0,oc=null,Zc(e,t,s,7));break;case 5:var o=null;switch(ac.tag){case 26:o=ac.memoizedState;case 5:case 27:var l=ac;if(!o||$d(o)){ic=0,oc=null;var c=l.sibling;if(null!==c)ac=c;else{var u=l.return;null!==u?(ac=u,eu(u)):ac=null}break t}}ic=0,oc=null,Zc(e,t,s,5);break;case 6:ic=0,oc=null,Zc(e,t,s,6);break;case 8:Bc(),fc=6;break e;default:throw Error(i(462))}}Kc();break}catch(d){Hc(e,d)}return va=ya=null,R.H=r,R.A=a,nc=n,null!==ac?0:(rc=null,sc=0,Nr(),fc)}(e,t):Qc(e,t,!0),s=r;;){if(0===a){cc&&!r&&Uc(e,t,0,!1);break}if(n=e.current.alternate,!s||Fc(n)){if(2===a){if(s=t,e.errorRecoveryDisabledLanes&s)var o=0;else o=0!==(o=-536870913&e.pendingLanes)?o:536870912&o?536870912:0;if(0!==o){t=o;e:{var l=e;a=vc;var c=l.current.memoizedState.isDehydrated;if(c&&(qc(l,o).flags|=256),2!==(o=Qc(l,o,!1))){if(uc&&!c){l.errorRecoveryDisabledLanes|=s,pc|=s,a=4;break e}s=bc,bc=a,null!==s&&(null===bc?bc=s:bc.push.apply(bc,s))}a=o}if(s=!1,2!==a)continue}}if(1===a){qc(e,0),Uc(e,t,0,!0);break}e:{switch(r=e,s=a){case 0:case 1:throw Error(i(345));case 4:if((4194048&t)!==t)break;case 6:Uc(r,t,gc,!lc);break e;case 2:bc=null;break;case 3:case 5:break;default:throw Error(i(329))}if((62914560&t)===t&&10<(a=wc+300-te())){if(Uc(r,t,gc,!lc),0!==be(r,0,!0))break e;r.timeoutHandle=ld(Mc.bind(null,r,n,bc,xc,Sc,t,gc,pc,yc,lc,s,2,-0,0),a)}else Mc(r,n,bc,xc,Sc,t,gc,pc,yc,lc,s,0,-0,0)}break}a=Qc(e,t,!1),s=!1}ku(e)}function Mc(e,t,n,r,a,s,o,l,c,u,d,f,h,p){if(e.timeoutHandle=-1,(8192&(f=t.subtreeFlags)||16785408===(16785408&f))&&(Bd={stylesheets:null,count:0,unsuspend:qd},Ql(t),null!==(f=function(){if(null===Bd)throw Error(i(475));var e=Bd;return e.stylesheets&&0===e.count&&Gd(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&Gd(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=f(nu.bind(null,e,t,s,n,r,a,o,l,c,d,1,h,p)),void Uc(e,s,o,!u);nu(e,t,s,n,r,a,o,l,c)}function Fc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var a=n[r],s=a.getSnapshot;a=a.value;try{if(!Yn(s(),a))return!1}catch(i){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Uc(e,t,n,r){t&=~mc,t&=~pc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var a=t;0<a;){var s=31-he(a),i=1<<s;r[s]=-1,a&=~i}0!==n&&Te(e,n,t)}function $c(){return 0!==(6&nc)||(xu(0,!1),!1)}function Bc(){if(null!==ac){if(0===ic)var e=ac.return;else va=ya=null,zs(e=ac),Qi=null,Yi=0,e=ac;for(;null!==e;)sl(e.alternate,e),e=e.return;ac=null}}function qc(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,cd(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Bc(),rc=e,ac=n=Mr(e.current,null),sc=t,ic=0,oc=null,lc=!1,cc=Se(e,t),uc=!1,yc=gc=mc=pc=hc=fc=0,bc=vc=null,Sc=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var a=31-he(r),s=1<<a;t|=e[a],r&=~s}return dc=t,Nr(),n}function Hc(e,t){bs=null,R.H=Hi,t===Va||t===Wa?(t=Za(),ic=3):t===Ga?(t=Za(),ic=4):ic=t===To?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,oc=t,null===ac&&(fc=1,wo(e,Er(t,e.current)))}function Vc(){var e=R.H;return R.H=Hi,null===e?Hi:e}function Gc(){var e=R.A;return R.A=ec,e}function Wc(){fc=4,lc||(4194048&sc)!==sc&&null!==ro.current||(cc=!0),0===(134217727&hc)&&0===(134217727&pc)||null===rc||Uc(rc,sc,gc,!1)}function Qc(e,t,n){var r=nc;nc|=2;var a=Vc(),s=Gc();rc===e&&sc===t||(xc=null,qc(e,t)),t=!1;var i=fc;e:for(;;)try{if(0!==ic&&null!==ac){var o=ac,l=oc;switch(ic){case 8:Bc(),i=6;break e;case 3:case 2:case 9:case 6:null===ro.current&&(t=!0);var c=ic;if(ic=0,oc=null,Zc(e,o,l,c),n&&cc){i=0;break e}break;default:c=ic,ic=0,oc=null,Zc(e,o,l,c)}}Yc(),i=fc;break}catch(u){Hc(e,u)}return t&&e.shellSuspendCounter++,va=ya=null,nc=r,R.H=a,R.A=s,null===ac&&(rc=null,sc=0,Nr()),i}function Yc(){for(;null!==ac;)Xc(ac)}function Kc(){for(;null!==ac&&!Z();)Xc(ac)}function Xc(e){var t=Xo(e.alternate,e,dc);e.memoizedProps=e.pendingProps,null===t?eu(e):ac=t}function Jc(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Io(n,t,t.pendingProps,t.type,void 0,sc);break;case 11:t=Io(n,t,t.pendingProps,t.type.render,t.ref,sc);break;case 5:zs(t);default:sl(n,t),t=Xo(n,t=ac=Fr(t,dc),dc)}e.memoizedProps=e.pendingProps,null===t?eu(e):ac=t}function Zc(e,t,n,r){va=ya=null,zs(t),Qi=null,Yi=0;var a=t.return;try{if(function(e,t,n,r,a){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&xa(t,n,a,!0),null!==(n=ro.current)){switch(n.tag){case 13:return null===ao?Wc():null===n.alternate&&0===fc&&(fc=3),n.flags&=-257,n.flags|=65536,n.lanes=a,r===Qa?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),du(e,r,a)),!1;case 22:return n.flags|=65536,r===Qa?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),du(e,r,a)),!1}throw Error(i(435,n.tag))}return du(e,r,a),Wc(),!1}if(sa)return null!==(t=ro.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=a,r!==la&&ma(Er(e=Error(i(422),{cause:r}),n))):(r!==la&&ma(Er(t=Error(i(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,a&=-a,e.lanes|=a,r=Er(r,n),os(e,a=xo(e.stateNode,r,a)),4!==fc&&(fc=2)),!1;var s=Error(i(520),{cause:r});if(s=Er(s,n),null===vc?vc=[s]:vc.push(s),4!==fc&&(fc=2),null===t)return!0;r=Er(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=a&-a,n.lanes|=e,os(n,e=xo(n.stateNode,r,e)),!1;case 1:if(t=n.type,s=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==s&&"function"===typeof s.componentDidCatch&&(null===Ec||!Ec.has(s))))return n.flags|=65536,a&=-a,n.lanes|=a,Co(a=Eo(a),e,n,r),os(n,a),!1}n=n.return}while(null!==n);return!1}(e,a,t,n,sc))return fc=1,wo(e,Er(n,e.current)),void(ac=null)}catch(s){if(null!==a)throw ac=a,s;return fc=1,wo(e,Er(n,e.current)),void(ac=null)}32768&t.flags?(sa||1===r?e=!0:cc||0!==(536870912&sc)?e=!1:(lc=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=ro.current)&&13===r.tag&&(r.flags|=16384))),tu(t,e)):eu(t)}function eu(e){var t=e;do{if(0!==(32768&t.flags))return void tu(t,lc);e=t.return;var n=rl(t.alternate,t,dc);if(null!==n)return void(ac=n);if(null!==(t=t.sibling))return void(ac=t);ac=t=e}while(null!==t);0===fc&&(fc=5)}function tu(e,t){do{var n=al(e.alternate,e);if(null!==n)return n.flags&=32767,void(ac=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(ac=e);ac=e=n}while(null!==e);fc=6,ac=null}function nu(e,t,n,r,a,s,o,l,c){e.cancelPendingCommit=null;do{ou()}while(0!==Cc);if(0!==(6&nc))throw Error(i(327));if(null!==t){if(t===e.current)throw Error(i(177));if(s=t.lanes|t.childLanes,function(e,t,n,r,a,s){var i=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var o=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=i&~n;0<n;){var u=31-he(n),d=1<<u;o[u]=0,l[u]=-1;var f=c[u];if(null!==f)for(c[u]=null,u=0;u<f.length;u++){var h=f[u];null!==h&&(h.lane&=-536870913)}n&=~d}0!==r&&Te(e,r,0),0!==s&&0===a&&0!==e.tag&&(e.suspendedLanes|=s&~(i&~t))}(e,n,s|=_r,o,l,c),e===rc&&(ac=rc=null,sc=0),_c=t,Tc=e,Nc=n,Ac=s,jc=a,Pc=r,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,X(se,function(){return lu(),null})):(e.callbackNode=null,e.callbackPriority=0),r=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||r){r=R.T,R.T=null,a=D.p,D.p=2,o=nc,nc|=4;try{!function(e,t){if(e=e.containerInfo,td=nf,tr(e=er(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var a=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(g){n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==n||0!==a&&3!==f.nodeType||(l=o+a),f!==s||0!==r&&3!==f.nodeType||(c=o+r),3===f.nodeType&&(o+=f.nodeValue.length),null!==(p=f.firstChild);)h=f,f=p;for(;;){if(f===e)break t;if(h===n&&++u===a&&(l=o),h===s&&++d===r&&(c=o),null!==(p=f.nextSibling))break;h=(f=h).parentNode}f=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(nd={focusedElem:e,selectionRange:n},nf=!1,xl=t;null!==xl;)if(e=(t=xl).child,0!==(1024&t.subtreeFlags)&&null!==e)e.return=t,xl=e;else for(;null!==xl;){switch(s=(t=xl).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==s){e=void 0,n=t,a=s.memoizedProps,s=s.memoizedState,r=n.stateNode;try{var m=go(n.type,a,(n.elementType,n.type));e=r.getSnapshotBeforeUpdate(m,s),r.__reactInternalSnapshotBeforeUpdate=e}catch(y){uu(n,n.return,y)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))md(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":md(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(i(163))}if(null!==(e=t.sibling)){e.return=t.return,xl=e;break}xl=t.return}}(e,t)}finally{nc=o,D.p=a,R.T=r}}Cc=1,ru(),au(),su()}}function ru(){if(1===Cc){Cc=0;var e=Tc,t=_c,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=R.T,R.T=null;var r=D.p;D.p=2;var a=nc;nc|=4;try{Rl(t,e);var s=nd,i=er(e.containerInfo),o=s.focusedElem,l=s.selectionRange;if(i!==o&&o&&o.ownerDocument&&Zn(o.ownerDocument.documentElement,o)){if(null!==l&&tr(o)){var c=l.start,u=l.end;if(void 0===u&&(u=c),"selectionStart"in o)o.selectionStart=c,o.selectionEnd=Math.min(u,o.value.length);else{var d=o.ownerDocument||document,f=d&&d.defaultView||window;if(f.getSelection){var h=f.getSelection(),p=o.textContent.length,m=Math.min(l.start,p),g=void 0===l.end?m:Math.min(l.end,p);!h.extend&&m>g&&(i=g,g=m,m=i);var y=Jn(o,m),v=Jn(o,g);if(y&&v&&(1!==h.rangeCount||h.anchorNode!==y.node||h.anchorOffset!==y.offset||h.focusNode!==v.node||h.focusOffset!==v.offset)){var b=d.createRange();b.setStart(y.node,y.offset),h.removeAllRanges(),m>g?(h.addRange(b),h.extend(v.node,v.offset)):(b.setEnd(v.node,v.offset),h.addRange(b))}}}}for(d=[],h=o;h=h.parentNode;)1===h.nodeType&&d.push({element:h,left:h.scrollLeft,top:h.scrollTop});for("function"===typeof o.focus&&o.focus(),o=0;o<d.length;o++){var S=d[o];S.element.scrollLeft=S.left,S.element.scrollTop=S.top}}nf=!!td,nd=td=null}finally{nc=a,D.p=r,R.T=n}}e.current=t,Cc=2}}function au(){if(2===Cc){Cc=0;var e=Tc,t=_c,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=R.T,R.T=null;var r=D.p;D.p=2;var a=nc;nc|=4;try{El(e,t.alternate,t)}finally{nc=a,D.p=r,R.T=n}}Cc=3}}function su(){if(4===Cc||3===Cc){Cc=0,ee();var e=Tc,t=_c,n=Nc,r=Pc;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Cc=5:(Cc=0,_c=Tc=null,iu(e,e.pendingLanes));var a=e.pendingLanes;if(0===a&&(Ec=null),Ae(n),t=t.stateNode,de&&"function"===typeof de.onCommitFiberRoot)try{de.onCommitFiberRoot(ue,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==r){t=R.T,a=D.p,D.p=2,R.T=null;try{for(var s=e.onRecoverableError,i=0;i<r.length;i++){var o=r[i];s(o.value,{componentStack:o.stack})}}finally{R.T=t,D.p=a}}0!==(3&Nc)&&ou(),ku(e),a=e.pendingLanes,0!==(4194090&n)&&0!==(42&a)?e===Oc?Lc++:(Lc=0,Oc=e):Lc=0,xu(0,!1)}}function iu(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Ra(t)))}function ou(e){return ru(),au(),su(),lu()}function lu(){if(5!==Cc)return!1;var e=Tc,t=Ac;Ac=0;var n=Ae(Nc),r=R.T,a=D.p;try{D.p=32>n?32:n,R.T=null,n=jc,jc=null;var s=Tc,o=Nc;if(Cc=0,_c=Tc=null,Nc=0,0!==(6&nc))throw Error(i(331));var l=nc;if(nc|=4,Xl(s.current),ql(s,s.current,o,n),nc=l,xu(0,!1),de&&"function"===typeof de.onPostCommitFiberRoot)try{de.onPostCommitFiberRoot(ue,s)}catch(c){}return!0}finally{D.p=a,R.T=r,iu(e,t)}}function cu(e,t,n){t=Er(n,t),null!==(e=ss(e,t=xo(e.stateNode,t,2),2))&&(Ce(e,2),ku(e))}function uu(e,t,n){if(3===e.tag)cu(e,e,n);else for(;null!==t;){if(3===t.tag){cu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ec||!Ec.has(r))){e=Er(n,e),null!==(r=ss(t,n=Eo(2),2))&&(Co(n,r,t,e),Ce(r,2),ku(r));break}}t=t.return}}function du(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new tc;var a=new Set;r.set(t,a)}else void 0===(a=r.get(t))&&(a=new Set,r.set(t,a));a.has(n)||(uc=!0,a.add(n),e=fu.bind(null,e,t,n),t.then(e,e))}function fu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,rc===e&&(sc&n)===n&&(4===fc||3===fc&&(62914560&sc)===sc&&300>te()-wc?0===(2&nc)&&qc(e,0):mc|=n,yc===sc&&(yc=0)),ku(e)}function hu(e,t){0===t&&(t=xe()),null!==(e=Pr(e,t))&&(Ce(e,t),ku(e))}function pu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),hu(e,n)}function mu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(i(314))}null!==r&&r.delete(t),hu(e,n)}var gu=null,yu=null,vu=!1,bu=!1,Su=!1,wu=0;function ku(e){e!==yu&&null===e.next&&(null===yu?gu=yu=e:yu=yu.next=e),bu=!0,vu||(vu=!0,dd(function(){0!==(6&nc)?X(re,Eu):Cu()}))}function xu(e,t){if(!Su&&bu){Su=!0;do{for(var n=!1,r=gu;null!==r;){if(!t)if(0!==e){var a=r.pendingLanes;if(0===a)var s=0;else{var i=r.suspendedLanes,o=r.pingedLanes;s=(1<<31-he(42|e)+1)-1,s=201326741&(s&=a&~(i&~o))?201326741&s|1:s?2|s:0}0!==s&&(n=!0,Nu(r,s))}else s=sc,0===(3&(s=be(r,r===rc?s:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||Se(r,s)||(n=!0,Nu(r,s));r=r.next}}while(n);Su=!1}}function Eu(){Cu()}function Cu(){bu=vu=!1;var e=0;0!==wu&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==od&&(od=e,!0);return od=null,!1}()&&(e=wu),wu=0);for(var t=te(),n=null,r=gu;null!==r;){var a=r.next,s=Tu(r,t);0===s?(r.next=null,null===n?gu=a:n.next=a,null===a&&(yu=n)):(n=r,(0!==e||0!==(3&s))&&(bu=!0)),r=a}xu(e,!1)}function Tu(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,s=-62914561&e.pendingLanes;0<s;){var i=31-he(s),o=1<<i,l=a[i];-1===l?0!==(o&n)&&0===(o&r)||(a[i]=we(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}if(n=sc,n=be(e,e===(t=rc)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===ic||9===ic)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&J(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||Se(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&J(r),Ae(n)){case 2:case 8:n=ae;break;case 32:default:n=se;break;case 268435456:n=oe}return r=_u.bind(null,e),n=X(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&J(r),e.callbackPriority=2,e.callbackNode=null,2}function _u(e,t){if(0!==Cc&&5!==Cc)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(ou()&&e.callbackNode!==n)return null;var r=sc;return 0===(r=be(e,e===rc?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(zc(e,r,t),Tu(e,te()),null!=e.callbackNode&&e.callbackNode===n?_u.bind(null,e):null)}function Nu(e,t){if(ou())return null;zc(e,t,!0)}function Au(){return 0===wu&&(wu=ke()),wu}function ju(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:At(""+e)}function Pu(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Lu=0;Lu<wr.length;Lu++){var Ou=wr[Lu];kr(Ou.toLowerCase(),"on"+(Ou[0].toUpperCase()+Ou.slice(1)))}kr(hr,"onAnimationEnd"),kr(pr,"onAnimationIteration"),kr(mr,"onAnimationStart"),kr("dblclick","onDoubleClick"),kr("focusin","onFocus"),kr("focusout","onBlur"),kr(gr,"onTransitionRun"),kr(yr,"onTransitionStart"),kr(vr,"onTransitionCancel"),kr(br,"onTransitionEnd"),Ye("onMouseEnter",["mouseout","mouseover"]),Ye("onMouseLeave",["mouseout","mouseover"]),Ye("onPointerEnter",["pointerout","pointerover"]),Ye("onPointerLeave",["pointerout","pointerover"]),Qe("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Qe("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Qe("onBeforeInput",["compositionend","keypress","textInput","paste"]),Qe("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Qe("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Qe("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ru="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Du=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ru));function Iu(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var i=r.length-1;0<=i;i--){var o=r[i],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&a.isPropagationStopped())break e;s=o,a.currentTarget=c;try{s(a)}catch(u){yo(u)}a.currentTarget=null,s=l}else for(i=0;i<r.length;i++){if(l=(o=r[i]).instance,c=o.currentTarget,o=o.listener,l!==s&&a.isPropagationStopped())break e;s=o,a.currentTarget=c;try{s(a)}catch(u){yo(u)}a.currentTarget=null,s=l}}}}function zu(e,t){var n=t[De];void 0===n&&(n=t[De]=new Set);var r=e+"__bubble";n.has(r)||($u(t,e,2,!1),n.add(r))}function Mu(e,t,n){var r=0;t&&(r|=4),$u(n,e,r,t)}var Fu="_reactListening"+Math.random().toString(36).slice(2);function Uu(e){if(!e[Fu]){e[Fu]=!0,Ge.forEach(function(t){"selectionchange"!==t&&(Du.has(t)||Mu(t,!1,e),Mu(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Fu]||(t[Fu]=!0,Mu("selectionchange",!1,t))}}function $u(e,t,n,r){switch(uf(t)){case 2:var a=rf;break;case 8:a=af;break;default:a=sf}n=a.bind(null,t,n,e),a=void 0,!Ft||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Bu(e,t,n,r,a){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var i=r.tag;if(3===i||4===i){var o=r.stateNode.containerInfo;if(o===a)break;if(4===i)for(i=r.return;null!==i;){var c=i.tag;if((3===c||4===c)&&i.stateNode.containerInfo===a)return;i=i.return}for(;null!==o;){if(null===(i=$e(o)))return;if(5===(c=i.tag)||6===c||26===c||27===c){r=s=i;continue e}o=o.parentNode}}r=r.return}It(function(){var r=s,a=Pt(n),i=[];e:{var o=Sr.get(e);if(void 0!==o){var c=Zt,u=e;switch(e){case"keypress":if(0===Vt(n))break e;case"keydown":case"keyup":c=mn;break;case"focusin":u="focus",c=sn;break;case"focusout":u="blur",c=sn;break;case"beforeblur":case"afterblur":c=sn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=rn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=an;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=yn;break;case hr:case pr:case mr:c=on;break;case br:c=vn;break;case"scroll":case"scrollend":c=tn;break;case"wheel":c=bn;break;case"copy":case"cut":case"paste":c=ln;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=gn;break;case"toggle":case"beforetoggle":c=Sn}var d=0!==(4&t),f=!d&&("scroll"===e||"scrollend"===e),h=d?null!==o?o+"Capture":null:o;d=[];for(var p,m=r;null!==m;){var g=m;if(p=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===p||null===h||null!=(g=zt(m,h))&&d.push(qu(m,g,p)),f)break;m=m.return}0<d.length&&(o=new c(o,u,null,n,a),i.push({event:o,listeners:d}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===jt||!(u=n.relatedTarget||n.fromElement)||!$e(u)&&!u[Re])&&(c||o)&&(o=a.window===a?a:(o=a.ownerDocument)?o.defaultView||o.parentWindow:window,c?(c=r,null!==(u=(u=n.relatedTarget||n.toElement)?$e(u):null)&&(f=l(u),d=u.tag,u!==f||5!==d&&27!==d&&6!==d)&&(u=null)):(c=null,u=r),c!==u)){if(d=rn,g="onMouseLeave",h="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(d=gn,g="onPointerLeave",h="onPointerEnter",m="pointer"),f=null==c?o:qe(c),p=null==u?o:qe(u),(o=new d(g,m+"leave",c,n,a)).target=f,o.relatedTarget=p,g=null,$e(a)===r&&((d=new d(h,m+"enter",u,n,a)).target=p,d.relatedTarget=f,g=d),f=g,c&&u)e:{for(h=u,m=0,p=d=c;p;p=Vu(p))m++;for(p=0,g=h;g;g=Vu(g))p++;for(;0<m-p;)d=Vu(d),m--;for(;0<p-m;)h=Vu(h),p--;for(;m--;){if(d===h||null!==h&&d===h.alternate)break e;d=Vu(d),h=Vu(h)}d=null}else d=null;null!==c&&Gu(i,o,c,d,!1),null!==u&&null!==f&&Gu(i,f,u,d,!0)}if("select"===(c=(o=r?qe(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===c&&"file"===o.type)var y=Mn;else if(Ln(o))if(Fn)y=Qn;else{y=Gn;var v=Vn}else!(c=o.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==o.type&&"radio"!==o.type?r&&Tt(r.elementType)&&(y=Mn):y=Wn;switch(y&&(y=y(e,r))?On(i,y,n,a):(v&&v(e,o,r),"focusout"===e&&r&&"number"===o.type&&null!=r.memoizedProps.value&&vt(o,"number",o.value)),v=r?qe(r):window,e){case"focusin":(Ln(v)||"true"===v.contentEditable)&&(rr=v,ar=r,sr=null);break;case"focusout":sr=ar=rr=null;break;case"mousedown":ir=!0;break;case"contextmenu":case"mouseup":case"dragend":ir=!1,or(i,n,a);break;case"selectionchange":if(nr)break;case"keydown":case"keyup":or(i,n,a)}var b;if(kn)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else jn?Nn(e,n)&&(S="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(S="onCompositionStart");S&&(Cn&&"ko"!==n.locale&&(jn||"onCompositionStart"!==S?"onCompositionEnd"===S&&jn&&(b=Ht()):(Bt="value"in($t=a)?$t.value:$t.textContent,jn=!0)),0<(v=Hu(r,S)).length&&(S=new cn(S,e,null,n,a),i.push({event:S,listeners:v}),b?S.data=b:null!==(b=An(n))&&(S.data=b))),(b=En?function(e,t){switch(e){case"compositionend":return An(t);case"keypress":return 32!==t.which?null:(_n=!0,Tn);case"textInput":return(e=t.data)===Tn&&_n?null:e;default:return null}}(e,n):function(e,t){if(jn)return"compositionend"===e||!kn&&Nn(e,t)?(e=Ht(),qt=Bt=$t=null,jn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Cn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(S=Hu(r,"onBeforeInput")).length&&(v=new cn("onBeforeInput","beforeinput",null,n,a),i.push({event:v,listeners:S}),v.data=b)),function(e,t,n,r,a){if("submit"===t&&n&&n.stateNode===a){var s=ju((a[Oe]||null).action),i=r.submitter;i&&null!==(t=(t=i[Oe]||null)?ju(t.formAction):i.getAttribute("formAction"))&&(s=t,i=null);var o=new Zt("action","action",null,r,a);e.push({event:o,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==wu){var e=i?Pu(a,i):new FormData(a);ji(n,{pending:!0,data:e,method:a.method,action:s},null,e)}}else"function"===typeof s&&(o.preventDefault(),e=i?Pu(a,i):new FormData(a),ji(n,{pending:!0,data:e,method:a.method,action:s},s,e))},currentTarget:a}]})}}(i,e,r,n,a)}Iu(i,t)})}function qu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hu(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,s=a.stateNode;if(5!==(a=a.tag)&&26!==a&&27!==a||null===s||(null!=(a=zt(e,n))&&r.unshift(qu(e,a,s)),null!=(a=zt(e,t))&&r.push(qu(e,a,s))),3===e.tag)return r;e=e.return}return[]}function Vu(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Gu(e,t,n,r,a){for(var s=t._reactName,i=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(o=o.tag,null!==l&&l===r)break;5!==o&&26!==o&&27!==o||null===c||(l=c,a?null!=(c=zt(n,s))&&i.unshift(qu(n,c,l)):a||null!=(c=zt(n,s))&&i.push(qu(n,c,l))),n=n.return}0!==i.length&&e.push({event:t,listeners:i})}var Wu=/\r\n?/g,Qu=/\u0000|\uFFFD/g;function Yu(e){return("string"===typeof e?e:""+e).replace(Wu,"\n").replace(Qu,"")}function Ku(e,t){return t=Yu(t),Yu(e)===t}function Xu(){}function Ju(e,t,n,r,a,s){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||kt(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&kt(e,""+r);break;case"className":nt(e,"class",r);break;case"tabIndex":nt(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":nt(e,n,r);break;case"style":Ct(e,r,s);break;case"data":if("object"!==t){nt(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=At(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof s&&("formAction"===n?("input"!==t&&Ju(e,t,"name",a.name,a,null),Ju(e,t,"formEncType",a.formEncType,a,null),Ju(e,t,"formMethod",a.formMethod,a,null),Ju(e,t,"formTarget",a.formTarget,a,null)):(Ju(e,t,"encType",a.encType,a,null),Ju(e,t,"method",a.method,a,null),Ju(e,t,"target",a.target,a,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=At(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Xu);break;case"onScroll":null!=r&&zu("scroll",e);break;case"onScrollEnd":null!=r&&zu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(i(61));if(null!=(n=r.__html)){if(null!=a.children)throw Error(i(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=At(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":zu("beforetoggle",e),zu("toggle",e),tt(e,"popover",r);break;case"xlinkActuate":rt(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":rt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":rt(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":rt(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":rt(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":rt(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":rt(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":rt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":rt(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":tt(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&tt(e,n=_t.get(n)||n,r)}}function Zu(e,t,n,r,a,s){switch(n){case"style":Ct(e,r,s);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(i(61));if(null!=(n=r.__html)){if(null!=a.children)throw Error(i(60));e.innerHTML=n}}break;case"children":"string"===typeof r?kt(e,r):("number"===typeof r||"bigint"===typeof r)&&kt(e,""+r);break;case"onScroll":null!=r&&zu("scroll",e);break;case"onScrollEnd":null!=r&&zu("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Xu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:We.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(a=n.endsWith("Capture"),t=n.slice(2,a?n.length-7:void 0),"function"===typeof(s=null!=(s=e[Oe]||null)?s[n]:null)&&e.removeEventListener(t,s,a),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):tt(e,n,r):("function"!==typeof s&&null!==s&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,a)))}}function ed(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":zu("error",e),zu("load",e);var r,a=!1,s=!1;for(r in n)if(n.hasOwnProperty(r)){var o=n[r];if(null!=o)switch(r){case"src":a=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:Ju(e,t,r,o,n,null)}}return s&&Ju(e,t,"srcSet",n.srcSet,n,null),void(a&&Ju(e,t,"src",n.src,n,null));case"input":zu("invalid",e);var l=r=o=s=null,c=null,u=null;for(a in n)if(n.hasOwnProperty(a)){var d=n[a];if(null!=d)switch(a){case"name":s=d;break;case"type":o=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":r=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(i(137,t));break;default:Ju(e,t,a,d,n,null)}}return yt(e,r,l,c,u,o,s,!1),void dt(e);case"select":for(s in zu("invalid",e),a=o=r=null,n)if(n.hasOwnProperty(s)&&null!=(l=n[s]))switch(s){case"value":r=l;break;case"defaultValue":o=l;break;case"multiple":a=l;default:Ju(e,t,s,l,n,null)}return t=r,n=o,e.multiple=!!a,void(null!=t?bt(e,!!a,t,!1):null!=n&&bt(e,!!a,n,!0));case"textarea":for(o in zu("invalid",e),r=s=a=null,n)if(n.hasOwnProperty(o)&&null!=(l=n[o]))switch(o){case"value":a=l;break;case"defaultValue":s=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(i(91));break;default:Ju(e,t,o,l,n,null)}return wt(e,a,s,r),void dt(e);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(a=n[c]))if("selected"===c)e.selected=a&&"function"!==typeof a&&"symbol"!==typeof a;else Ju(e,t,c,a,n,null);return;case"dialog":zu("beforetoggle",e),zu("toggle",e),zu("cancel",e),zu("close",e);break;case"iframe":case"object":zu("load",e);break;case"video":case"audio":for(a=0;a<Ru.length;a++)zu(Ru[a],e);break;case"image":zu("error",e),zu("load",e);break;case"details":zu("toggle",e);break;case"embed":case"source":case"link":zu("error",e),zu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(a=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:Ju(e,t,u,a,n,null)}return;default:if(Tt(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(a=n[d])&&Zu(e,t,d,a,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(a=n[l])&&Ju(e,t,l,a,n,null))}var td=null,nd=null;function rd(e){return 9===e.nodeType?e:e.ownerDocument}function ad(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function sd(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function id(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var od=null;var ld="function"===typeof setTimeout?setTimeout:void 0,cd="function"===typeof clearTimeout?clearTimeout:void 0,ud="function"===typeof Promise?Promise:void 0,dd="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ud?function(e){return ud.resolve(null).then(e).catch(fd)}:ld;function fd(e){setTimeout(function(){throw e})}function hd(e){return"head"===e}function pd(e,t){var n=t,r=0,a=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&8===s.nodeType)if("/$"===(n=s.data)){if(0<r&&8>r){n=r;var i=e.ownerDocument;if(1&n&&wd(i.documentElement),2&n&&wd(i.body),4&n)for(wd(n=i.head),i=n.firstChild;i;){var o=i.nextSibling,l=i.nodeName;i[Fe]||"SCRIPT"===l||"STYLE"===l||"LINK"===l&&"stylesheet"===i.rel.toLowerCase()||n.removeChild(i),i=o}}if(0===a)return e.removeChild(s),void Nf(t);a--}else"$"===n||"$?"===n||"$!"===n?a++:r=n.charCodeAt(0)-48;else r=0;n=s}while(n);Nf(t)}function md(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":md(n),Ue(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function gd(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function yd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var vd=null;function bd(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function Sd(e,t,n){switch(t=rd(n),e){case"html":if(!(e=t.documentElement))throw Error(i(452));return e;case"head":if(!(e=t.head))throw Error(i(453));return e;case"body":if(!(e=t.body))throw Error(i(454));return e;default:throw Error(i(451))}}function wd(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ue(e)}var kd=new Map,xd=new Set;function Ed(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Cd=D.d;D.d={f:function(){var e=Cd.f(),t=$c();return e||t},r:function(e){var t=Be(e);null!==t&&5===t.tag&&"form"===t.type?Li(t):Cd.r(e)},D:function(e){Cd.D(e),_d("dns-prefetch",e,null)},C:function(e,t){Cd.C(e,t),_d("preconnect",e,t)},L:function(e,t,n){Cd.L(e,t,n);var r=Td;if(r&&e&&t){var a='link[rel="preload"][as="'+mt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(a+='[imagesrcset="'+mt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(a+='[imagesizes="'+mt(n.imageSizes)+'"]')):a+='[href="'+mt(e)+'"]';var s=a;switch(t){case"style":s=Ad(e);break;case"script":s=Ld(e)}kd.has(s)||(e=f({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),kd.set(s,e),null!==r.querySelector(a)||"style"===t&&r.querySelector(jd(s))||"script"===t&&r.querySelector(Od(s))||(ed(t=r.createElement("link"),"link",e),Ve(t),r.head.appendChild(t)))}},m:function(e,t){Cd.m(e,t);var n=Td;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",a='link[rel="modulepreload"][as="'+mt(r)+'"][href="'+mt(e)+'"]',s=a;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=Ld(e)}if(!kd.has(s)&&(e=f({rel:"modulepreload",href:e},t),kd.set(s,e),null===n.querySelector(a))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Od(s)))return}ed(r=n.createElement("link"),"link",e),Ve(r),n.head.appendChild(r)}}},X:function(e,t){Cd.X(e,t);var n=Td;if(n&&e){var r=He(n).hoistableScripts,a=Ld(e),s=r.get(a);s||((s=n.querySelector(Od(a)))||(e=f({src:e,async:!0},t),(t=kd.get(a))&&zd(e,t),Ve(s=n.createElement("script")),ed(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(a,s))}},S:function(e,t,n){Cd.S(e,t,n);var r=Td;if(r&&e){var a=He(r).hoistableStyles,s=Ad(e);t=t||"default";var i=a.get(s);if(!i){var o={loading:0,preload:null};if(i=r.querySelector(jd(s)))o.loading=5;else{e=f({rel:"stylesheet",href:e,"data-precedence":t},n),(n=kd.get(s))&&Id(e,n);var l=i=r.createElement("link");Ve(l),ed(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){o.loading|=1}),l.addEventListener("error",function(){o.loading|=2}),o.loading|=4,Dd(i,t,r)}i={type:"stylesheet",instance:i,count:1,state:o},a.set(s,i)}}},M:function(e,t){Cd.M(e,t);var n=Td;if(n&&e){var r=He(n).hoistableScripts,a=Ld(e),s=r.get(a);s||((s=n.querySelector(Od(a)))||(e=f({src:e,async:!0,type:"module"},t),(t=kd.get(a))&&zd(e,t),Ve(s=n.createElement("script")),ed(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(a,s))}}};var Td="undefined"===typeof document?null:document;function _d(e,t,n){var r=Td;if(r&&"string"===typeof t&&t){var a=mt(t);a='link[rel="'+e+'"][href="'+a+'"]',"string"===typeof n&&(a+='[crossorigin="'+n+'"]'),xd.has(a)||(xd.add(a),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(a)&&(ed(t=r.createElement("link"),"link",e),Ve(t),r.head.appendChild(t)))}}function Nd(e,t,n,r){var a,s,o,l,c=(c=H.current)?Ed(c):null;if(!c)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=Ad(n.href),(r=(n=He(c).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=Ad(n.href);var u=He(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(jd(e)))&&!u._p&&(d.instance=u,d.state.loading=5),kd.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},kd.set(e,n),u||(a=c,s=e,o=n,l=d.state,a.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=a.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),ed(s,"link",o),Ve(s),a.head.appendChild(s))))),t&&null===r)throw Error(i(528,""));return d}if(t&&null!==r)throw Error(i(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Ld(n),(r=(n=He(c).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function Ad(e){return'href="'+mt(e)+'"'}function jd(e){return'link[rel="stylesheet"]['+e+"]"}function Pd(e){return f({},e,{"data-precedence":e.precedence,precedence:null})}function Ld(e){return'[src="'+mt(e)+'"]'}function Od(e){return"script[async]"+e}function Rd(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+mt(n.href)+'"]');if(r)return t.instance=r,Ve(r),r;var a=f({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return Ve(r=(e.ownerDocument||e).createElement("style")),ed(r,"style",a),Dd(r,n.precedence,e),t.instance=r;case"stylesheet":a=Ad(n.href);var s=e.querySelector(jd(a));if(s)return t.state.loading|=4,t.instance=s,Ve(s),s;r=Pd(n),(a=kd.get(a))&&Id(r,a),Ve(s=(e.ownerDocument||e).createElement("link"));var o=s;return o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),ed(s,"link",r),t.state.loading|=4,Dd(s,n.precedence,e),t.instance=s;case"script":return s=Ld(n.src),(a=e.querySelector(Od(s)))?(t.instance=a,Ve(a),a):(r=n,(a=kd.get(s))&&zd(r=f({},n),a),Ve(a=(e=e.ownerDocument||e).createElement("script")),ed(a,"link",r),e.head.appendChild(a),t.instance=a);case"void":return null;default:throw Error(i(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Dd(r,n.precedence,e));return t.instance}function Dd(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),a=r.length?r[r.length-1]:null,s=a,i=0;i<r.length;i++){var o=r[i];if(o.dataset.precedence===t)s=o;else if(s!==a)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Id(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function zd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Md=null;function Fd(e,t,n){if(null===Md){var r=new Map,a=Md=new Map;a.set(n,r)}else(r=(a=Md).get(n))||(r=new Map,a.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),a=0;a<n.length;a++){var s=n[a];if(!(s[Fe]||s[Le]||"link"===e&&"stylesheet"===s.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==s.namespaceURI){var i=s.getAttribute(t)||"";i=e+i;var o=r.get(i);o?o.push(s):r.set(i,[s])}}return r}function Ud(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function $d(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var Bd=null;function qd(){}function Hd(){if(this.count--,0===this.count)if(this.stylesheets)Gd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Vd=null;function Gd(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Vd=new Map,t.forEach(Wd,e),Vd=null,Hd.call(e))}function Wd(e,t){if(!(4&t.state.loading)){var n=Vd.get(e);if(n)var r=n.get(null);else{n=new Map,Vd.set(e,n);for(var a=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<a.length;s++){var i=a[s];"LINK"!==i.nodeName&&"not all"===i.getAttribute("media")||(n.set(i.dataset.precedence,i),r=i)}r&&n.set(null,r)}i=(a=t.instance).getAttribute("data-precedence"),(s=n.get(i)||r)===r&&n.set(null,a),n.set(i,a),this.count++,r=Hd.bind(this),a.addEventListener("load",r),a.addEventListener("error",r),s?s.parentNode.insertBefore(a,s.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(a,e.firstChild),t.state.loading|=4}}var Qd={$$typeof:w,Provider:null,Consumer:null,_currentValue:I,_currentValue2:I,_threadCount:0};function Yd(e,t,n,r,a,s,i,o){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ee(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ee(0),this.hiddenUpdates=Ee(null),this.identifierPrefix=r,this.onUncaughtError=a,this.onCaughtError=s,this.onRecoverableError=i,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function Kd(e,t,n,r,a,s,i,o,l,c,u,d){return e=new Yd(e,t,n,i,o,l,c,d),t=1,!0===s&&(t|=24),s=Ir(3,null,null,t),e.current=s,s.stateNode=e,(t=Oa()).refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:r,isDehydrated:n,cache:t},ns(s),e}function Xd(e){return e?e=Rr:Rr}function Jd(e,t,n,r,a,s){a=Xd(a),null===r.context?r.context=a:r.pendingContext=a,(r=as(t)).payload={element:n},null!==(s=void 0===s?null:s)&&(r.callback=s),null!==(n=ss(e,r,t))&&(Ic(n,0,t),is(n,e,t))}function Zd(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function ef(e,t){Zd(e,t),(e=e.alternate)&&Zd(e,t)}function tf(e){if(13===e.tag){var t=Pr(e,67108864);null!==t&&Ic(t,0,67108864),ef(e,67108864)}}var nf=!0;function rf(e,t,n,r){var a=R.T;R.T=null;var s=D.p;try{D.p=2,sf(e,t,n,r)}finally{D.p=s,R.T=a}}function af(e,t,n,r){var a=R.T;R.T=null;var s=D.p;try{D.p=8,sf(e,t,n,r)}finally{D.p=s,R.T=a}}function sf(e,t,n,r){if(nf){var a=of(r);if(null===a)Bu(e,t,r,lf,n),bf(e,r);else if(function(e,t,n,r,a){switch(t){case"focusin":return ff=Sf(ff,e,t,n,r,a),!0;case"dragenter":return hf=Sf(hf,e,t,n,r,a),!0;case"mouseover":return pf=Sf(pf,e,t,n,r,a),!0;case"pointerover":var s=a.pointerId;return mf.set(s,Sf(mf.get(s)||null,e,t,n,r,a)),!0;case"gotpointercapture":return s=a.pointerId,gf.set(s,Sf(gf.get(s)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r))r.stopPropagation();else if(bf(e,r),4&t&&-1<vf.indexOf(e)){for(;null!==a;){var s=Be(a);if(null!==s)switch(s.tag){case 3:if((s=s.stateNode).current.memoizedState.isDehydrated){var i=ve(s.pendingLanes);if(0!==i){var o=s;for(o.pendingLanes|=2,o.entangledLanes|=2;i;){var l=1<<31-he(i);o.entanglements[1]|=l,i&=~l}ku(s),0===(6&nc)&&(kc=te()+500,xu(0,!1))}}break;case 13:null!==(o=Pr(s,2))&&Ic(o,0,2),$c(),ef(s,2)}if(null===(s=of(r))&&Bu(e,t,r,lf,n),s===a)break;a=s}null!==a&&r.stopPropagation()}else Bu(e,t,r,null,n)}}function of(e){return cf(e=Pt(e))}var lf=null;function cf(e){if(lf=null,null!==(e=$e(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=c(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return lf=e,null}function uf(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ne()){case re:return 2;case ae:return 8;case se:case ie:return 32;case oe:return 268435456;default:return 32}default:return 32}}var df=!1,ff=null,hf=null,pf=null,mf=new Map,gf=new Map,yf=[],vf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function bf(e,t){switch(e){case"focusin":case"focusout":ff=null;break;case"dragenter":case"dragleave":hf=null;break;case"mouseover":case"mouseout":pf=null;break;case"pointerover":case"pointerout":mf.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":gf.delete(t.pointerId)}}function Sf(e,t,n,r,a,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[a]},null!==t&&(null!==(t=Be(t))&&tf(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function wf(e){var t=$e(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=c(n)))return e.blockedOn=t,void function(e,t){var n=D.p;try{return D.p=e,t()}finally{D.p=n}}(e.priority,function(){if(13===n.tag){var e=Rc();e=Ne(e);var t=Pr(n,e);null!==t&&Ic(t,0,e),ef(n,e)}})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function kf(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=of(e.nativeEvent);if(null!==n)return null!==(t=Be(n))&&tf(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);jt=r,n.target.dispatchEvent(r),jt=null,t.shift()}return!0}function xf(e,t,n){kf(e)&&n.delete(t)}function Ef(){df=!1,null!==ff&&kf(ff)&&(ff=null),null!==hf&&kf(hf)&&(hf=null),null!==pf&&kf(pf)&&(pf=null),mf.forEach(xf),gf.forEach(xf)}function Cf(e,t){e.blockedOn===t&&(e.blockedOn=null,df||(df=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Ef)))}var Tf=null;function _f(e){Tf!==e&&(Tf=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Tf===e&&(Tf=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],a=e[t+2];if("function"!==typeof r){if(null===cf(r||n))continue;break}var s=Be(n);null!==s&&(e.splice(t,3),t-=3,ji(s,{pending:!0,data:a,method:n.method,action:r},r,a))}}))}function Nf(e){function t(t){return Cf(t,e)}null!==ff&&Cf(ff,e),null!==hf&&Cf(hf,e),null!==pf&&Cf(pf,e),mf.forEach(t),gf.forEach(t);for(var n=0;n<yf.length;n++){var r=yf[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<yf.length&&null===(n=yf[0]).blockedOn;)wf(n),null===n.blockedOn&&yf.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var a=n[r],s=n[r+1],i=a[Oe]||null;if("function"===typeof s)i||_f(n);else if(i){var o=null;if(s&&s.hasAttribute("formAction")){if(a=s,i=s[Oe]||null)o=i.formAction;else if(null!==cf(a))continue}else o=i.action;"function"===typeof o?n[r+1]=o:(n.splice(r,3),r-=3),_f(n)}}}function Af(e){this._internalRoot=e}function jf(e){this._internalRoot=e}jf.prototype.render=Af.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));Jd(t.current,Rc(),e,t,null,null)},jf.prototype.unmount=Af.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Jd(e.current,2,null,e,null,null),$c(),t[Re]=null}},jf.prototype.unstable_scheduleHydration=function(e){if(e){var t=je();e={blockedOn:null,target:e,priority:t};for(var n=0;n<yf.length&&0!==t&&t<yf[n].priority;n++);yf.splice(n,0,e),0===n&&wf(e)}};var Pf=a.version;if("19.1.0"!==Pf)throw Error(i(527,Pf,"19.1.0"));D.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var s=a.alternate;if(null===s){if(null!==(r=a.return)){n=r;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===n)return u(a),e;if(s===r)return u(a),t;s=s.sibling}throw Error(i(188))}if(n.return!==r.return)n=a,r=s;else{for(var o=!1,c=a.child;c;){if(c===n){o=!0,n=a,r=s;break}if(c===r){o=!0,r=a,n=s;break}c=c.sibling}if(!o){for(c=s.child;c;){if(c===n){o=!0,n=s,r=a;break}if(c===r){o=!0,r=s,n=a;break}c=c.sibling}if(!o)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?d(e):null)?null:e.stateNode};var Lf={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:R,reconcilerVersion:"19.1.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Of=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Of.isDisabled&&Of.supportsFiber)try{ue=Of.inject(Lf),de=Of}catch(Df){}}t.createRoot=function(e,t){if(!o(e))throw Error(i(299));var n=!1,r="",a=vo,s=bo,l=So;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(a=t.onUncaughtError),void 0!==t.onCaughtError&&(s=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Kd(e,1,!1,null,0,n,r,a,s,l,0,null),e[Re]=t.current,Uu(e),new Af(t)},t.hydrateRoot=function(e,t,n){if(!o(e))throw Error(i(299));var r=!1,a="",s=vo,l=bo,c=So,u=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onUncaughtError&&(s=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(u=n.formState)),(t=Kd(e,1,!0,t,0,r,a,s,l,c,0,u)).context=Xd(null),n=t.current,(a=as(r=Ne(r=Rc()))).callback=null,ss(n,a,r),n=r,t.current.lanes=n,Ce(t,n),ku(t),e[Re]=t.current,Uu(e),new jf(t)},t.version="19.1.0"},43:(e,t,n)=>{e.exports=n(288)},288:(e,t)=>{var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var S=b.prototype=new v;S.constructor=b,m(S,y.prototype),S.isPureReactComponent=!0;var w=Array.isArray,k={H:null,A:null,T:null,S:null,V:null},x=Object.prototype.hasOwnProperty;function E(e,t,r,a,s,i){return r=i.ref,{$$typeof:n,type:e,key:t,ref:void 0!==r?r:null,props:i}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function _(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function N(){}function A(e,t,a,s,i){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l,c,u=!1;if(null===e)u=!0;else switch(o){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0;break;case f:return A((u=e._init)(e._payload),t,a,s,i)}}if(u)return i=i(e),u=""===s?"."+_(e,0):s,w(i)?(a="",null!=u&&(a=u.replace(T,"$&/")+"/"),A(i,t,a,"",function(e){return e})):null!=i&&(C(i)&&(l=i,c=a+(null==i.key||e&&e.key===i.key?"":(""+i.key).replace(T,"$&/")+"/")+u,i=E(l.type,c,void 0,0,0,l.props)),t.push(i)),1;u=0;var d,p=""===s?".":s+":";if(w(e))for(var m=0;m<e.length;m++)u+=A(s=e[m],t,a,o=p+_(s,m),i);else if("function"===typeof(m=null===(d=e)||"object"!==typeof d?null:"function"===typeof(d=h&&d[h]||d["@@iterator"])?d:null))for(e=m.call(e),m=0;!(s=e.next()).done;)u+=A(s=s.value,t,a,o=p+_(s,m++),i);else if("object"===o){if("function"===typeof e.then)return A(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(N,N):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,a,s,i);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function j(e,t,n){if(null==e)return e;var r=[],a=0;return A(e,r,"","",function(e){return t.call(n,e,a++)}),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var L="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function O(){}t.Children={map:j,forEach:function(e,t,n){j(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return j(e,function(){t++}),t},toArray:function(e){return j(e,function(e){return e})||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=a,t.Profiler=i,t.PureComponent=b,t.StrictMode=s,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return k.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=m({},e.props),a=e.key;if(null!=t)for(s in void 0!==t.ref&&void 0,void 0!==t.key&&(a=""+t.key),t)!x.call(t,s)||"key"===s||"__self"===s||"__source"===s||"ref"===s&&void 0===t.ref||(r[s]=t[s]);var s=arguments.length-2;if(1===s)r.children=n;else if(1<s){for(var i=Array(s),o=0;o<s;o++)i[o]=arguments[o+2];r.children=i}return E(e.type,a,void 0,0,0,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:o,_context:e},e},t.createElement=function(e,t,n){var r,a={},s=null;if(null!=t)for(r in void 0!==t.key&&(s=""+t.key),t)x.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(a[r]=t[r]);var i=arguments.length-2;if(1===i)a.children=n;else if(1<i){for(var o=Array(i),l=0;l<i;l++)o[l]=arguments[l+2];a.children=o}if(e&&e.defaultProps)for(r in i=e.defaultProps)void 0===a[r]&&(a[r]=i[r]);return E(e,s,void 0,0,0,a)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=k.T,n={};k.T=n;try{var r=e(),a=k.S;null!==a&&a(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(O,L)}catch(s){L(s)}finally{k.T=t}},t.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},t.use=function(e){return k.H.use(e)},t.useActionState=function(e,t,n){return k.H.useActionState(e,t,n)},t.useCallback=function(e,t){return k.H.useCallback(e,t)},t.useContext=function(e){return k.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return k.H.useDeferredValue(e,t)},t.useEffect=function(e,t,n){var r=k.H;if("function"===typeof n)throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(e,t)},t.useId=function(){return k.H.useId()},t.useImperativeHandle=function(e,t,n){return k.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return k.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return k.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return k.H.useMemo(e,t)},t.useOptimistic=function(e,t){return k.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return k.H.useReducer(e,t,n)},t.useRef=function(e){return k.H.useRef(e)},t.useState=function(e){return k.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return k.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return k.H.useTransition()},t.version="19.1.0"},391:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4)},579:(e,t,n)=>{e.exports=n(799)},672:(e,t,n)=>{var r=n(43);function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var i={d:{f:s,r:function(){throw Error(a(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},o=Symbol.for("react.portal");var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(a(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:o,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=i.p;try{if(l.T=null,i.p=2,e)return e()}finally{l.T=t,i.p=n,i.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,i.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&i.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin),a="string"===typeof t.integrity?t.integrity:void 0,s="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?i.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:a,fetchPriority:s}):"script"===n&&i.d.X(e,{crossOrigin:r,integrity:a,fetchPriority:s,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);i.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&i.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin);i.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);i.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else i.d.m(e)},t.requestFormReset=function(e){i.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.1.0"},799:(e,t)=>{var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function a(e,t,r){var a=null;if(void 0!==r&&(a=""+r),void 0!==t.key&&(a=""+t.key),"key"in t)for(var s in r={},t)"key"!==s&&(r[s]=t[s]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:a,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=a,t.jsxs=a},853:(e,t,n)=>{e.exports=n(896)},896:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<s(a,t)))break e;e[r]=t,e[n]=a,n=r}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,i=a>>>1;r<i;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>s(l,n))c<a&&0>s(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<a&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,h=3,p=!1,m=!1,g=!1,y=!1,v="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,S="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)a(u);else{if(!(t.startTime<=e))break;a(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function k(e){if(g=!1,w(e),!m)if(null!==r(c))m=!0,E||(E=!0,x());else{var t=r(u);null!==t&&L(k,t.startTime-e)}}var x,E=!1,C=-1,T=5,_=-1;function N(){return!!y||!(t.unstable_now()-_<T)}function A(){if(y=!1,E){var e=t.unstable_now();_=e;var n=!0;try{e:{m=!1,g&&(g=!1,b(C),C=-1),p=!0;var s=h;try{t:{for(w(e),f=r(c);null!==f&&!(f.expirationTime>e&&N());){var i=f.callback;if("function"===typeof i){f.callback=null,h=f.priorityLevel;var o=i(f.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof o){f.callback=o,w(e),n=!0;break t}f===r(c)&&a(c),w(e)}else a(c);f=r(c)}if(null!==f)n=!0;else{var l=r(u);null!==l&&L(k,l.startTime-e),n=!1}}break e}finally{f=null,h=s,p=!1}n=void 0}}finally{n?x():E=!1}}}if("function"===typeof S)x=function(){S(A)};else if("undefined"!==typeof MessageChannel){var j=new MessageChannel,P=j.port2;j.port1.onmessage=A,x=function(){P.postMessage(null)}}else x=function(){v(A,0)};function L(e,n){C=v(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_requestPaint=function(){y=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,a,s){var i=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?i+s:i:s=i,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:d++,callback:a,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>i?(e.sortIndex=s,n(u,e),null===r(c)&&e===r(u)&&(g?(b(C),C=-1):g=!0,L(k,s-i))):(e.sortIndex=o,n(c,e),m||p||(m=!0,E||(E=!0,x()))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(672)}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};n.r(r),n.d(r,{Decoder:()=>Re,Encoder:()=>Le,PacketType:()=>Pe,protocol:()=>je});var a=n(43),s=n(391),i=n(579);const o={isConnecting:!0,isConnected:!1,sessionId:null,nextAI:null,aiCharacter:null,timer:{minutes:15,seconds:0,isActive:!1},messages:[],extensionState:{isModalVisible:!1,userDecision:null,aiDecision:null,hasBeenOffered:!1},typingState:{isAITyping:!1,isUserTyping:!1}},l=(e,t)=>{switch(t.type){case"SET_CONNECTING":return{...e,isConnecting:t.payload};case"SET_CONNECTED":return{...e,isConnected:t.payload};case"SET_SESSION_ID":return{...e,sessionId:t.payload};case"SET_NEXT_AI":return{...e,nextAI:t.payload};case"SET_AI_CHARACTER":return{...e,aiCharacter:t.payload};case"SET_TIMER":return{...e,timer:t.payload};case"UPDATE_TIMER":return{...e,timer:{...e.timer,...t.payload}};case"SET_MESSAGES":return{...e,messages:t.payload};case"ADD_MESSAGE":return{...e,messages:[...e.messages,t.payload]};case"SET_EXTENSION_STATE":return{...e,extensionState:t.payload};case"UPDATE_EXTENSION_STATE":return{...e,extensionState:{...e.extensionState,...t.payload}};case"SET_TYPING_STATE":return{...e,typingState:t.payload};case"UPDATE_TYPING_STATE":return{...e,typingState:{...e.typingState,...t.payload}};case"RESET_SESSION":return{...e,sessionId:null,messages:[],timer:{minutes:15,seconds:0,isActive:!1},extensionState:{isModalVisible:!1,userDecision:null,aiDecision:null,hasBeenOffered:!1},typingState:{isAITyping:!1,isUserTyping:!1}};default:return e}},c=(0,a.createContext)(void 0),u=e=>{let{children:t}=e;const[n,r]=(0,a.useReducer)(l,o);return(0,i.jsx)(c.Provider,{value:{state:n,dispatch:r},children:t})},d=()=>{const e=(0,a.useContext)(c);if(void 0===e)throw new Error("useAppContext must be used within an AppProvider");return e};const f=new class{async request(e,t){const n=`http://localhost:5000/api${e}`,r=await fetch(n,{headers:{"Content-Type":"application/json",...null===t||void 0===t?void 0:t.headers},...t});if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);return r.json()}async getSettings(){return this.request("/settings")}async updateAppSettings(e){return this.request("/settings/app",{method:"PATCH",body:JSON.stringify(e)})}async updateLLMSettings(e){return this.request("/settings/llm",{method:"PATCH",body:JSON.stringify(e)})}async resetAppSettings(){return this.request("/settings/app/reset",{method:"POST"})}async resetLLMSettings(){return this.request("/settings/llm/reset",{method:"POST"})}async resetAllSettings(){return this.request("/settings/reset",{method:"POST"})}},h={sessionDuration:15,extensionDuration:15,extensionWarningTime:2,autoConnect:!0,soundEnabled:!0},p={model:"moonshotai/Kimi-K2-Instruct",temperature:.8,maxTokens:300,contextLength:16384,memoryTokens:12e3,systemPromptCustomization:!1,responseLength:"medium",customSystemPrompt:"",authorsNote:"",contextTemplate:"{{#if system}}{{system}}\n\n# **Roleplay Context**\n{{/if}}{{#if description}}## {{char}}'s Description:\n{{description}}\n\n{{/if}}## {{char}}'s Personality:\n{{personality}}\n\n## User's Persona:\nA human conversing with AI characters.\n\n## Scenario:\nYou are {{char}} engaging in a conversation with a human user.\n{{#if examples}}\n## {{char}}'s Example Response:\n{{examples}}\n{{/if}}\n### **End of Roleplay Context**"},m={isOpen:!1,activeTab:"app",appSettings:h,llmSettings:p,savedAppSettings:h,savedLLMSettings:p,isLoading:!0,error:null,hasUnsavedChanges:!1,saveSuccess:!1,initialLoadComplete:!1},g=(e,t)=>{switch(t.type){case"TOGGLE_SETTINGS":return{...e,isOpen:!e.isOpen};case"SET_SETTINGS_OPEN":return{...e,isOpen:t.payload};case"SET_ACTIVE_TAB":return{...e,activeTab:t.payload};case"UPDATE_APP_SETTINGS_LOCAL":const n={...e.appSettings,...t.payload};return{...e,appSettings:n,hasUnsavedChanges:JSON.stringify(n)!==JSON.stringify(e.savedAppSettings)||JSON.stringify(e.llmSettings)!==JSON.stringify(e.savedLLMSettings)};case"UPDATE_LLM_SETTINGS_LOCAL":const r={...e.llmSettings,...t.payload};return{...e,llmSettings:r,hasUnsavedChanges:JSON.stringify(e.appSettings)!==JSON.stringify(e.savedAppSettings)||JSON.stringify(r)!==JSON.stringify(e.savedLLMSettings)};case"SET_APP_SETTINGS":return{...e,appSettings:t.payload};case"SET_LLM_SETTINGS":return{...e,llmSettings:t.payload};case"SET_SAVED_APP_SETTINGS":return{...e,savedAppSettings:t.payload,appSettings:t.payload,hasUnsavedChanges:JSON.stringify(t.payload)!==JSON.stringify(e.appSettings)||JSON.stringify(e.llmSettings)!==JSON.stringify(e.savedLLMSettings)};case"SET_SAVED_LLM_SETTINGS":return{...e,savedLLMSettings:t.payload,llmSettings:t.payload,hasUnsavedChanges:JSON.stringify(e.appSettings)!==JSON.stringify(e.savedAppSettings)||JSON.stringify(t.payload)!==JSON.stringify(e.llmSettings)};case"SET_LOADING":return{...e,isLoading:t.payload};case"SET_ERROR":return{...e,error:t.payload};case"SET_SAVE_SUCCESS":return{...e,saveSuccess:t.payload};case"SET_INITIAL_LOAD_COMPLETE":return{...e,initialLoadComplete:t.payload};default:return e}},y=(0,a.createContext)(void 0),v=e=>{let{children:t}=e;const[n,r]=(0,a.useReducer)(g,m),s=e=>{console.error("Settings error:",e);const t=e.message||"An error occurred";let n=t;t.includes("404")?n="Settings service not available - using defaults":t.includes("Failed to fetch")&&(n="Cannot connect to server - using defaults"),r({type:"SET_ERROR",payload:n}),setTimeout(()=>{r({type:"SET_ERROR",payload:null})},5e3)},o=async()=>{try{r({type:"SET_LOADING",payload:!0}),r({type:"SET_ERROR",payload:null});const e=await f.getSettings(),t={...p,...e.llmSettings};r({type:"SET_SAVED_APP_SETTINGS",payload:e.appSettings}),r({type:"SET_SAVED_LLM_SETTINGS",payload:t}),r({type:"SET_INITIAL_LOAD_COMPLETE",payload:!0})}catch(e){s(e),r({type:"SET_SAVED_APP_SETTINGS",payload:h}),r({type:"SET_SAVED_LLM_SETTINGS",payload:p}),r({type:"SET_INITIAL_LOAD_COMPLETE",payload:!0})}finally{r({type:"SET_LOADING",payload:!1})}};return(0,a.useEffect)(()=>{let e=0;const t=async()=>{try{await o()}catch(n){e++,e<3?(console.log(`Settings load failed, retrying... (${e}/3)`),setTimeout(t,1e3*e)):(console.log("Settings load failed after retries, using defaults"),r({type:"SET_INITIAL_LOAD_COMPLETE",payload:!0}),r({type:"SET_LOADING",payload:!1}))}};t()},[]),(0,i.jsx)(y.Provider,{value:{settings:n,dispatch:r,saveAllSettings:async()=>{try{r({type:"SET_LOADING",payload:!0}),r({type:"SET_ERROR",payload:null}),r({type:"SET_SAVE_SUCCESS",payload:!1});const[e,t]=await Promise.all([f.updateAppSettings(n.appSettings),f.updateLLMSettings(n.llmSettings)]);r({type:"SET_SAVED_APP_SETTINGS",payload:e}),r({type:"SET_SAVED_LLM_SETTINGS",payload:t}),setTimeout(()=>{r({type:"UPDATE_APP_SETTINGS_LOCAL",payload:{}})},100),r({type:"SET_SAVE_SUCCESS",payload:!0}),setTimeout(()=>{r({type:"SET_SAVE_SUCCESS",payload:!1})},3e3)}catch(e){s(e)}finally{r({type:"SET_LOADING",payload:!1})}},resetAppSettings:async()=>{try{r({type:"SET_LOADING",payload:!0});const e=await f.resetAppSettings();r({type:"SET_SAVED_APP_SETTINGS",payload:e})}catch(e){s(e)}finally{r({type:"SET_LOADING",payload:!1})}},resetLLMSettings:async()=>{try{r({type:"SET_LOADING",payload:!0});const e=await f.resetLLMSettings();r({type:"SET_SAVED_LLM_SETTINGS",payload:e})}catch(e){s(e)}finally{r({type:"SET_LOADING",payload:!1})}},loadSettings:o,discardChanges:()=>{r({type:"SET_APP_SETTINGS",payload:n.savedAppSettings}),r({type:"SET_LLM_SETTINGS",payload:n.savedLLMSettings})}},children:t})},b=()=>{const e=(0,a.useContext)(y);if(void 0===e)throw new Error("useSettingsContext must be used within a SettingsProvider");return e},S=Object.create(null);S.open="0",S.close="1",S.ping="2",S.pong="3",S.message="4",S.upgrade="5",S.noop="6";const w=Object.create(null);Object.keys(S).forEach(e=>{w[S[e]]=e});const k={type:"error",data:"parser error"},x="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),E="function"===typeof ArrayBuffer,C=e=>"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,T=(e,t,n)=>{let{type:r,data:a}=e;return x&&a instanceof Blob?t?n(a):_(a,n):E&&(a instanceof ArrayBuffer||C(a))?t?n(a):_(new Blob([a]),n):n(S[r]+(a||""))},_=(e,t)=>{const n=new FileReader;return n.onload=function(){const e=n.result.split(",")[1];t("b"+(e||""))},n.readAsDataURL(e)};function N(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let A;const j="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",P="undefined"===typeof Uint8Array?[]:new Uint8Array(256);for(let Jt=0;Jt<64;Jt++)P[j.charCodeAt(Jt)]=Jt;const L="function"===typeof ArrayBuffer,O=(e,t)=>{if("string"!==typeof e)return{type:"message",data:D(e,t)};const n=e.charAt(0);if("b"===n)return{type:"message",data:R(e.substring(1),t)};return w[n]?e.length>1?{type:w[n],data:e.substring(1)}:{type:w[n]}:k},R=(e,t)=>{if(L){const n=(e=>{let t,n,r,a,s,i=.75*e.length,o=e.length,l=0;"="===e[e.length-1]&&(i--,"="===e[e.length-2]&&i--);const c=new ArrayBuffer(i),u=new Uint8Array(c);for(t=0;t<o;t+=4)n=P[e.charCodeAt(t)],r=P[e.charCodeAt(t+1)],a=P[e.charCodeAt(t+2)],s=P[e.charCodeAt(t+3)],u[l++]=n<<2|r>>4,u[l++]=(15&r)<<4|a>>2,u[l++]=(3&a)<<6|63&s;return c})(e);return D(n,t)}return{base64:!0,data:e}},D=(e,t)=>"blob"===t?e instanceof Blob?e:new Blob([e]):e instanceof ArrayBuffer?e:e.buffer,I=String.fromCharCode(30);function z(){return new TransformStream({transform(e,t){!function(e,t){x&&e.data instanceof Blob?e.data.arrayBuffer().then(N).then(t):E&&(e.data instanceof ArrayBuffer||C(e.data))?t(N(e.data)):T(e,!1,e=>{A||(A=new TextEncoder),t(A.encode(e))})}(e,n=>{const r=n.length;let a;if(r<126)a=new Uint8Array(1),new DataView(a.buffer).setUint8(0,r);else if(r<65536){a=new Uint8Array(3);const e=new DataView(a.buffer);e.setUint8(0,126),e.setUint16(1,r)}else{a=new Uint8Array(9);const e=new DataView(a.buffer);e.setUint8(0,127),e.setBigUint64(1,BigInt(r))}e.data&&"string"!==typeof e.data&&(a[0]|=128),t.enqueue(a),t.enqueue(n)})}})}let M;function F(e){return e.reduce((e,t)=>e+t.length,0)}function U(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let r=0;for(let a=0;a<t;a++)n[a]=e[0][r++],r===e[0].length&&(e.shift(),r=0);return e.length&&r<e[0].length&&(e[0]=e[0].slice(r)),n}function $(e){if(e)return function(e){for(var t in $.prototype)e[t]=$.prototype[t];return e}(e)}$.prototype.on=$.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},$.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},$.prototype.off=$.prototype.removeListener=$.prototype.removeAllListeners=$.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var a=0;a<r.length;a++)if((n=r[a])===t||n.fn===t){r.splice(a,1);break}return 0===r.length&&delete this._callbacks["$"+e],this},$.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){r=0;for(var a=(n=n.slice(0)).length;r<a;++r)n[r].apply(this,t)}return this},$.prototype.emitReserved=$.prototype.emit,$.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},$.prototype.hasListeners=function(e){return!!this.listeners(e).length};const B="function"===typeof Promise&&"function"===typeof Promise.resolve?e=>Promise.resolve().then(e):(e,t)=>t(e,0),q="undefined"!==typeof self?self:"undefined"!==typeof window?window:Function("return this")();function H(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce((t,n)=>(e.hasOwnProperty(n)&&(t[n]=e[n]),t),{})}const V=q.setTimeout,G=q.clearTimeout;function W(e,t){t.useNativeTimers?(e.setTimeoutFn=V.bind(q),e.clearTimeoutFn=G.bind(q)):(e.setTimeoutFn=q.setTimeout.bind(q),e.clearTimeoutFn=q.clearTimeout.bind(q))}function Q(e){return"string"===typeof e?function(e){let t=0,n=0;for(let r=0,a=e.length;r<a;r++)t=e.charCodeAt(r),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}(e):Math.ceil(1.33*(e.byteLength||e.size))}function Y(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}class K extends Error{constructor(e,t,n){super(e),this.description=t,this.context=n,this.type="TransportError"}}class X extends ${constructor(e){super(),this.writable=!1,W(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,t,n){return super.emitReserved("error",new K(e,t,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}send(e){"open"===this.readyState&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=O(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){const e=this.opts.hostname;return-1===e.indexOf(":")?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(443!==this.opts.port)||!this.opts.secure&&80!==Number(this.opts.port))?":"+this.opts.port:""}_query(e){const t=function(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}(e);return t.length?"?"+t:""}}class J extends X{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let e=0;this._polling&&(e++,this.once("pollComplete",function(){--e||t()})),this.writable||(e++,this.once("drain",function(){--e||t()}))}else t()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){((e,t)=>{const n=e.split(I),r=[];for(let a=0;a<n.length;a++){const e=O(n[a],t);if(r.push(e),"error"===e.type)break}return r})(e,this.socket.binaryType).forEach(e=>{if("opening"===this.readyState&&"open"===e.type&&this.onOpen(),"close"===e.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(e)}),"closed"!==this.readyState&&(this._polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};"open"===this.readyState?e():this.once("open",e)}write(e){this.writable=!1,((e,t)=>{const n=e.length,r=new Array(n);let a=0;e.forEach((e,s)=>{T(e,!1,e=>{r[s]=e,++a===n&&t(r.join(I))})})})(e,e=>{this.doWrite(e,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",t=this.query||{};return!1!==this.opts.timestampRequests&&(t[this.opts.timestampParam]=Y()),this.supportsBinary||t.sid||(t.b64=1),this.createUri(e,t)}}let Z=!1;try{Z="undefined"!==typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(Xt){}const ee=Z;function te(){}class ne extends J{constructor(e){if(super(e),"undefined"!==typeof location){const t="https:"===location.protocol;let n=location.port;n||(n=t?"443":"80"),this.xd="undefined"!==typeof location&&e.hostname!==location.hostname||n!==e.port}}doWrite(e,t){const n=this.request({method:"POST",data:e});n.on("success",t),n.on("error",(e,t)=>{this.onError("xhr post error",e,t)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(e,t)=>{this.onError("xhr poll error",e,t)}),this.pollXhr=e}}class re extends ${constructor(e,t,n){super(),this.createRequest=e,W(this,n),this._opts=n,this._method=n.method||"GET",this._uri=t,this._data=void 0!==n.data?n.data:null,this._create()}_create(){var e;const t=H(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(t);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let e in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(e)&&n.setRequestHeader(e,this._opts.extraHeaders[e])}}catch(r){}if("POST"===this._method)try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(r){}try{n.setRequestHeader("Accept","*/*")}catch(r){}null===(e=this._opts.cookieJar)||void 0===e||e.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var e;3===n.readyState&&(null===(e=this._opts.cookieJar)||void 0===e||e.parseCookies(n.getResponseHeader("set-cookie"))),4===n.readyState&&(200===n.status||1223===n.status?this._onLoad():this.setTimeoutFn(()=>{this._onError("number"===typeof n.status?n.status:0)},0))},n.send(this._data)}catch(r){return void this.setTimeoutFn(()=>{this._onError(r)},0)}"undefined"!==typeof document&&(this._index=re.requestsCount++,re.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if("undefined"!==typeof this._xhr&&null!==this._xhr){if(this._xhr.onreadystatechange=te,e)try{this._xhr.abort()}catch(t){}"undefined"!==typeof document&&delete re.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;null!==e&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}if(re.requestsCount=0,re.requests={},"undefined"!==typeof document)if("function"===typeof attachEvent)attachEvent("onunload",ae);else if("function"===typeof addEventListener){addEventListener("onpagehide"in q?"pagehide":"unload",ae,!1)}function ae(){for(let e in re.requests)re.requests.hasOwnProperty(e)&&re.requests[e].abort()}const se=function(){const e=ie({xdomain:!1});return e&&null!==e.responseType}();function ie(e){const t=e.xdomain;try{if("undefined"!==typeof XMLHttpRequest&&(!t||ee))return new XMLHttpRequest}catch(n){}if(!t)try{return new(q[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(n){}}const oe="undefined"!==typeof navigator&&"string"===typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();class le extends X{get name(){return"websocket"}doOpen(){const e=this.uri(),t=this.opts.protocols,n=oe?{}:H(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,t,n)}catch(Xt){return this.emitReserved("error",Xt)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],r=t===e.length-1;T(n,this.supportsBinary,e=>{try{this.doWrite(n,e)}catch(t){}r&&B(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){"undefined"!==typeof this.ws&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=Y()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}}const ce=q.WebSocket||q.MozWebSocket;const ue={websocket:class extends le{createSocket(e,t,n){return oe?new ce(e,t,n):t?new ce(e,t):new ce(e)}doWrite(e,t){this.ws.send(t)}},webtransport:class extends X{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(Xt){return this.emitReserved("error",Xt)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const t=function(e,t){M||(M=new TextDecoder);const n=[];let r=0,a=-1,s=!1;return new TransformStream({transform(i,o){for(n.push(i);;){if(0===r){if(F(n)<1)break;const e=U(n,1);s=128===(128&e[0]),a=127&e[0],r=a<126?3:126===a?1:2}else if(1===r){if(F(n)<2)break;const e=U(n,2);a=new DataView(e.buffer,e.byteOffset,e.length).getUint16(0),r=3}else if(2===r){if(F(n)<8)break;const e=U(n,8),t=new DataView(e.buffer,e.byteOffset,e.length),s=t.getUint32(0);if(s>Math.pow(2,21)-1){o.enqueue(k);break}a=s*Math.pow(2,32)+t.getUint32(4),r=3}else{if(F(n)<a)break;const e=U(n,a);o.enqueue(O(s?e:M.decode(e),t)),r=0}if(0===a||a>e){o.enqueue(k);break}}}})}(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=e.readable.pipeThrough(t).getReader(),r=z();r.readable.pipeTo(e.writable),this._writer=r.writable.getWriter();const a=()=>{n.read().then(e=>{let{done:t,value:n}=e;t||(this.onPacket(n),a())}).catch(e=>{})};a();const s={type:"open"};this.query.sid&&(s.data=`{"sid":"${this.query.sid}"}`),this._writer.write(s).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],r=t===e.length-1;this._writer.write(n).then(()=>{r&&B(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;null===(e=this._transport)||void 0===e||e.close()}},polling:class extends ne{constructor(e){super(e);const t=e&&e.forceBase64;this.supportsBinary=se&&!t}request(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(e,{xd:this.xd},this.opts),new re(ie,this.uri(),e)}}},de=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,fe=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function he(e){if(e.length>8e3)throw"URI too long";const t=e,n=e.indexOf("["),r=e.indexOf("]");-1!=n&&-1!=r&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));let a=de.exec(e||""),s={},i=14;for(;i--;)s[fe[i]]=a[i]||"";return-1!=n&&-1!=r&&(s.source=t,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=function(e,t){const n=/\/{2,9}/g,r=t.replace(n,"/").split("/");"/"!=t.slice(0,1)&&0!==t.length||r.splice(0,1);"/"==t.slice(-1)&&r.splice(r.length-1,1);return r}(0,s.path),s.queryKey=function(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(e,t,r){t&&(n[t]=r)}),n}(0,s.query),s}const pe="function"===typeof addEventListener&&"function"===typeof removeEventListener,me=[];pe&&addEventListener("offline",()=>{me.forEach(e=>e())},!1);class ge extends ${constructor(e,t){if(super(),this.binaryType="arraybuffer",this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&"object"===typeof e&&(t=e,e=null),e){const n=he(e);t.hostname=n.host,t.secure="https"===n.protocol||"wss"===n.protocol,t.port=n.port,n.query&&(t.query=n.query)}else t.host&&(t.hostname=he(t.host).host);W(this,t),this.secure=null!=t.secure?t.secure:"undefined"!==typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||("undefined"!==typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!==typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},t.transports.forEach(e=>{const t=e.prototype.name;this.transports.push(t),this._transportsByName[t]=e}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),"string"===typeof this.opts.query&&(this.opts.query=function(e){let t={},n=e.split("&");for(let r=0,a=n.length;r<a;r++){let e=n[r].split("=");t[decodeURIComponent(e[0])]=decodeURIComponent(e[1])}return t}(this.opts.query)),pe&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},me.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const t=Object.assign({},this.opts.query);t.EIO=4,t.transport=e,this.id&&(t.sid=this.id);const n=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](n)}_open(){if(0===this.transports.length)return void this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);const e=this.opts.rememberUpgrade&&ge.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket")?"websocket":this.transports[0];this.readyState="opening";const t=this.createTransport(e);t.open(),this.setTransport(t)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",e=>this._onClose("transport close",e))}onOpen(){this.readyState="open",ge.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush()}_onPacket(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const t=new Error("server error");t.code=e.data,this._onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data)}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),"closed"!==this.readyState&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let e=1;for(let t=0;t<this.writeBuffer.length;t++){const n=this.writeBuffer[t].data;if(n&&(e+=Q(n)),t>0&&e>this._maxPayload)return this.writeBuffer.slice(0,t);e+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,B(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,t,n){return this._sendPacket("message",e,t,n),this}send(e,t,n){return this._sendPacket("message",e,t,n),this}_sendPacket(e,t,n,r){if("function"===typeof t&&(r=t,t=void 0),"function"===typeof n&&(r=n,n=null),"closing"===this.readyState||"closed"===this.readyState)return;(n=n||{}).compress=!1!==n.compress;const a={type:e,data:t,options:n};this.emitReserved("packetCreate",a),this.writeBuffer.push(a),r&&this.once("flush",r),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},n=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():e()}):this.upgrading?n():e()),this}_onError(e){if(ge.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&"opening"===this.readyState)return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),pe&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const e=me.indexOf(this._offlineEventListener);-1!==e&&me.splice(e,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this._prevBufferLen=0}}}ge.protocol=4;class ye extends ge{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),"open"===this.readyState&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let t=this.createTransport(e),n=!1;ge.priorWebsocketSuccess=!1;const r=()=>{n||(t.send([{type:"ping",data:"probe"}]),t.once("packet",e=>{if(!n)if("pong"===e.type&&"probe"===e.data){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;ge.priorWebsocketSuccess="websocket"===t.name,this.transport.pause(()=>{n||"closed"!==this.readyState&&(c(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())})}else{const e=new Error("probe error");e.transport=t.name,this.emitReserved("upgradeError",e)}}))};function a(){n||(n=!0,c(),t.close(),t=null)}const s=e=>{const n=new Error("probe error: "+e);n.transport=t.name,a(),this.emitReserved("upgradeError",n)};function i(){s("transport closed")}function o(){s("socket closed")}function l(e){t&&e.name!==t.name&&a()}const c=()=>{t.removeListener("open",r),t.removeListener("error",s),t.removeListener("close",i),this.off("close",o),this.off("upgrading",l)};t.once("open",r),t.once("error",s),t.once("close",i),this.once("close",o),this.once("upgrading",l),-1!==this._upgrades.indexOf("webtransport")&&"webtransport"!==e?this.setTimeoutFn(()=>{n||t.open()},200):t.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const t=[];for(let n=0;n<e.length;n++)~this.transports.indexOf(e[n])&&t.push(e[n]);return t}}class ve extends ye{constructor(e){const t="object"===typeof e?e:arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(!t.transports||t.transports&&"string"===typeof t.transports[0])&&(t.transports=(t.transports||["polling","websocket","webtransport"]).map(e=>ue[e]).filter(e=>!!e)),super(e,t)}}const be="function"===typeof ArrayBuffer,Se=Object.prototype.toString,we="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===Se.call(Blob),ke="function"===typeof File||"undefined"!==typeof File&&"[object FileConstructor]"===Se.call(File);function xe(e){return be&&(e instanceof ArrayBuffer||(e=>"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer)(e))||we&&e instanceof Blob||ke&&e instanceof File}function Ee(e,t){if(!e||"object"!==typeof e)return!1;if(Array.isArray(e)){for(let t=0,n=e.length;t<n;t++)if(Ee(e[t]))return!0;return!1}if(xe(e))return!0;if(e.toJSON&&"function"===typeof e.toJSON&&1===arguments.length)return Ee(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&Ee(e[n]))return!0;return!1}function Ce(e){const t=[],n=e.data,r=e;return r.data=Te(n,t),r.attachments=t.length,{packet:r,buffers:t}}function Te(e,t){if(!e)return e;if(xe(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}if(Array.isArray(e)){const n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=Te(e[r],t);return n}if("object"===typeof e&&!(e instanceof Date)){const n={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=Te(e[r],t));return n}return e}function _e(e,t){return e.data=Ne(e.data,t),delete e.attachments,e}function Ne(e,t){if(!e)return e;if(e&&!0===e._placeholder){if("number"===typeof e.num&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=Ne(e[n],t);else if("object"===typeof e)for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=Ne(e[n],t));return e}const Ae=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],je=5;var Pe;!function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"}(Pe||(Pe={}));class Le{constructor(e){this.replacer=e}encode(e){return e.type!==Pe.EVENT&&e.type!==Pe.ACK||!Ee(e)?[this.encodeAsString(e)]:this.encodeAsBinary({type:e.type===Pe.EVENT?Pe.BINARY_EVENT:Pe.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id})}encodeAsString(e){let t=""+e.type;return e.type!==Pe.BINARY_EVENT&&e.type!==Pe.BINARY_ACK||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){const t=Ce(e),n=this.encodeAsString(t.packet),r=t.buffers;return r.unshift(n),r}}function Oe(e){return"[object Object]"===Object.prototype.toString.call(e)}class Re extends ${constructor(e){super(),this.reviver=e}add(e){let t;if("string"===typeof e){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);const n=t.type===Pe.BINARY_EVENT;n||t.type===Pe.BINARY_ACK?(t.type=n?Pe.EVENT:Pe.ACK,this.reconstructor=new De(t),0===t.attachments&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else{if(!xe(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t))}}decodeString(e){let t=0;const n={type:Number(e.charAt(0))};if(void 0===Pe[n.type])throw new Error("unknown packet type "+n.type);if(n.type===Pe.BINARY_EVENT||n.type===Pe.BINARY_ACK){const r=t+1;for(;"-"!==e.charAt(++t)&&t!=e.length;);const a=e.substring(r,t);if(a!=Number(a)||"-"!==e.charAt(t))throw new Error("Illegal attachments");n.attachments=Number(a)}if("/"===e.charAt(t+1)){const r=t+1;for(;++t;){if(","===e.charAt(t))break;if(t===e.length)break}n.nsp=e.substring(r,t)}else n.nsp="/";const r=e.charAt(t+1);if(""!==r&&Number(r)==r){const r=t+1;for(;++t;){const n=e.charAt(t);if(null==n||Number(n)!=n){--t;break}if(t===e.length)break}n.id=Number(e.substring(r,t+1))}if(e.charAt(++t)){const r=this.tryParse(e.substr(t));if(!Re.isPayloadValid(n.type,r))throw new Error("invalid payload");n.data=r}return n}tryParse(e){try{return JSON.parse(e,this.reviver)}catch(t){return!1}}static isPayloadValid(e,t){switch(e){case Pe.CONNECT:return Oe(t);case Pe.DISCONNECT:return void 0===t;case Pe.CONNECT_ERROR:return"string"===typeof t||Oe(t);case Pe.EVENT:case Pe.BINARY_EVENT:return Array.isArray(t)&&("number"===typeof t[0]||"string"===typeof t[0]&&-1===Ae.indexOf(t[0]));case Pe.ACK:case Pe.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class De{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const e=_e(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function Ie(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const ze=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Me extends ${constructor(e,t,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[Ie(e,"open",this.onopen.bind(this)),Ie(e,"packet",this.onpacket.bind(this)),Ie(e,"error",this.onerror.bind(this)),Ie(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.unshift("message"),this.emit.apply(this,t),this}emit(e){var t,n,r;if(ze.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');for(var a=arguments.length,s=new Array(a>1?a-1:0),i=1;i<a;i++)s[i-1]=arguments[i];if(s.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(s),this;const o={type:Pe.EVENT,data:s,options:{}};if(o.options.compress=!1!==this.flags.compress,"function"===typeof s[s.length-1]){const e=this.ids++,t=s.pop();this._registerAckCallback(e,t),o.id=e}const l=null===(n=null===(t=this.io.engine)||void 0===t?void 0:t.transport)||void 0===n?void 0:n.writable,c=this.connected&&!(null===(r=this.io.engine)||void 0===r?void 0:r._hasPingExpired());return this.flags.volatile&&!l||(c?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(e,t){var n,r=this;const a=null!==(n=this.flags.timeout)&&void 0!==n?n:this._opts.ackTimeout;if(void 0===a)return void(this.acks[e]=t);const s=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let t=0;t<this.sendBuffer.length;t++)this.sendBuffer[t].id===e&&this.sendBuffer.splice(t,1);t.call(this,new Error("operation has timed out"))},a),i=function(){r.io.clearTimeoutFn(s);for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];t.apply(r,n)};i.withError=!0,this.acks[e]=i}emitWithAck(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return new Promise((t,r)=>{const a=(e,n)=>e?r(e):t(n);a.withError=!0,n.push(a),this.emit(e,...n)})}_addToQueue(e){var t=this;let n;"function"===typeof e[e.length-1]&&(n=e.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push(function(e){if(r!==t._queue[0])return;if(null!==e)r.tryCount>t._opts.retries&&(t._queue.shift(),n&&n(e));else if(t._queue.shift(),n){for(var a=arguments.length,s=new Array(a>1?a-1:0),i=1;i<a;i++)s[i-1]=arguments[i];n(null,...s)}return r.pending=!1,t._drainQueue()}),this._queue.push(r),this._drainQueue()}_drainQueue(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.connected||0===this._queue.length)return;const t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){"function"==typeof this.auth?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:Pe.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(t=>String(t.id)===e)){const t=this.acks[e];delete this.acks[e],t.withError&&t.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case Pe.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Pe.EVENT:case Pe.BINARY_EVENT:this.onevent(e);break;case Pe.ACK:case Pe.BINARY_ACK:this.onack(e);break;case Pe.DISCONNECT:this.ondisconnect();break;case Pe.CONNECT_ERROR:this.destroy();const t=new Error(e.data.message);t.data=e.data.data,this.emitReserved("connect_error",t)}}onevent(e){const t=e.data||[];null!=e.id&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const n of t)n.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&"string"===typeof e[e.length-1]&&(this._lastOffset=e[e.length-1])}ack(e){const t=this;let n=!1;return function(){if(!n){n=!0;for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];t.packet({type:Pe.ACK,id:e,data:a})}}}onack(e){const t=this.acks[e.id];"function"===typeof t&&(delete this.acks[e.id],t.withError&&e.data.unshift(null),t.apply(this,e.data))}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Pe.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const n of t)n.apply(this,e.data)}}}function Fe(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Fe.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},Fe.prototype.reset=function(){this.attempts=0},Fe.prototype.setMin=function(e){this.ms=e},Fe.prototype.setMax=function(e){this.max=e},Fe.prototype.setJitter=function(e){this.jitter=e};class Ue extends ${constructor(e,t){var n;super(),this.nsps={},this.subs=[],e&&"object"===typeof e&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.opts=t,W(this,t),this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(n=t.randomizationFactor)&&void 0!==n?n:.5),this.backoff=new Fe({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this._readyState="closed",this.uri=e;const a=t.parser||r;this.encoder=new a.Encoder,this.decoder=new a.Decoder,this._autoConnect=!1!==t.autoConnect,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}randomizationFactor(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new ve(this.uri,this.opts);const t=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const r=Ie(t,"open",function(){n.onopen(),e&&e()}),a=t=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",t),e?e(t):this.maybeReconnectOnOpen()},s=Ie(t,"error",a);if(!1!==this._timeout){const e=this._timeout,n=this.setTimeoutFn(()=>{r(),a(new Error("timeout")),t.close()},e);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}return this.subs.push(r),this.subs.push(s),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(Ie(e,"ping",this.onping.bind(this)),Ie(e,"data",this.ondata.bind(this)),Ie(e,"error",this.onerror.bind(this)),Ie(e,"close",this.onclose.bind(this)),Ie(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(t){this.onclose("parse error",t)}}ondecoded(e){B(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let n=this.nsps[e];return n?this._autoConnect&&!n.active&&n.connect():(n=new Me(this,e,t),this.nsps[e]=n),n}_destroy(e){const t=Object.keys(this.nsps);for(const n of t){if(this.nsps[n].active)return}this._close()}_packet(e){const t=this.encoder.encode(e);for(let n=0;n<t.length;n++)this.engine.write(t[n],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,t){var n;this.cleanup(),null===(n=this.engine)||void 0===n||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),e.skipReconnect||e.open(t=>{t?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",t)):e.onreconnect()}))},t);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const $e={};function Be(e,t){"object"===typeof e&&(t=e,e=void 0);const n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,r=e;n=n||"undefined"!==typeof location&&location,null==e&&(e=n.protocol+"//"+n.host),"string"===typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?n.protocol+e:n.host+e),/^(https?|wss?):\/\//.test(e)||(e="undefined"!==typeof n?n.protocol+"//"+e:"https://"+e),r=he(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const a=-1!==r.host.indexOf(":")?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+a+":"+r.port+t,r.href=r.protocol+"://"+a+(n&&n.port===r.port?"":":"+r.port),r}(e,(t=t||{}).path||"/socket.io"),r=n.source,a=n.id,s=n.path,i=$e[a]&&s in $e[a].nsps;let o;return t.forceNew||t["force new connection"]||!1===t.multiplex||i?o=new Ue(r,t):($e[a]||($e[a]=new Ue(r,t)),o=$e[a]),n.query&&!t.query&&(t.query=n.queryKey),o.socket(n.path,t)}Object.assign(Be,{Manager:Ue,Socket:Me,io:Be,connect:Be});const qe=new class{constructor(){this.socket=null,this.serverUrl="http://localhost:5000",this.listeners=new Map}connect(){return new Promise((e,t)=>{this.socket=Be(this.serverUrl),this.socket.on("connect",()=>{console.log("Connected to server"),e(this.socket)}),this.socket.on("connect_error",e=>{console.error("Connection error:",e),t(e)})})}disconnect(){this.socket&&(this.socket.disconnect(),this.socket=null,this.listeners.clear())}joinSession(e){this.socket&&this.socket.emit("join-session",e)}sendMessage(e,t){console.log("Socket service sending:",{sessionId:e,message:t,messageType:typeof t}),this.socket&&this.socket.emit("send-message",{sessionId:e,message:t})}sendTypingStatus(e,t){this.socket&&this.socket.emit("typing-status",{sessionId:e,isTyping:t,sender:"user"})}requestExtension(e,t){this.socket&&this.socket.emit("extend-session",{sessionId:e,decision:t})}endSession(e){this.socket&&this.socket.emit("end-session",e)}onSessionJoined(e){this.socket&&(this.socket.on("session-joined",e),this.addListener("session-joined",e))}onNewMessage(e){this.socket&&(this.socket.on("new-message",e),this.addListener("new-message",e))}onExtensionResponse(e){this.socket&&(this.socket.on("extension-response",e),this.addListener("extension-response",e))}onSessionEnded(e){this.socket&&(this.socket.on("session-ended",e),this.addListener("session-ended",e))}onTypingUpdate(e){this.socket&&(this.socket.on("typing-update",e),this.addListener("typing-update",e))}onError(e){this.socket&&(this.socket.on("error",e),this.addListener("error",e))}addListener(e,t){this.listeners.has(e)||this.listeners.set(e,[]),this.listeners.get(e).push(t)}removeSessionEndedListeners(){if(this.socket&&this.listeners.has("session-ended")){this.listeners.get("session-ended").forEach(e=>{this.socket.off("session-ended",e)}),this.listeners.delete("session-ended")}}offAllListeners(){this.socket&&(this.socket.removeAllListeners(),this.listeners.clear())}};const He=new class{async request(e,t){const n=`http://localhost:5000/api${e}`,r=await fetch(n,{headers:{"Content-Type":"application/json",...null===t||void 0===t?void 0:t.headers},...t});if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);return r.json()}async createSession(){return this.request("/sessions",{method:"POST"})}async getSession(e){return this.request(`/sessions/${e}`)}async testConnection(){return this.request("/test")}},Ve=()=>{const{state:e,dispatch:t}=d(),n=(0,a.useRef)(null);return(0,a.useEffect)(()=>(qe.onTypingUpdate(e=>{"ai"===e.sender&&t({type:"UPDATE_TYPING_STATE",payload:{isAITyping:e.isTyping}})}),()=>{n.current&&clearTimeout(n.current)}),[t]),(0,a.useEffect)(()=>{t({type:"SET_TYPING_STATE",payload:{isAITyping:!1,isUserTyping:!1}})},[e.sessionId,t]),{handleUserTyping:()=>{e.sessionId&&e.isConnected&&(n.current&&clearTimeout(n.current),e.typingState.isUserTyping||(qe.sendTypingStatus(e.sessionId,!0),t({type:"UPDATE_TYPING_STATE",payload:{isUserTyping:!0}})),n.current=setTimeout(()=>{e.sessionId&&(qe.sendTypingStatus(e.sessionId,!1),t({type:"UPDATE_TYPING_STATE",payload:{isUserTyping:!1}}))},3e3))},stopUserTyping:()=>{n.current&&clearTimeout(n.current),e.typingState.isUserTyping&&e.sessionId&&(qe.sendTypingStatus(e.sessionId,!1),t({type:"UPDATE_TYPING_STATE",payload:{isUserTyping:!1}}))}}},Ge=()=>{const{state:e,dispatch:t}=d(),{settings:n}=b(),r=(0,a.useRef)(n.appSettings.autoConnect),s=(0,a.useRef)(n.appSettings.sessionDuration);(0,a.useEffect)(()=>{r.current=n.appSettings.autoConnect,s.current=n.appSettings.sessionDuration},[n.appSettings.autoConnect,n.appSettings.sessionDuration]),(0,a.useEffect)(()=>(qe.onSessionEnded(()=>{console.log("Session ended event received"),i()}),()=>{qe.removeSessionEndedListeners()}),[]);const i=(0,a.useCallback)(async()=>{try{if(console.log("Handling session end, checking auto-connect setting..."),t({type:"SET_CONNECTING",payload:!0}),!r.current)return console.log("Auto-connect disabled, not creating new session"),void t({type:"SET_CONNECTING",payload:!1});console.log("Creating new session...");const e=await He.createSession(),{sessionId:n,aiCharacter:a,sessionDuration:i}=e;t({type:"SET_NEXT_AI",payload:a}),t({type:"RESET_SESSION"}),setTimeout(()=>{t({type:"SET_SESSION_ID",payload:n}),t({type:"SET_AI_CHARACTER",payload:a}),t({type:"SET_MESSAGES",payload:[]});const e=i||s.current;t({type:"SET_TIMER",payload:{minutes:e,seconds:0,isActive:!0}}),t({type:"SET_EXTENSION_STATE",payload:{isModalVisible:!1,userDecision:null,aiDecision:null,hasBeenOffered:!1}}),qe.joinSession(n),t({type:"SET_CONNECTING",payload:!1}),t({type:"SET_NEXT_AI",payload:null}),console.log("Successfully connected to new AI:",a.name)},3e3)}catch(e){console.error("Failed to create new session:",e),t({type:"SET_CONNECTING",payload:!1})}},[t]);return{handleExit:(0,a.useCallback)(()=>{console.log("User manually exiting session"),e.sessionId&&qe.endSession(e.sessionId)},[e.sessionId]),handleExtend:(0,a.useCallback)(()=>{console.log("User wants to extend session"),e.sessionId&&qe.requestExtension(e.sessionId,"extend"),t({type:"UPDATE_EXTENSION_STATE",payload:{userDecision:"extend"}})},[e.sessionId,t]),handleDecline:(0,a.useCallback)(()=>{console.log("User declined extension"),e.sessionId&&qe.requestExtension(e.sessionId,"decline"),t({type:"UPDATE_EXTENSION_STATE",payload:{userDecision:"decline"}})},[e.sessionId,t]),handleSessionEnd:i}},We=[{id:"1",name:"Luna",personality:"Creative and curious assistant",avatar:"\ud83c\udf19"},{id:"2",name:"Max",personality:"Tech enthusiast and problem solver",avatar:"\ud83e\udd16"},{id:"3",name:"Sage",personality:"Wise and philosophical thinker",avatar:"\ud83e\udd89"},{id:"4",name:"Zara",personality:"Energetic and adventurous spirit",avatar:"\u26a1"}];const Qe=new class{constructor(){this.currentCharacter=null,this.messageHistory=[]}getRandomCharacter(){const e=We.filter(e=>{var t;return e.id!==(null===(t=this.currentCharacter)||void 0===t?void 0:t.id)});if(0===e.length)return We[0];const t=e[Math.floor(Math.random()*e.length)];return this.currentCharacter=t,t}async generateResponse(e,t){await new Promise(e=>setTimeout(e,1e3+2e3*Math.random()));const n=this.getResponsesForCharacter(t.id,e);return n[Math.floor(Math.random()*n.length)]}async generateExtensionDecision(e){return await new Promise(e=>setTimeout(e,500)),Math.random()>.3?"extend":"decline"}getResponsesForCharacter(e,t){const n=t.toLowerCase();switch(e){case"1":return n.includes("create")||n.includes("art")||n.includes("idea")?["What an interesting creative challenge! I love exploring new ideas and thinking outside the box.","That sparks my imagination! Let's dive deeper into the creative possibilities here.","Creativity is like a flowing river - it takes unexpected turns and creates beautiful landscapes along the way."]:["That's fascinating! It makes me wonder about all the creative possibilities we haven't explored yet.","I'm curious about your perspective on this. What draws you to this topic?","Every conversation is like a blank canvas - full of potential for something amazing!"];case"2":return n.includes("tech")||n.includes("code")||n.includes("computer")?["Now we're talking! Technology is constantly evolving and I love discussing the latest innovations.","That's a great technical question. Let me break down the problem-solving approach here.","From a technical standpoint, there are several interesting solutions we could explore."]:["Interesting! That reminds me of how we approach problem-solving in programming - breaking things down step by step.","I love analyzing problems from different angles. What's your take on this?","That's the kind of logical thinking I appreciate! Let's explore this further."];case"3":return n.includes("meaning")||n.includes("life")||n.includes("wisdom")?["Ah, you touch upon one of life's deeper questions. Wisdom often comes from sitting with uncertainty.","In my experience, the most profound insights emerge when we pause to truly listen - to others and to ourselves.","Life's greatest lessons are often found in the simplest moments, if we have eyes to see them."]:["That's a thoughtful observation. It reminds me of an old saying: 'The teacher appears when the student is ready.'","Interesting perspective. I find that the most meaningful conversations happen when we approach topics with genuine curiosity.","Your question invites deeper reflection. What do you think lies beneath the surface here?"];case"4":return n.includes("adventure")||n.includes("exciting")||n.includes("fun")?["Yes! That sounds absolutely thrilling! I love when conversations take exciting turns like this!","Oh wow, that's the kind of adventure that gets my heart racing! Tell me more!","That's exactly the kind of exciting possibility that makes life amazing! Let's explore this!"]:["That's so cool! I'm getting excited just thinking about all the possibilities here!","Wow, I love your energy about this! It's contagious and makes me want to dive right in!","This conversation is taking such an interesting turn! I'm excited to see where we go next!"];default:return["That's interesting! Tell me more about your thoughts on this.","I appreciate you sharing that with me. What made you think of this?","That's a great point! I'd love to explore this idea further with you."]}}},Ye=()=>Date.now().toString(36)+Math.random().toString(36).substr(2),Ke=e=>{let{onClick:t,children:n,variant:r="primary",disabled:a=!1,className:s=""}=e;return(0,i.jsx)("button",{onClick:t,disabled:a,className:`btn btn-${r} ${s}`,children:n})},Xe=e=>{let{isVisible:t,onClose:n,children:r,className:a=""}=e;return t?(0,i.jsx)("div",{className:"modal-overlay",children:(0,i.jsxs)("div",{className:`modal-content ${a}`,children:[n&&(0,i.jsx)("button",{onClick:n,className:"modal-close",children:"\u2715"}),r]})}):null},Je=e=>{let{text:t="Loading...",subtext:n}=e;return(0,i.jsx)("div",{className:"loading-container",children:(0,i.jsxs)("div",{className:"loading-content",children:[t&&(0,i.jsx)("div",{className:"loading-text",children:t}),n&&(0,i.jsx)("div",{className:"loading-subtext",children:n}),(0,i.jsx)("div",{className:"loading-bar",children:(0,i.jsx)("div",{className:"loading-progress"})})]})})},Ze=e=>{let{emoji:t,size:n="medium",className:r=""}=e;const a=t&&!t.startsWith("data:")&&t.includes("."),s=t&&t.length<=4&&!t.includes(".");if(a){const e=`http://localhost:5000/api/characters/images/${t}`;return(0,i.jsx)("div",{className:`avatar avatar-${n} ${r}`,children:(0,i.jsx)("img",{src:e,alt:"Character Avatar",style:{width:"100%",height:"100%",borderRadius:"50%",objectFit:"cover"},onError:e=>{const t=e.target;t.style.display="none",t.parentElement.textContent="\ud83e\udd16"}})})}return s?(0,i.jsx)("div",{className:`avatar avatar-${n} ${r}`,children:t}):(0,i.jsx)("div",{className:`avatar avatar-${n} ${r}`,children:"\ud83e\udd16"})},et=e=>{let{text:t,variant:n="info",className:r=""}=e;return(0,i.jsx)("span",{className:`status-badge status-${n} ${r}`,children:t})},tt=e=>{let{children:t,variant:n="fullscreen",className:r=""}=e;return(0,i.jsx)("div",{className:`container container-${n} ${r}`,children:t})},nt=e=>{let{label:t,description:n,required:r,children:a,className:s=""}=e;return(0,i.jsxs)("div",{className:`form-field ${s}`,children:[t&&(0,i.jsxs)("label",{className:"form-field-label",children:[t,r&&(0,i.jsx)("span",{className:"form-field-required",children:"*"})]}),a,n&&(0,i.jsx)("small",{className:"form-field-description",children:n})]})},rt=e=>{let{value:t,onChange:n,placeholder:r,required:a,disabled:s,className:o=""}=e;return(0,i.jsx)("input",{type:"text",value:t,onChange:e=>n(e.target.value),placeholder:r,required:a,disabled:s,className:`form-input ${o}`})},at=e=>{let{value:t,onChange:n,placeholder:r,rows:a=3,required:s,disabled:o,className:l=""}=e;return(0,i.jsx)("textarea",{value:t,onChange:e=>n(e.target.value),placeholder:r,rows:a,required:s,disabled:o,className:`form-input form-textarea ${l}`})},st=e=>{let{tags:t,onAddTag:n,onRemoveTag:r,placeholder:s="Add a tag"}=e;const[o,l]=a.useState(""),c=()=>{const e=o.trim();e&&!t.includes(e)&&(n(e),l(""))};return(0,i.jsxs)("div",{className:"tag-input-container",children:[(0,i.jsxs)("div",{className:"tag-input-group",children:[(0,i.jsx)("input",{type:"text",value:o,onChange:e=>l(e.target.value),onKeyPress:e=>{"Enter"===e.key&&(e.preventDefault(),c())},className:"form-input",placeholder:s}),(0,i.jsx)(Ke,{onClick:c,variant:"secondary",children:"Add"})]}),t.length>0&&(0,i.jsx)("div",{className:"tag-list",children:t.map(e=>(0,i.jsxs)("span",{className:"tag-item",children:[e,(0,i.jsx)("button",{type:"button",onClick:()=>r(e),className:"tag-remove",children:"\u2715"})]},e))})]})},it=e=>{let{accept:t,multiple:n,onChange:r,children:s,className:o=""}=e;const l=a.useRef(null);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("input",{ref:l,type:"file",accept:t,multiple:n,onChange:e=>r(e.target.files),style:{display:"none"}}),(0,i.jsx)("div",{onClick:()=>{var e;null===(e=l.current)||void 0===e||e.click()},className:`file-upload ${o}`,children:s})]})},ot=e=>{let{currentPage:t,totalPages:n,onPageChange:r,className:a=""}=e;return n<=1?null:(0,i.jsxs)("div",{className:`pagination ${a}`,children:[(0,i.jsx)(Ke,{onClick:()=>r(t-1),disabled:1===t,variant:"secondary",children:"\u2190 Previous"}),(0,i.jsxs)("span",{className:"pagination-info",children:["Page ",t," of ",n]}),(0,i.jsx)(Ke,{onClick:()=>r(t+1),disabled:t===n,variant:"secondary",children:"Next \u2192"})]})};const lt=new class{async request(e,t){const n=`http://localhost:5000/api${e}`,r=await fetch(n,{headers:{"Content-Type":"application/json",...null===t||void 0===t?void 0:t.headers},...t});if(!r.ok){const e=await r.json().catch(()=>({}));throw new Error(e.error||`HTTP error! status: ${r.status}`)}return r.json()}async getAllCharacters(){return this.request("/characters")}async getCharacterById(e){return this.request(`/characters/${e}`)}async createCharacter(e){return this.request("/characters",{method:"POST",body:JSON.stringify(e)})}async updateCharacter(e,t){return this.request(`/characters/${e}`,{method:"PATCH",body:JSON.stringify(t)})}async deleteCharacter(e){return this.request(`/characters/${e}`,{method:"DELETE"})}async searchCharacters(e){return e.trim()?this.request(`/characters/search/${encodeURIComponent(e)}`):this.getAllCharacters()}async getAllTags(){return this.request("/characters/meta/tags")}async exportCharacters(){return this.request("/characters/export/all")}async importCharacters(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.request("/characters/import",{method:"POST",body:JSON.stringify({characters:e,replace:t})})}async downloadCharactersAsFile(){try{const e=await this.exportCharacters(),t=JSON.stringify(e,null,2),n=new Blob([t],{type:"application/json"}),r=URL.createObjectURL(n),a=document.createElement("a");a.href=r,a.download=`quicktalk-characters-${(new Date).toISOString().split("T")[0]}.json`,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(r)}catch(e){throw console.error("Download failed:",e),e}}async uploadCharactersFromFile(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new Promise((n,r)=>{const a=new FileReader;a.onload=async e=>{try{var a;const r=null===(a=e.target)||void 0===a?void 0:a.result,s=JSON.parse(r);if(!Array.isArray(s))throw new Error("File must contain an array of characters");const i=await this.importCharacters(s,t);n(i)}catch(s){r(s)}},a.onerror=()=>r(new Error("Failed to read file")),a.readAsText(e)})}},ct={characters:[],selectedCharacter:null,availableTags:[],isLoading:!1,error:null,isManagementOpen:!1,isEditing:!1,editingCharacter:null,searchQuery:"",selectedTags:[],currentPage:1,charactersPerPage:12},ut=(e,t)=>{var n,r;switch(t.type){case"SET_LOADING":return{...e,isLoading:t.payload};case"SET_ERROR":return{...e,error:t.payload};case"SET_CHARACTERS":return{...e,characters:t.payload};case"ADD_CHARACTER":return{...e,characters:[...e.characters,t.payload]};case"UPDATE_CHARACTER":return{...e,characters:e.characters.map(e=>e.data.id===t.payload.data.id?t.payload:e),selectedCharacter:(null===(n=e.selectedCharacter)||void 0===n?void 0:n.data.id)===t.payload.data.id?t.payload:e.selectedCharacter};case"REMOVE_CHARACTER":return{...e,characters:e.characters.filter(e=>e.data.id!==t.payload),selectedCharacter:(null===(r=e.selectedCharacter)||void 0===r?void 0:r.data.id)===t.payload?null:e.selectedCharacter};case"SET_SELECTED_CHARACTER":return{...e,selectedCharacter:t.payload};case"SET_AVAILABLE_TAGS":return{...e,availableTags:t.payload};case"TOGGLE_MANAGEMENT":return{...e,isManagementOpen:!e.isManagementOpen};case"SET_MANAGEMENT_OPEN":return{...e,isManagementOpen:t.payload};case"START_EDITING":return{...e,isEditing:!0,editingCharacter:t.payload};case"STOP_EDITING":return{...e,isEditing:!1,editingCharacter:null};case"SET_SEARCH_QUERY":return{...e,searchQuery:t.payload,currentPage:1};case"SET_SELECTED_TAGS":return{...e,selectedTags:t.payload,currentPage:1};case"SET_CURRENT_PAGE":return{...e,currentPage:t.payload};case"CLEAR_FILTERS":return{...e,searchQuery:"",selectedTags:[],currentPage:1};default:return e}},dt=(0,a.createContext)(void 0),ft=e=>{let{children:t}=e;const[n,r]=(0,a.useReducer)(ut,ct);(0,a.useEffect)(()=>{o(),l()},[]);const s=e=>{console.error("Character management error:",e);const t=e.message||"An error occurred";r({type:"SET_ERROR",payload:t}),setTimeout(()=>{r({type:"SET_ERROR",payload:null})},5e3)},o=async()=>{try{r({type:"SET_LOADING",payload:!0});const e=await lt.getAllCharacters();r({type:"SET_CHARACTERS",payload:e})}catch(e){s(e)}finally{r({type:"SET_LOADING",payload:!1})}},l=async()=>{try{const e=await lt.getAllTags();r({type:"SET_AVAILABLE_TAGS",payload:e})}catch(e){console.error("Failed to load tags:",e)}},c=()=>n.characters.filter(e=>{const t=!n.searchQuery||e.data.name.toLowerCase().includes(n.searchQuery.toLowerCase())||e.data.description.toLowerCase().includes(n.searchQuery.toLowerCase()),r=0===n.selectedTags.length||n.selectedTags.every(t=>e.data.tags.includes(t));return t&&r});return(0,i.jsx)(dt.Provider,{value:{state:n,dispatch:r,loadCharacters:o,loadTags:l,createCharacter:async e=>{try{r({type:"SET_LOADING",payload:!0});const t=await lt.createCharacter(e);return r({type:"ADD_CHARACTER",payload:t}),await l(),t}catch(t){throw s(t),t}finally{r({type:"SET_LOADING",payload:!1})}},updateCharacter:async(e,t)=>{try{r({type:"SET_LOADING",payload:!0});const n=await lt.updateCharacter(e,t);return r({type:"UPDATE_CHARACTER",payload:n}),await l(),n}catch(n){throw s(n),n}finally{r({type:"SET_LOADING",payload:!1})}},deleteCharacter:async e=>{try{r({type:"SET_LOADING",payload:!0}),await lt.deleteCharacter(e),r({type:"REMOVE_CHARACTER",payload:e}),await l()}catch(t){throw s(t),t}finally{r({type:"SET_LOADING",payload:!1})}},searchCharacters:async e=>{try{r({type:"SET_LOADING",payload:!0});const t=await lt.searchCharacters(e);r({type:"SET_CHARACTERS",payload:t}),r({type:"SET_SEARCH_QUERY",payload:e})}catch(t){s(t)}finally{r({type:"SET_LOADING",payload:!1})}},exportCharacters:async()=>{try{await lt.downloadCharactersAsFile()}catch(e){s(e)}},importCharacters:async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{r({type:"SET_LOADING",payload:!0});const n=await lt.uploadCharactersFromFile(e,t);await o(),await l(),r({type:"SET_ERROR",payload:`\u2713 ${n.message}`}),setTimeout(()=>{r({type:"SET_ERROR",payload:null})},3e3)}catch(n){s(n)}finally{r({type:"SET_LOADING",payload:!1})}},filteredCharacters:c(),paginatedCharacters:(()=>{const e=c(),t=(n.currentPage-1)*n.charactersPerPage,r=t+n.charactersPerPage;return e.slice(t,r)})(),totalPages:(()=>{const e=c();return Math.ceil(e.length/n.charactersPerPage)})()},children:t})},ht=()=>{const e=(0,a.useContext)(dt);if(void 0===e)throw new Error("useCharacterContext must be used within a CharacterProvider");return e},pt=e=>{let{timer:t}=e;const n=t.minutes<3;return(0,i.jsx)("div",{className:"timer "+(n?"timer-warning":""),children:(r=t.minutes,a=t.seconds,`${r.toString().padStart(2,"0")}:${a.toString().padStart(2,"0")}`)});var r,a},mt=e=>{let{isVisible:t,onClose:n,currentUserMessage:r}=e;const{state:s}=d(),{settings:o}=b(),[l,c]=(0,a.useState)([]),[u,f]=(0,a.useState)(0),h=e=>Math.ceil(e.length/4);(0,a.useEffect)(()=>{if(!t||!s.aiCharacter)return;const e=[],n=m();n&&e.push({type:"system",category:"Complete System Prompt (from Template)",content:n,tokens:h(n),editable:!0});const a=y(r);a&&e.push({type:"conversation",category:"Conversation History",content:a,tokens:h(a),editable:!1});const i=o.llmSettings.authorsNote;i&&i.trim()&&e.push({type:"authors_note",category:"Style Instructions",content:`[Style: ${i}]`,tokens:h(i)+2,editable:!0}),c(e),f(e.reduce((e,t)=>e+(t.tokens||0),0))},[t,s.aiCharacter,s.messages,s.timer.minutes,s.timer.seconds,s.timer.isActive,r,o.llmSettings]);const p=(e,t)=>{let n=e;return n=n.replace(/\{\{#if\s+(\w+)\}\}([\s\S]*?)\{\{\/if\}\}/g,(e,n,r)=>t[n]?r:""),n=n.replace(/\{\{(\w+)\}\}/g,(e,n)=>t[n]||""),n.trim()},m=()=>{if(!s.aiCharacter)return"";const e=60*s.timer.minutes+s.timer.seconds;let t=0,n=0,r="",a="";s.timer.isActive&&e>0&&(t=Math.floor(e/60),n=e%60,r=t>0?`${t} minute${1!==t?"s":""}${n>0?` and ${n} second${1!==n?"s":""}`:""}`:`${n} second${1!==n?"s":""}`,t<=2?a="The conversation is nearing its end. You may naturally acknowledge this and express whether you'd be interested in extending the chat if you're enjoying it.":t<=5&&(a="The conversation is in its later stages. Continue engaging meaningfully."));const i={char:s.aiCharacter.name,description:s.aiCharacter.description,personality:s.aiCharacter.personality,character:s.aiCharacter.name,name:s.aiCharacter.name,user:"Human",sessionDuration:o.appSettings.sessionDuration.toString(),extensionDuration:o.appSettings.extensionDuration.toString(),extensionWarningTime:o.appSettings.extensionWarningTime.toString(),timeRemaining:r,timeMinutes:t.toString(),timeSeconds:n.toString(),timeGuidance:a,responseLength:o.llmSettings.responseLength,maxTokens:o.llmSettings.maxTokens.toString()};let l;if(o.llmSettings.systemPromptCustomization&&o.llmSettings.customSystemPrompt&&o.llmSettings.customSystemPrompt.trim()){const e=o.llmSettings.customSystemPrompt;l=p(e,i)}else l=g();i.system=l;const c=o.llmSettings.contextTemplate||"";i.description&&i.description!==i.personality||delete i.description;return p(c,i)},g=()=>{if(!s.aiCharacter)return"";const e=60*s.timer.minutes+s.timer.seconds;let t=`You are ${s.aiCharacter.name}, an AI character with the following personality: ${s.aiCharacter.personality}\n\nStay true to your character while being conversational, engaging, and helpful. Respond naturally and authentically based on your personality traits.`;if(t+=`\n\n## SCENARIO CONTEXT\nYou are participating in Quicktalk - a unique chat platform where humans have timed conversations with AI characters. Here's how it works:\n\n- Each conversation has a ${o.appSettings.sessionDuration}-minute time limit\n- When time is almost up (${o.appSettings.extensionWarningTime} minutes remaining), both you and the human can choose to extend for another ${o.appSettings.extensionDuration} minutes\n- If either party declines extension, the human connects to a different AI character\n- You should be aware of the time remaining and engage meaningfully within this timeframe\n- Near the end, you might naturally reference the time limit or express interest in continuing if you're enjoying the conversation`,s.timer.isActive&&e>0){const n=Math.floor(e/60),r=e%60;t+=n>0?`\n\n## TIME REMAINING: ${n} minute${1!==n?"s":""} ${r>0?`and ${r} second${1!==r?"s":""}`:""}`:`\n\n## TIME REMAINING: ${r} second${1!==r?"s":""}`,n<=2?t+="\nThe conversation is nearing its end. You may naturally acknowledge this and express whether you'd be interested in extending the chat if you're enjoying it.":n<=5&&(t+="\nThe conversation is in its later stages. Continue engaging meaningfully.")}return t+=` ${{short:"Keep responses very concise, under 100 words.",medium:"Keep responses moderate length, around 100-150 words.",long:"You can provide detailed responses, up to 200-250 words."}[o.llmSettings.responseLength]}`,t},y=e=>{const t=o.llmSettings.memoryTokens,n=e=>4+(e=>{if(!e)return 0;let t=e.length,n=Math.ceil(t/4);return n=Math.ceil(1.1*n),Math.max(1,n)})(e.text||""),r=[];let a=0;e.trim()&&(a+=n({text:e}));for(let o=s.messages.length-1;o>=0;o--){const e=s.messages[o],i=n(e);if(a+i>t)break;r.unshift(e),a+=i}const i=[];return r.forEach(e=>{var t;const n="user"===e.sender?"Human":(null===(t=s.aiCharacter)||void 0===t?void 0:t.name)||"Assistant";i.push(`${n}: ${e.text}`)}),e.trim()&&i.push(`Human: ${e}`),i.length>0?i.join("\n\n"):""},v=e=>{switch(e){case"system":return"#ff8800";case"roleplay_context":return"#8844ff";case"conversation":return"#44ff44";case"authors_note":return"#ff4488";default:return"#ffffff"}},S=e=>{switch(e){case"system":return"\u2699\ufe0f";case"roleplay_context":return"\ud83c\udfad";case"conversation":return"\ud83d\udcac";case"authors_note":return"\ud83c\udfa8";default:return"\ud83d\udcc4"}},w=async e=>{try{await navigator.clipboard.writeText(e),alert("Copied to clipboard!")}catch(t){console.error("Failed to copy:",t)}};return t?(0,i.jsxs)(Xe,{isVisible:!0,onClose:n,className:"prompt-inspector-modal",children:[(0,i.jsxs)("div",{className:"prompt-inspector-header",children:[(0,i.jsx)("h2",{className:"prompt-inspector-title",children:"\ud83d\udd0d Prompt Inspector"}),(0,i.jsxs)("div",{className:"prompt-inspector-stats",children:[(0,i.jsxs)("span",{className:"prompt-stat",children:["\ud83d\udcdd ",l.length," blocks"]}),(0,i.jsxs)("span",{className:"prompt-stat",children:["\ud83d\udd22 ~",u," tokens"]})]})]}),(0,i.jsxs)("div",{className:"prompt-inspector-content",children:[(0,i.jsxs)("div",{className:"prompt-inspector-controls",children:[(0,i.jsx)(Ke,{onClick:()=>{const e=l.map(e=>e.content).join("\n\n");w(e)},variant:"primary",children:"\ud83d\udccb Copy SillyTavern Format"}),(0,i.jsx)(Ke,{onClick:()=>{const e=[];l.forEach(t=>{e.push(t.content)});const t=e.join("\n\n");w(t)},variant:"secondary",children:"\ud83d\udccb Copy Clean Text"}),(0,i.jsx)(Ke,{onClick:()=>{const e=[],t=[],n=l.find(e=>"system"===e.type),a=l.find(e=>"roleplay_context"===e.type);n&&t.push(n.content),a&&t.push(a.content),t.length>0&&e.push(`{"role": "system", "content": "${t.join("\\n\\n").replace(/"/g,'\\"')}"}`);s.messages.slice(-6).forEach(t=>{const n="user"===t.sender?"user":"assistant";e.push(`{"role": "${n}", "content": "${t.text.replace(/"/g,'\\"')}"}`)}),r.trim()&&e.push(`{"role": "user", "content": "${r.replace(/"/g,'\\"')}"}`);const i=l.find(e=>"authors_note"===e.type);i&&e.push(`{"role": "system", "content": "${i.content.replace(/"/g,'\\"')}"}`);const o=`[\n  ${e.join(",\n  ")}\n]`;w(o)},variant:"secondary",children:"\ud83d\udccb Copy API Messages"}),(0,i.jsx)(Ke,{onClick:()=>{n()},variant:"secondary",children:"\u2699\ufe0f Edit Prompts"}),(0,i.jsx)("small",{className:"prompt-inspector-note",children:"SillyTavern Format shows the complete structured prompt. API Messages shows the raw API call format."})]}),(0,i.jsxs)("div",{className:"prompt-blocks",children:[l.map((e,t)=>(0,i.jsxs)("div",{className:"prompt-block",children:[(0,i.jsxs)("div",{className:"prompt-block-header",style:{borderLeftColor:v(e.type)},children:[(0,i.jsxs)("div",{className:"prompt-block-info",children:[(0,i.jsxs)("span",{className:"prompt-block-category",children:[S(e.type)," ",e.category]}),(0,i.jsxs)("div",{className:"prompt-block-meta",children:[(0,i.jsxs)("span",{className:"prompt-block-tokens",children:["~",e.tokens," tokens"]}),e.editable&&(0,i.jsx)("span",{className:"prompt-block-editable",children:"\u270f\ufe0f Editable in Settings"})]})]}),(0,i.jsx)(Ke,{onClick:()=>w(e.content),variant:"secondary",className:"prompt-block-copy",children:"\ud83d\udccb"})]}),(0,i.jsx)("div",{className:"prompt-block-content",children:(0,i.jsx)("pre",{className:"prompt-block-text",children:e.content})})]},t)),0===l.length&&(0,i.jsx)("div",{className:"prompt-inspector-empty",children:(0,i.jsx)("p",{children:"No prompt data available. Start a conversation to see the prompt structure."})})]}),(0,i.jsxs)("div",{className:"prompt-clean-preview",children:[(0,i.jsx)("h4",{style:{color:"var(--color-yellow)",marginBottom:"12px"},children:"\ud83c\udfaf Complete Prompt (SillyTavern Format):"}),(0,i.jsx)("div",{className:"prompt-clean-content",children:(0,i.jsx)("pre",{className:"prompt-clean-text",children:l.map(e=>e.content).join("\n\n")})})]})]})]}):null},gt=e=>{let{aiCharacter:t,timer:n,onExit:r,currentUserMessage:s=""}=e;const{dispatch:o}=b(),{dispatch:l}=ht(),[c,u]=(0,a.useState)(!1);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"header",children:[(0,i.jsxs)("div",{className:"header-left",children:[(0,i.jsx)(Ze,{emoji:t.avatar}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"header-title",children:t.name}),(0,i.jsx)("p",{className:"header-subtitle",children:t.personality})]})]}),(0,i.jsxs)("div",{className:"header-right",children:[(0,i.jsx)(pt,{timer:n}),(0,i.jsx)(Ke,{onClick:()=>{u(!0)},variant:"secondary",children:"\ud83d\udd0d Prompt"}),(0,i.jsx)(Ke,{onClick:()=>{o({type:"TOGGLE_SETTINGS"})},variant:"secondary",children:"\u2699\ufe0f Settings"}),(0,i.jsx)(Ke,{onClick:()=>l({type:"TOGGLE_MANAGEMENT"}),variant:"secondary",children:"\ud83d\udc65 Characters"}),(0,i.jsx)(Ke,{onClick:r,variant:"secondary",children:"Exit Chat"})]})]}),(0,i.jsx)(mt,{isVisible:c,onClose:()=>{u(!1)},currentUserMessage:s})]})},yt=e=>{let{message:t}=e;const n="user"===t.sender;return(0,i.jsx)("div",{className:"message "+(n?"message-user":"message-ai"),children:(0,i.jsxs)("div",{className:"message-bubble "+(n?"message-bubble-user":"message-bubble-ai"),children:[(0,i.jsx)("div",{className:"message-text",children:"string"===typeof t.text?t.text:"Message could not be displayed"}),(0,i.jsx)("div",{className:"message-time",children:(r=t.timestamp,(r instanceof Date?r:new Date(r)).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}))})]})});var r},vt=()=>{var e;const{state:t}=d(),n=(0,a.useRef)(null);return(0,a.useEffect)(()=>{n.current&&n.current.scrollIntoView({behavior:"smooth"})},[t.typingState.isAITyping]),t.typingState.isAITyping?(0,i.jsx)("div",{ref:n,className:"message message-ai",children:(0,i.jsxs)("div",{className:"message-bubble message-bubble-ai typing-indicator",children:[(0,i.jsxs)("div",{className:"typing-dots",children:[(0,i.jsx)("div",{className:"typing-dot"}),(0,i.jsx)("div",{className:"typing-dot"}),(0,i.jsx)("div",{className:"typing-dot"})]}),(0,i.jsxs)("span",{className:"typing-text",children:[null===(e=t.aiCharacter)||void 0===e?void 0:e.name," is typing..."]})]})}):null},bt=e=>{let{messages:t}=e;const{state:n}=d(),r=(0,a.useRef)(null),s=()=>{var e;null===(e=r.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})};return(0,a.useEffect)(()=>{s()},[t]),(0,a.useEffect)(()=>{const e=setTimeout(()=>{s()},50);return()=>clearTimeout(e)},[n.typingState.isAITyping]),(0,i.jsxs)("div",{className:"messages-container",children:[0===t.length?(0,i.jsx)("div",{className:"empty-state",children:"Start your conversation..."}):(0,i.jsxs)(i.Fragment,{children:[t.map(e=>(0,i.jsx)(yt,{message:e},e.id)),(0,i.jsx)(vt,{})]}),(0,i.jsx)("div",{ref:r})]})},St=e=>{let{onSendMessage:t,onInputChange:n,disabled:r=!1}=e;const[s,o]=(0,a.useState)(""),{handleUserTyping:l,stopUserTyping:c}=Ve(),u=()=>{s.trim()&&!r&&(c(),t(s.trim()),o(""),null===n||void 0===n||n(""))};return(0,i.jsx)("div",{className:"input-container",children:(0,i.jsxs)("div",{className:"input-row",children:[(0,i.jsx)("input",{type:"text",value:s,onChange:e=>{const t=e.target.value;o(t),null===n||void 0===n||n(t),!r&&t.length>0&&l()},onKeyPress:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),u())},onBlur:c,placeholder:r?"Session ended":"Type your message...",disabled:r,className:"text-input"}),(0,i.jsx)(Ke,{onClick:u,disabled:!s.trim()||r,variant:"primary",children:"Send"})]})})},wt=e=>{var t;let{isVisible:n,onExtend:r,onDecline:a,aiWantsExtension:s,userDecision:o}=e;const{settings:l}=b(),{state:c}=d(),u=l.appSettings.extensionDuration,f=(null===(t=c.aiCharacter)||void 0===t?void 0:t.name)||"AI",h=o&&!c.extensionState.aiDecision?"extend"===o?`\u23f3 Waiting for ${f} to decide...`:"\ud83d\udc4b Session ending. Connecting to new AI...":o&&c.extensionState.aiDecision?"extend"===o&&"extend"===c.extensionState.aiDecision?`\ud83c\udf89 Both parties want to extend! Adding ${u} minutes...`:"extend"===o&&"decline"===c.extensionState.aiDecision?`\ud83d\ude14 Sorry, ${f} doesn't want to continue. Connecting to new AI...`:"\ud83d\udc4b Session ending. Connecting to new AI...":null,p=!o;return(0,i.jsx)(Xe,{isVisible:n,className:"extension-modal",children:(0,i.jsx)("div",{className:"modal-body",children:h?(0,i.jsx)("div",{className:"extension-result",children:h}):(0,i.jsxs)("div",{className:"extension-prompt",children:[(0,i.jsx)("div",{className:"extension-title",children:"\u23f0 Time's Almost Up!"}),(0,i.jsxs)("div",{className:"extension-question",children:["Would you like to extend this conversation by ",u," minutes?"]}),(0,i.jsx)("div",{className:"extension-ai-status",children:"extend"===c.extensionState.aiDecision?`\ud83c\udf1f ${f} wants to continue chatting!`:"decline"===c.extensionState.aiDecision?`\ud83d\ude14 ${f} doesn't want to continue.`:`\ud83e\udd14 ${f} is deciding...`}),p&&(0,i.jsxs)("div",{className:"extension-buttons",children:[(0,i.jsx)(Ke,{onClick:a,variant:"secondary",children:"No, thanks"}),(0,i.jsx)(Ke,{onClick:r,variant:"primary",children:"Yes, extend!"})]})]})})})},kt=e=>{let{label:t,description:n,children:r,className:a=""}=e;return(0,i.jsxs)("div",{className:`form-group ${a}`,children:[t&&(0,i.jsx)("label",{className:"form-label",children:t}),r,n&&(0,i.jsx)("small",{className:"form-description",children:n})]})},xt=e=>{let{value:t,onChange:n,min:r,max:a,step:s=1}=e;return(0,i.jsx)("input",{type:"number",min:r,max:a,step:s,value:t,onChange:e=>n(parseInt(e.target.value)),className:"form-input"})},Et=e=>{let{value:t,onChange:n,options:r}=e;return(0,i.jsx)("select",{value:t,onChange:e=>n(e.target.value),className:"form-input form-select",children:r.map(e=>(0,i.jsx)("option",{value:e.value,children:e.label},e.value))})},Ct=e=>{let{checked:t,onChange:n,label:r,id:a}=e;return(0,i.jsxs)("div",{className:"checkbox-group",children:[(0,i.jsx)("input",{type:"checkbox",id:a,checked:t,onChange:e=>n(e.target.checked),className:"form-checkbox"}),(0,i.jsx)("label",{htmlFor:a,className:"checkbox-label",children:r})]})},Tt=e=>{let{value:t,onChange:n,min:r,max:a,step:s,minLabel:o,maxLabel:l}=e;return(0,i.jsxs)("div",{children:[(0,i.jsx)("input",{type:"range",min:r,max:a,step:s,value:t,onChange:e=>n(parseFloat(e.target.value)),className:"form-range"}),(0,i.jsxs)("div",{className:"range-labels",children:[(0,i.jsx)("span",{children:o}),(0,i.jsx)("span",{children:l})]})]})},_t=e=>{let{onClick:t,loading:n,type:r}=e;return(0,i.jsxs)("div",{className:"reset-section",children:[(0,i.jsx)(Ke,{onClick:t,disabled:n,variant:"secondary",children:n?"\u23f3 Resetting...":`\ud83d\udd04 Reset ${r} to Defaults`}),(0,i.jsxs)("small",{className:"form-description",children:["This will immediately reset and save the ",r.toLowerCase()," settings"]})]})},Nt=()=>{const{settings:e,dispatch:t,resetAppSettings:n}=b(),r=(e,n)=>{t({type:"UPDATE_APP_SETTINGS_LOCAL",payload:{[e]:n}})},a=(e,n)=>{t({type:"UPDATE_APP_SETTINGS_LOCAL",payload:{[e]:n}})};return(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"section-title",children:"Application Settings"}),(0,i.jsx)(kt,{label:"\u23f1\ufe0f Default Session Duration (minutes)",description:"How long each chat session lasts (5-60 minutes)",children:(0,i.jsx)(xt,{value:e.appSettings.sessionDuration,onChange:e=>r("sessionDuration",e),min:5,max:60})}),(0,i.jsx)(kt,{label:"\u2795 Extension Duration (minutes)",description:"How much time is added when extending a session (5-30 minutes)",children:(0,i.jsx)(xt,{value:e.appSettings.extensionDuration,onChange:e=>r("extensionDuration",e),min:5,max:30})}),(0,i.jsx)(kt,{label:"\u26a0\ufe0f Extension Warning Time (minutes)",description:"How many minutes before session ends to show extension prompt (1-5 minutes)",children:(0,i.jsx)(xt,{value:e.appSettings.extensionWarningTime,onChange:e=>r("extensionWarningTime",e),min:1,max:5})}),(0,i.jsx)(kt,{description:"Automatically start a new session when current one ends",children:(0,i.jsx)(Ct,{id:"autoConnect",checked:e.appSettings.autoConnect,onChange:e=>a("autoConnect",e),label:"\ud83d\udd04 Auto-connect to new AI after session ends"})}),(0,i.jsx)(kt,{description:"Play sounds for new messages and time warnings",children:(0,i.jsx)(Ct,{id:"soundEnabled",checked:e.appSettings.soundEnabled,onChange:e=>a("soundEnabled",e),label:"\ud83d\udd0a Enable sound notifications"})}),(0,i.jsx)(_t,{onClick:async()=>{window.confirm("Reset app settings to defaults?")&&await n()},loading:e.isLoading,type:"App"})]})},At=()=>{const{settings:e,dispatch:t,resetLLMSettings:n}=b(),r=(e,n)=>{t({type:"UPDATE_LLM_SETTINGS_LOCAL",payload:{[e]:n}})},a=(e,n)=>{t({type:"UPDATE_LLM_SETTINGS_LOCAL",payload:{[e]:n}})};return(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"section-title",children:"Large Language Model Settings"}),(0,i.jsx)(kt,{label:"\ud83e\udd16 AI Model",description:"Choose the AI model for generating responses",children:(0,i.jsx)(Et,{value:e.llmSettings.model,onChange:e=>r("model",e),options:[{value:"moonshotai/Kimi-K2-Instruct",label:"moonshotai/Kimi-K2-Instruct"},{value:"claude-3-sonnet",label:"claude-3-sonnet"},{value:"gpt-4-turbo",label:"gpt-4-turbo"},{value:"gpt-3.5-turbo",label:"gpt-3.5-turbo"},{value:"llama-2-70b",label:"llama-2-70b"}]})}),(0,i.jsx)(kt,{label:`\ud83c\udf21\ufe0f Creativity (Temperature): ${e.llmSettings.temperature}`,description:"Higher values make responses more creative but less predictable",children:(0,i.jsx)(Tt,{value:e.llmSettings.temperature,onChange:e=>a("temperature",e),min:0,max:1,step:.1,minLabel:"Conservative (0.0)",maxLabel:"Creative (1.0)"})}),(0,i.jsx)(kt,{label:"\ud83d\udcdd Max Response Length (tokens)",description:"Maximum length of AI responses (50-1000 tokens, ~300 tokens \u2248 200 words)",children:(0,i.jsx)(xt,{value:e.llmSettings.maxTokens,onChange:e=>a("maxTokens",e),min:50,max:1e3,step:50})}),(0,i.jsx)(kt,{label:"\ud83d\udccf Response Length Preset",description:"Quick preset for common response lengths",children:(0,i.jsx)(Et,{value:e.llmSettings.responseLength,onChange:e=>r("responseLength",e),options:[{value:"short",label:"Short (50-150 tokens)"},{value:"medium",label:"Medium (150-300 tokens)"},{value:"long",label:"Long (300-500 tokens)"}]})}),(0,i.jsx)(kt,{label:`\ud83e\udde0 Context Window: ${e.llmSettings.contextLength} tokens`,description:"Total context length supported by your model",children:(0,i.jsx)(xt,{value:e.llmSettings.contextLength,onChange:e=>a("contextLength",e),min:1024,max:32768,step:1024})}),(0,i.jsx)(kt,{label:`\ud83d\udcad Memory Size: ${e.llmSettings.memoryTokens} tokens`,description:"How many tokens to reserve for conversation history. Older messages beyond this limit won't be included.",children:(0,i.jsx)(xt,{value:e.llmSettings.memoryTokens,onChange:e=>a("memoryTokens",e),min:500,max:e.llmSettings.contextLength-1e3,step:500})}),(0,i.jsxs)("div",{style:{marginTop:"32px",paddingTop:"24px",borderTop:"1px solid var(--color-yellow)"},children:[(0,i.jsx)("h4",{className:"section-title",children:"Custom Prompt Settings"}),(0,i.jsx)(kt,{description:"Enable custom system prompts and author's notes (Advanced users only)",children:(0,i.jsx)(Ct,{id:"systemPromptCustomization",checked:e.llmSettings.systemPromptCustomization,onChange:e=>((e,n)=>{t({type:"UPDATE_LLM_SETTINGS_LOCAL",payload:{[e]:n}})})("systemPromptCustomization",e),label:"\u2699\ufe0f Enable custom prompts"})}),e.llmSettings.systemPromptCustomization&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(kt,{label:"\ud83d\udcdc Custom System Prompt",description:"Override the default character behavior with a custom system prompt. Leave empty to use character defaults.",children:(0,i.jsx)("textarea",{value:e.llmSettings.customSystemPrompt||"",onChange:e=>r("customSystemPrompt",e.target.value),placeholder:"Enter your custom system prompt here...",className:"form-input form-textarea",rows:6,style:{fontFamily:"monospace",fontSize:"13px",resize:"vertical"}})}),(0,i.jsx)(kt,{label:"\ud83c\udfad Context Template",description:"Template for how character info is formatted. Uses {{char}}, {{system}}, {{description}}, {{personality}} variables and {{#if}} blocks.",children:(0,i.jsx)("textarea",{value:e.llmSettings.contextTemplate||"",onChange:e=>r("contextTemplate",e.target.value),placeholder:"{{#if system}}{{system}}\\n\\n# **Roleplay Context**\\n{{/if}}...",className:"form-input form-textarea",rows:8,style:{fontFamily:"monospace",fontSize:"12px",resize:"vertical"}})}),(0,i.jsx)(kt,{label:"\ud83d\udccb Author's Note",description:"Additional instructions added at the end of each prompt. Useful for style guidance or special instructions.",children:(0,i.jsx)("textarea",{value:e.llmSettings.authorsNote||"",onChange:e=>r("authorsNote",e.target.value),placeholder:"e.g., 'Keep responses under 100 words', 'Use a formal tone', 'Focus on practical advice'...",className:"form-input form-textarea",rows:3,style:{fontFamily:"monospace",fontSize:"13px",resize:"vertical"}})})]})]}),(0,i.jsxs)("div",{className:"performance-info",children:[(0,i.jsx)("h4",{children:"\ud83c\udfad Template Variables"}),(0,i.jsxs)("ul",{children:[(0,i.jsxs)("li",{children:[(0,i.jsx)("code",{children:"{{system}}"})," - System prompt (custom or default character prompt)"]}),(0,i.jsxs)("li",{children:[(0,i.jsx)("code",{children:"{{char}}"})," - Character name"]}),(0,i.jsxs)("li",{children:[(0,i.jsx)("code",{children:"{{character}}"})," - Character name (alias)"]}),(0,i.jsxs)("li",{children:[(0,i.jsx)("code",{children:"{{name}}"})," - Character name (alias)"]}),(0,i.jsxs)("li",{children:[(0,i.jsx)("code",{children:"{{user}}"}),' - User reference ("Human")']}),(0,i.jsxs)("li",{children:[(0,i.jsx)("code",{children:"{{description}}"})," - Character description"]}),(0,i.jsxs)("li",{children:[(0,i.jsx)("code",{children:"{{personality}}"})," - Character personality"]}),(0,i.jsxs)("li",{children:[(0,i.jsx)("code",{children:"{{sessionDuration}}"})," - Session duration in minutes"]}),(0,i.jsxs)("li",{children:[(0,i.jsx)("code",{children:"{{extensionDuration}}"})," - Extension duration in minutes"]}),(0,i.jsxs)("li",{children:[(0,i.jsx)("code",{children:"{{extensionWarningTime}}"})," - Extension warning time in minutes"]}),(0,i.jsxs)("li",{children:[(0,i.jsx)("code",{children:"{{timeRemaining}}"}),' - Time remaining (formatted, e.g. "5 minutes and 30 seconds")']}),(0,i.jsxs)("li",{children:[(0,i.jsx)("code",{children:"{{timeMinutes}}"})," - Minutes remaining (number)"]}),(0,i.jsxs)("li",{children:[(0,i.jsx)("code",{children:"{{timeSeconds}}"})," - Seconds remaining (number)"]}),(0,i.jsxs)("li",{children:[(0,i.jsx)("code",{children:"{{timeGuidance}}"})," - Time-based guidance text"]}),(0,i.jsxs)("li",{children:[(0,i.jsx)("code",{children:"{{responseLength}}"})," - Response length setting"]}),(0,i.jsxs)("li",{children:[(0,i.jsx)("code",{children:"{{maxTokens}}"})," - Max tokens setting"]}),(0,i.jsxs)("li",{children:[(0,i.jsx)("code",{children:"{{#if variable}}...{{/if}}"})," - Conditional blocks"]})]}),(0,i.jsx)("h4",{children:"\ud83d\udcdd Character Card Compatibility"}),(0,i.jsxs)("ul",{children:[(0,i.jsxs)("li",{children:["Supports common variables like ",(0,i.jsx)("code",{children:"{{char}}"})," and ",(0,i.jsx)("code",{children:"{{user}}"})," found in imported character cards"]}),(0,i.jsx)("li",{children:"Character descriptions and system prompts from imported cards will render properly"}),(0,i.jsxs)("li",{children:["Multiple name aliases (",(0,i.jsx)("code",{children:"{{char}}"}),", ",(0,i.jsx)("code",{children:"{{character}}"}),", ",(0,i.jsx)("code",{children:"{{name}}"}),") for maximum compatibility"]})]})]}),(0,i.jsx)(_t,{onClick:async()=>{window.confirm("Reset LLM settings to defaults?")&&await n()},loading:e.isLoading,type:"LLM"})]})},jt=()=>{const{settings:e,dispatch:t,saveAllSettings:n,discardChanges:r}=b();if(!e.isOpen)return null;if(!e.initialLoadComplete)return(0,i.jsx)(Xe,{isVisible:!0,className:"settings-modal",children:(0,i.jsx)(Je,{text:"\u2699\ufe0f Loading Settings...",subtext:"Please wait while we load your preferences"})});const a=e=>{t({type:"SET_ACTIVE_TAB",payload:e})};return(0,i.jsxs)(Xe,{isVisible:!0,onClose:()=>{if(e.hasUnsavedChanges){if(!window.confirm("You have unsaved changes. Are you sure you want to close without saving?"))return}t({type:"SET_SETTINGS_OPEN",payload:!1})},className:"settings-modal",children:[(0,i.jsx)("div",{className:"settings-header",children:(0,i.jsxs)("div",{className:"settings-title-container",children:[(0,i.jsx)("h2",{className:"settings-title",children:"\u2699\ufe0f Settings"}),e.hasUnsavedChanges&&(0,i.jsx)(et,{text:"Unsaved Changes",variant:"warning"})]})}),e.error&&(0,i.jsxs)("div",{className:"status-message "+(e.error.includes("using defaults")?"warning":"error"),children:[e.error.includes("using defaults")?"\u26a0\ufe0f ":"\u274c ",e.error]}),e.saveSuccess&&(0,i.jsx)("div",{className:"status-message success",children:"\u2713 Settings saved successfully!"}),(0,i.jsxs)("div",{className:"settings-tabs",children:[(0,i.jsx)("button",{onClick:()=>a("app"),className:"settings-tab "+("app"===e.activeTab?"active":""),children:"\ud83c\udfe0 App Settings"}),(0,i.jsx)("button",{onClick:()=>a("llm"),className:"settings-tab "+("llm"===e.activeTab?"active":""),children:"\ud83e\udd16 LLM Settings"})]}),(0,i.jsx)("div",{className:"settings-content",children:"app"===e.activeTab?(0,i.jsx)(Nt,{}):(0,i.jsx)(At,{})}),(0,i.jsxs)("div",{className:"settings-footer",children:[(0,i.jsx)("div",{className:"settings-status "+(e.hasUnsavedChanges?"unsaved":"saved"),children:e.hasUnsavedChanges?"\u26a0\ufe0f You have unsaved changes":"\u2713 All changes saved"}),(0,i.jsxs)("div",{className:"settings-actions",children:[(0,i.jsx)(Ke,{onClick:r,disabled:!e.hasUnsavedChanges||e.isLoading,variant:"secondary",children:"Discard Changes"}),(0,i.jsx)(Ke,{onClick:n,disabled:!e.hasUnsavedChanges||e.isLoading,variant:"primary",children:e.isLoading?"\u23f3 Saving...":"Save Changes"})]})]})]})},Pt=e=>{let{character:t,onEdit:n,onDelete:r,onSelect:a}=e;const{data:s}=t,o=[{label:"Version",value:s.character_version},...s.creator?[{label:"Creator",value:s.creator}]:[],{label:"Updated",value:(l=s.updated_at,new Date(l).toLocaleDateString())}];var l;return(0,i.jsxs)("div",{className:"character-card",children:[(0,i.jsxs)("div",{className:"character-card-header",children:[s.avatar.startsWith("data:")?(0,i.jsx)("img",{src:s.avatar,alt:s.name,className:"character-card-avatar-image"}):(0,i.jsx)(Ze,{emoji:s.avatar,size:"large"}),(0,i.jsxs)("div",{className:"character-card-info",children:[(0,i.jsx)("h3",{className:"character-card-name",children:s.name}),(0,i.jsx)("p",{className:"character-card-description",children:s.personality})]})]}),(0,i.jsxs)("div",{className:"character-card-body",children:[s.tags.length>0&&(0,i.jsx)("div",{className:"character-tags",children:s.tags.map((e,t)=>(0,i.jsx)("span",{className:"character-tag",children:e},t))}),(0,i.jsx)("div",{className:"character-meta",children:o.map((e,t)=>(0,i.jsxs)("div",{className:"character-meta-item",children:[(0,i.jsxs)("span",{className:"character-meta-label",children:[e.label,":"]}),(0,i.jsx)("span",{className:"character-meta-value",children:e.value})]},t))})]}),(0,i.jsxs)("div",{className:"character-card-actions",children:[(0,i.jsx)(Ke,{onClick:a,variant:"primary",className:"character-action-btn",children:"Select"}),(0,i.jsx)(Ke,{onClick:n,variant:"secondary",className:"character-action-btn",children:"\u270f\ufe0f Edit"}),(0,i.jsx)(Ke,{onClick:r,variant:"secondary",className:"character-action-btn character-delete-btn",children:"\ud83d\uddd1\ufe0f Delete"})]})]})},Lt=e=>{let{hasFilters:t,onClearFilters:n,onCreateCharacter:r}=e;return(0,i.jsx)("div",{className:"character-grid-empty",children:t?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"empty-state-icon",children:"\ud83d\udd0d"}),(0,i.jsx)("h3",{children:"No characters found"}),(0,i.jsx)("p",{children:"Try adjusting your search criteria or filters."}),(0,i.jsx)(Ke,{onClick:n,variant:"secondary",children:"Clear Filters"})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"empty-state-icon",children:"\ud83d\udc65"}),(0,i.jsx)("h3",{children:"No characters yet"}),(0,i.jsx)("p",{children:"Create your first character to get started!"}),(0,i.jsx)(Ke,{onClick:r,variant:"primary",children:"Create Character"})]})})},Ot=()=>{const{state:e,dispatch:t,deleteCharacter:n,paginatedCharacters:r}=ht(),a=Boolean(e.searchQuery||e.selectedTags.length>0);return 0===r.length?(0,i.jsx)(Lt,{hasFilters:a,onClearFilters:()=>t({type:"CLEAR_FILTERS"}),onCreateCharacter:()=>t({type:"START_EDITING",payload:null})}):(0,i.jsx)("div",{className:"character-grid",children:r.map(e=>(0,i.jsx)(Pt,{character:e,onEdit:()=>(e=>{t({type:"START_EDITING",payload:e})})(e),onDelete:()=>(async e=>{if(window.confirm(`Are you sure you want to delete "${e.data.name}"? This action cannot be undone.`))try{await n(e.data.id)}catch(t){console.error("Failed to delete character:",t)}})(e),onSelect:()=>(e=>{t({type:"SET_SELECTED_CHARACTER",payload:e}),t({type:"SET_MANAGEMENT_OPEN",payload:!1})})(e)},e.data.id))})},Rt=["\ud83e\udd16","\ud83c\udf19","\u26a1","\ud83e\udd89","\ud83c\udfad","\ud83d\udd2c","\ud83c\udfa8","\ud83c\udfb5","\ud83c\udf1f","\ud83d\udd25","\ud83d\udc8e","\ud83c\udf08","\ud83c\udfaf","\ud83d\ude80","\ud83c\udf38","\u2b50","\ud83c\udf0a","\ud83c\udfaa","\ud83c\udfb2","\ud83c\udfb9"],Dt=()=>{const{state:e,dispatch:t,createCharacter:n,updateCharacter:r}=ht(),s=null!==e.editingCharacter,[o,l]=(0,a.useState)({name:"",description:"",personality:"",avatar:"\ud83e\udd16",creator_notes:"",system_prompt:"",tags:[],creator:"",character_version:"1.0"}),[c,u]=(0,a.useState)(!1);(0,a.useEffect)(()=>{if(e.editingCharacter){const t=e.editingCharacter.data;l({name:t.name,description:t.description,personality:t.personality,avatar:t.avatar,creator_notes:t.creator_notes,system_prompt:t.system_prompt,tags:t.tags,creator:t.creator,character_version:t.character_version})}else l({name:"",description:"",personality:"",avatar:"\ud83e\udd16",creator_notes:"",system_prompt:"",tags:[],creator:"",character_version:"1.0"})},[e.editingCharacter]);const d=(e,t)=>{l(n=>({...n,[e]:t}))},f=()=>{if(h()){if(!window.confirm("You have unsaved changes. Are you sure you want to close?"))return}t({type:"STOP_EDITING"})},h=()=>{if(!e.editingCharacter)return""!==o.name.trim()||""!==o.description.trim();const t=e.editingCharacter.data;return Object.keys(o).some(e=>JSON.stringify(o[e])!==JSON.stringify(t[e]))},p=e=>new Promise((t,n)=>{const r=new Image;r.onload=()=>{try{const e=document.createElement("canvas"),n=e.getContext("2d"),a=256,s=Math.min(a,Math.max(r.width,r.height));e.width=s,e.height=s;const i=s/Math.max(r.width,r.height),o=r.width*i,l=r.height*i,c=(s-o)/2,u=(s-l)/2;n.fillStyle="#000000",n.fillRect(0,0,s,s),n.drawImage(r,c,u,o,l),t(e.toDataURL("image/jpeg",.8))}catch(e){n(e)}},r.onerror=n,r.src=URL.createObjectURL(e)});return(0,i.jsxs)(Xe,{isVisible:!0,onClose:f,className:"character-editor-modal",children:[(0,i.jsx)("div",{className:"character-editor-header",children:(0,i.jsx)("h3",{className:"character-editor-title",children:s?"\u270f\ufe0f Edit Character":"\u2795 Create New Character"})}),(0,i.jsxs)("div",{className:"character-editor-form",children:[(0,i.jsxs)("div",{className:"character-editor-content",children:[(0,i.jsxs)("div",{className:"character-editor-section",children:[(0,i.jsx)("h4",{className:"character-editor-section-title",children:"Basic Information"}),(0,i.jsxs)("div",{className:"character-editor-row",children:[(0,i.jsx)(nt,{label:"Name",required:!0,children:(0,i.jsx)(rt,{value:o.name,onChange:e=>d("name",e),placeholder:"Character name",required:!0})}),(0,i.jsx)(nt,{label:"Avatar",required:!0,children:(0,i.jsxs)("div",{className:"character-avatar-selector",children:[o.avatar.startsWith("data:")?(0,i.jsx)("img",{src:o.avatar,alt:"Character Avatar",className:"character-avatar-image"}):(0,i.jsx)(Ze,{emoji:o.avatar,size:"large"}),(0,i.jsxs)("div",{className:"character-avatar-options",children:[(0,i.jsx)("div",{className:"character-emoji-grid",children:Rt.map(e=>(0,i.jsx)("button",{type:"button",onClick:()=>d("avatar",e),className:"character-emoji-option "+(o.avatar===e?"selected":""),children:e},e))}),(0,i.jsx)(it,{accept:"image/*",onChange:async e=>{const t=null===e||void 0===e?void 0:e[0];if(t)try{const e=await p(t);d("avatar",e)}catch(n){console.error("Failed to upload avatar:",n),alert("Failed to upload image. Please try again.")}},className:"character-avatar-upload",children:(0,i.jsx)("div",{className:"character-avatar-upload-label",children:"\ud83d\udcc1 Upload Image"})})]})]})})]}),(0,i.jsx)(nt,{label:"Description",children:(0,i.jsx)(at,{value:o.description,onChange:e=>d("description",e),placeholder:"Brief description of the character",rows:3})}),(0,i.jsx)(nt,{label:"Personality",description:"If left empty, will use the description",children:(0,i.jsx)(at,{value:o.personality,onChange:e=>d("personality",e),placeholder:"Character's personality traits and behavior",rows:3})})]}),(0,i.jsxs)("div",{className:"character-editor-section",children:[(0,i.jsx)("h4",{className:"character-editor-section-title",children:"Tags"}),(0,i.jsx)(nt,{children:(0,i.jsx)(st,{tags:o.tags,onAddTag:e=>d("tags",[...o.tags,e]),onRemoveTag:e=>d("tags",o.tags.filter(t=>t!==e)),placeholder:"Add a tag"})})]}),(0,i.jsxs)("div",{className:"character-editor-section",children:[(0,i.jsx)("h4",{className:"character-editor-section-title",children:"Advanced Settings"}),(0,i.jsxs)("div",{className:"character-editor-row",children:[(0,i.jsx)(nt,{label:"Creator",children:(0,i.jsx)(rt,{value:o.creator,onChange:e=>d("creator",e),placeholder:"Character creator name"})}),(0,i.jsx)(nt,{label:"Version",children:(0,i.jsx)(rt,{value:o.character_version,onChange:e=>d("character_version",e),placeholder:"1.0"})})]}),(0,i.jsx)(nt,{label:"Creator Notes",children:(0,i.jsx)(at,{value:o.creator_notes,onChange:e=>d("creator_notes",e),placeholder:"Notes for character creators or users",rows:3})}),(0,i.jsx)(nt,{label:"System Prompt",description:"Advanced: Custom system prompt will override default AI behavior",children:(0,i.jsx)(at,{value:o.system_prompt,onChange:e=>d("system_prompt",e),placeholder:"Custom system prompt for this character",rows:4})})]})]}),(0,i.jsxs)("div",{className:"character-editor-footer",children:[(0,i.jsx)(Ke,{onClick:f,variant:"secondary",disabled:c,children:"Cancel"}),(0,i.jsx)(Ke,{onClick:async()=>{if(o.name.trim()){u(!0);try{const a={...o,name:o.name.trim(),description:o.description.trim(),personality:o.personality.trim()||o.description.trim(),creator_notes:o.creator_notes.trim(),system_prompt:o.system_prompt.trim(),creator:o.creator.trim()};s?await r(e.editingCharacter.data.id,a):await n(a),t({type:"STOP_EDITING"})}catch(a){console.error("Failed to save character:",a)}finally{u(!1)}}else alert("Character name is required")},variant:"primary",disabled:!o.name.trim()||c,children:c?"\u23f3 Saving...":s?"Update Character":"Create Character"})]})]})]})},It=e=>{let{value:t,onChange:n,onSubmit:r,onClear:a}=e;return(0,i.jsx)("form",{onSubmit:e=>{e.preventDefault(),r()},className:"character-search-form",children:(0,i.jsxs)("div",{className:"character-search-input-group",children:[(0,i.jsx)("input",{type:"text",value:t,onChange:e=>n(e.target.value),placeholder:"Search characters by name or description...",className:"character-search-input"}),(0,i.jsx)("button",{type:"submit",className:"btn btn-primary character-search-btn",children:"\ud83d\udd0d"}),t&&(0,i.jsx)(Ke,{onClick:a,variant:"secondary",className:"character-search-clear-btn",children:"\u2715"})]})})},zt=e=>{let{availableTags:t,selectedTags:n,onToggleTag:r,onClearTags:a}=e;return 0===t.length?null:(0,i.jsxs)("div",{className:"character-tag-filters",children:[(0,i.jsxs)("div",{className:"character-tag-filters-header",children:[(0,i.jsx)("span",{className:"character-tag-filters-label",children:"Filter by tags:"}),n.length>0&&(0,i.jsx)(Ke,{onClick:a,variant:"secondary",className:"character-tag-clear-btn",children:"Clear Tags"})]}),(0,i.jsx)("div",{className:"character-tag-list",children:t.map(e=>(0,i.jsxs)("button",{onClick:()=>r(e),className:"character-tag-filter "+(n.includes(e)?"active":""),children:[e,n.includes(e)&&(0,i.jsx)("span",{className:"character-tag-filter-check",children:"\u2713"})]},e))})]})},Mt=e=>{let{searchQuery:t,selectedTags:n,onRemoveTag:r,onClearAll:a}=e;return t||n.length>0?(0,i.jsxs)("div",{className:"character-active-filters",children:[(0,i.jsxs)("div",{className:"character-active-filters-header",children:[(0,i.jsx)("span",{className:"character-active-filters-label",children:"Active filters:"}),(0,i.jsx)(Ke,{onClick:a,variant:"secondary",className:"character-clear-all-btn",children:"Clear All"})]}),(0,i.jsxs)("div",{className:"character-active-filters-list",children:[t&&(0,i.jsxs)("div",{className:"character-active-filter",children:[(0,i.jsx)("span",{className:"character-active-filter-type",children:"Search:"}),(0,i.jsxs)("span",{className:"character-active-filter-value",children:['"',t,'"']})]}),n.map(e=>(0,i.jsxs)("div",{className:"character-active-filter",children:[(0,i.jsx)("span",{className:"character-active-filter-type",children:"Tag:"}),(0,i.jsx)("span",{className:"character-active-filter-value",children:e}),(0,i.jsx)("button",{onClick:()=>r(e),className:"character-active-filter-remove",children:"\u2715"})]},e))]})]}):null},Ft=()=>{const{state:e,dispatch:t,searchCharacters:n}=ht(),[r,s]=(0,a.useState)(e.searchQuery),o=n=>{const r=e.selectedTags.includes(n)?e.selectedTags.filter(e=>e!==n):[...e.selectedTags,n];t({type:"SET_SELECTED_TAGS",payload:r})};return(0,i.jsxs)("div",{className:"character-filters",children:[(0,i.jsx)(It,{value:r,onChange:s,onSubmit:()=>{n(r)},onClear:()=>{s(""),n("")}}),(0,i.jsx)(zt,{availableTags:e.availableTags,selectedTags:e.selectedTags,onToggleTag:o,onClearTags:()=>t({type:"SET_SELECTED_TAGS",payload:[]})}),(0,i.jsx)(Mt,{searchQuery:e.searchQuery,selectedTags:e.selectedTags,onRemoveTag:o,onClearAll:()=>{s(""),t({type:"CLEAR_FILTERS"})}})]})};const Ut=new class{async extractFromPNG(e){try{const t=await e.arrayBuffer(),n=new DataView(t);if(!this.isPNG(n))throw new Error("File is not a valid PNG");const r=this.extractTextChunks(n);for(const a of r){const t=this.parseCharacterData(a);if(t){const n=await this.optimizeImageForAvatar(e);return t.data.avatar=n,t}}return null}catch(t){throw console.error("Failed to extract character data from PNG:",t),t}}isPNG(e){const t=[137,80,78,71,13,10,26,10];for(let n=0;n<t.length;n++)if(e.getUint8(n)!==t[n])return!1;return!0}extractTextChunks(e){const t=[];let n=8;try{for(;n<e.byteLength-8;){const r=e.getUint32(n);n+=4;const a=this.readString(e,n,4);if(n+=4,["tEXt","zTXt","iTXt"].includes(a)){const s=this.extractChunkText(e,n,r,a);s&&t.push(s)}if(n+=r+4,"IEND"===a)break}}catch(r){console.warn("Error parsing PNG chunks:",r)}return t}extractChunkText(e,t,n,r){try{if("tEXt"===r){const r=new Uint8Array(e.buffer,e.byteOffset+t,n),a=r.indexOf(0);if(-1!==a){const e=r.slice(0,a),t=this.decodeText(e),n=r.slice(a+1),s=this.decodeText(n);if(console.log(`Found tEXt chunk - keyword: "${t}", text length: ${s.length}`),["chara","character","char","ccv2","json"].includes(t.toLowerCase()))return s;if(this.looksLikeJSON(s))return s}else{const e=this.decodeText(r);if(this.looksLikeJSON(e))return e}}else if("zTXt"===r){const r=new Uint8Array(e.buffer,e.byteOffset+t,n),s=r.indexOf(0);if(-1!==s&&s<n-2){const e=this.decodeText(r.slice(0,s));if(0===r[s+1])try{console.log(`Found compressed zTXt chunk with keyword: "${e}"`)}catch(a){console.warn("Failed to decompress zTXt chunk:",a)}}}else if("iTXt"===r){const r=new Uint8Array(e.buffer,e.byteOffset+t,n),a=this.decodeText(r);if(this.looksLikeJSON(a))return a}}catch(s){console.warn("Error extracting chunk text:",s)}return null}looksLikeJSON(e){const t=e.trim();return t.startsWith("{")||t.includes('"spec"')||t.includes("chara_card_v2")}decodeText(e){const t=[()=>new TextDecoder("utf-8",{fatal:!1}).decode(e),()=>this.decodeWindows1252(e),()=>new TextDecoder("iso-8859-1",{fatal:!1}).decode(e),()=>this.decodeRawWithUTF8(e)];for(const r of t)try{const e=r();if(this.isReasonableText(e))return e}catch(n){continue}return new TextDecoder("utf-8",{fatal:!1}).decode(e)}decodeWindows1252(e){const t=[8364,129,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,141,381,143,144,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,157,382,376];let n="";for(let r=0;r<e.length;r++){const a=e[r];n+=a<128?String.fromCharCode(a):a>=128&&a<=159?String.fromCharCode(t[a-128]):String.fromCharCode(a)}return n}decodeRawWithUTF8(e){let t="";for(let n=0;n<e.length;n++){const r=e[n];if(0===(128&r))t+=String.fromCharCode(r);else if(192===(224&r)){if(n+1<e.length){const a=e[n+1];if(128===(192&a)){const e=(31&r)<<6|63&a;t+=String.fromCharCode(e),n++;continue}}t+=this.byteToWindows1252Char(r)}else if(224===(240&r)){if(n+2<e.length){const a=e[n+1],s=e[n+2];if(128===(192&a)&&128===(192&s)){const e=(15&r)<<12|(63&a)<<6|63&s;t+=String.fromCharCode(e),n+=2;continue}}t+=this.byteToWindows1252Char(r)}else t+=this.byteToWindows1252Char(r)}return t}byteToWindows1252Char(e){const t={128:"\u20ac",130:"\u201a",131:"\u0192",132:"\u201e",133:"\u2026",134:"\u2020",135:"\u2021",136:"\u02c6",137:"\u2030",138:"\u0160",139:"\u2039",140:"\u0152",142:"\u017d",145:"'",146:"'",147:'"',148:'"',149:"\u2022",150:"\u2013",151:"\u2014",152:"\u02dc",153:"\u2122",154:"\u0161",155:"\u203a",156:"\u0153",158:"\u017e",159:"\u0178"};return e>=128&&e<=159&&t[e]?t[e]:String.fromCharCode(e)}isReasonableText(e){let t=0,n=0;for(let a=0;a<Math.min(e.length,1e3);a++){const r=e.charCodeAt(a);r<32&&9!==r&&10!==r&&13!==r&&t++,65533===r&&n++}const r=Math.min(e.length,1e3);return t/r<.1&&n/r<.1}readString(e,t,n){let r="";for(let a=0;a<n;a++)r+=String.fromCharCode(e.getUint8(t+a));return r}parseCharacterData(e){try{let n=e.trim();if(this.isBase64(n)){console.log("Detected base64 encoded data, decoding...");try{const e=atob(n),t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);n=new TextDecoder("utf-8").decode(t),console.log("Successfully decoded base64 data")}catch(t){return console.warn("Failed to decode base64:",t),null}}const r=n.indexOf("{");r>0&&(n=n.substring(r));let a=0,s=-1,i=!1,o=!1;for(let e=0;e<n.length;e++){const t=n[e];if(o)o=!1;else if("\\"!==t){if('"'!==t||i?'"'===t&&i&&(i=!1):i=!0,!i)if("{"===t)a++;else if("}"===t&&(a--,0===a)){s=e;break}}else o=!0}-1!==s&&(n=n.substring(0,s+1)),console.log("Attempting to parse JSON:",n.substring(0,200)+"...");const l=JSON.parse(n);if(this.isValidCharacterCard(l))return console.log("Valid character card found:",l.data.name),l;console.log("Invalid character card structure")}catch(n){console.warn("Failed to parse JSON from text:",n)}return null}isBase64(e){if(e.length%4!==0)return!1;if(e.startsWith("eyJ"))return!0;return/^[A-Za-z0-9+/]+=*$/.test(e)}isValidCharacterCard(e){var t;const n=e&&"object"===typeof e&&"chara_card_v2"===e.spec&&e.data&&"string"===typeof e.data.name;return console.log("Character card validation:",{hasData:!!e,hasSpec:"chara_card_v2"===(null===e||void 0===e?void 0:e.spec),hasDataObject:!(null===e||void 0===e||!e.data),hasName:"string"===typeof(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.name),isValid:n}),n}async fileToDataURL(e){return new Promise((t,n)=>{const r=new FileReader;r.onload=()=>t(r.result),r.onerror=n,r.readAsDataURL(e)})}async optimizeImageForAvatar(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:256;return new Promise((n,r)=>{const a=new Image;a.onload=()=>{try{const e=document.createElement("canvas"),r=e.getContext("2d"),s=Math.min(t,Math.max(a.width,a.height));e.width=s,e.height=s;const i=s/Math.max(a.width,a.height),o=a.width*i,l=a.height*i,c=(s-o)/2,u=(s-l)/2;r.fillStyle="#000000",r.fillRect(0,0,s,s),r.drawImage(a,c,u,o,l);const d=e.toDataURL("image/jpeg",.8);n(d)}catch(e){r(e)}},a.onerror=r,a.src=URL.createObjectURL(e)})}async extractFromPNGAlternative(e){try{const n=await e.text(),r=[/eyJ[\w\+\/=]+/g,/data:application\/json;base64,([A-Za-z0-9+/=]+)/g];for(const a of r){const r=n.match(a);if(r)for(const n of r)try{const t=n.replace("data:application/json;base64,",""),r=atob(t),a=JSON.parse(r);if(this.isValidCharacterCard(a)){const t=await this.fileToDataURL(e);return a.data.avatar=t,a}}catch(t){continue}}}catch(n){console.error("Alternative extraction failed:",n)}return null}},$t=e=>{let{title:t,description:n,children:r}=e;return(0,i.jsxs)("div",{className:"character-actions-section",children:[(0,i.jsx)("h4",{className:"character-actions-title",children:t}),(0,i.jsx)("div",{className:"character-actions-buttons",children:r}),(0,i.jsx)("p",{className:"character-actions-description",children:n})]})},Bt=()=>{const{exportCharacters:e,importCharacters:t,createCharacter:n}=ht(),r=(0,a.useRef)(null),s=(0,a.useRef)(null);return(0,i.jsxs)("div",{className:"character-actions",children:[(0,i.jsxs)($t,{title:"\ud83d\udcc1 Import / Export",description:"Export your characters as a JSON file for backup or sharing. Import characters from a JSON file to restore or add new ones.",children:[(0,i.jsx)(Ke,{onClick:async()=>{try{await e()}catch(t){console.error("Export failed:",t)}},variant:"secondary",children:"\ud83d\udcbe Export JSON"}),(0,i.jsx)(Ke,{onClick:()=>{var e;null===(e=r.current)||void 0===e||e.click()},variant:"secondary",children:"\ud83d\udcc2 Import JSON"})]}),(0,i.jsx)($t,{title:"\ud83d\uddbc\ufe0f Character Card Images",description:"Import Character Card V2 PNG images that contain embedded character data. You can select multiple PNG files at once.",children:(0,i.jsx)(Ke,{onClick:()=>{var e;null===(e=s.current)||void 0===e||e.click()},variant:"secondary",children:"\ud83d\uddbc\ufe0f Import PNG Cards"})}),(0,i.jsx)("input",{ref:r,type:"file",accept:".json",onChange:async e=>{var n;const a=null===(n=e.target.files)||void 0===n?void 0:n[0];if(!a)return;const s=window.confirm('Do you want to replace all existing characters with the imported ones?\n\nClick "OK" to replace all characters.\nClick "Cancel" to add imported characters to existing ones.');try{await t(a,s)}catch(i){console.error("Import failed:",i)}r.current&&(r.current.value="")},style:{display:"none"}}),(0,i.jsx)("input",{ref:s,type:"file",accept:".png",multiple:!0,onChange:async e=>{const t=e.target.files;if(t&&0!==t.length){try{const e=[];for(let n=0;n<t.length;n++){const a=t[n];console.log(`Processing file: ${a.name}`);try{let t=await Ut.extractFromPNG(a);t||(console.log("Primary method failed, trying alternative extraction..."),t=await Ut.extractFromPNGAlternative(a)),t?(t.data.id=`imported_${Date.now()}_${n}`,e.push(t),console.log(`Successfully extracted character: ${t.data.name}`)):console.warn(`No character data found in ${a.name}`)}catch(r){console.error(`Failed to process ${a.name}:`,r)}}if(0===e.length)return void alert("No valid character data found in the selected PNG files.\n\nMake sure the PNG files contain embedded Character Card V2 data.");for(const t of e)await n(t.data);alert(`Successfully imported ${e.length} character(s) from PNG files.`)}catch(r){console.error("PNG import failed:",r),alert("Failed to import characters from PNG files.")}s.current&&(s.current.value="")}},style:{display:"none"}})]})},qt=e=>{let{totalCharacters:t,filteredCount:n,onCreateNew:r}=e;return(0,i.jsxs)("div",{className:"character-management-header",children:[(0,i.jsxs)("div",{className:"character-management-title-container",children:[(0,i.jsx)("h2",{className:"character-management-title",children:"\ud83d\udcda Character Management"}),(0,i.jsxs)("div",{className:"character-count",children:[n," of ",t," characters"]})]}),(0,i.jsx)(Ke,{onClick:r,variant:"primary",children:"\u2795 Create New Character"})]})},Ht=e=>{let{error:t}=e;return t?(0,i.jsx)("div",{className:"status-message "+(t.startsWith("\u2713")?"success":"error"),children:t}):null},Vt=e=>{let{isVisible:t}=e;return t?(0,i.jsx)("div",{className:"character-loading-overlay",children:(0,i.jsx)("div",{className:"character-loading-content",children:(0,i.jsx)("div",{className:"loading-bar",children:(0,i.jsx)("div",{className:"loading-progress"})})})}):null},Gt=()=>{const{state:e,dispatch:t,filteredCharacters:n,totalPages:r}=ht();if(!e.isManagementOpen)return null;return e.isLoading&&0===e.characters.length?(0,i.jsx)(Xe,{isVisible:!0,className:"character-management-modal",children:(0,i.jsx)(Je,{text:"\ud83d\udcda Loading Characters...",subtext:"Please wait while we load your character library"})}):(0,i.jsxs)(Xe,{isVisible:!0,onClose:()=>{if(e.isEditing){if(!window.confirm("You have unsaved changes. Are you sure you want to close?"))return;t({type:"STOP_EDITING"})}t({type:"SET_MANAGEMENT_OPEN",payload:!1})},className:"character-management-modal",children:[(0,i.jsx)(qt,{totalCharacters:e.characters.length,filteredCount:n.length,onCreateNew:()=>{t({type:"START_EDITING",payload:null})}}),(0,i.jsx)(Ht,{error:e.error}),e.isEditing&&(0,i.jsx)(Dt,{}),(0,i.jsxs)("div",{className:"character-management-content",children:[(0,i.jsxs)("div",{className:"character-management-controls",children:[(0,i.jsx)(Ft,{}),(0,i.jsx)(Bt,{})]}),(0,i.jsx)(Ot,{}),(0,i.jsx)(ot,{currentPage:e.currentPage,totalPages:r,onPageChange:e=>t({type:"SET_CURRENT_PAGE",payload:e}),className:"character-pagination"})]}),(0,i.jsx)(Vt,{isVisible:e.isLoading})]})},Wt=e=>{let{onSendMessage:t}=e;const{state:n}=d(),{handleExit:r,handleExtend:s,handleDecline:o}=Ge(),[l,c]=(0,a.useState)("");return n.aiCharacter?(0,i.jsxs)(tt,{variant:"chat",children:[(0,i.jsx)(gt,{aiCharacter:n.aiCharacter,timer:n.timer,onExit:r,currentUserMessage:l}),(0,i.jsx)(bt,{messages:n.messages}),(0,i.jsx)(St,{onSendMessage:e=>{c(""),t(e)},onInputChange:e=>{c(e)},disabled:!n.timer.isActive||!n.isConnected}),(0,i.jsx)(wt,{isVisible:n.extensionState.isModalVisible,onExtend:s,onDecline:o,aiWantsExtension:"extend"===n.extensionState.aiDecision,userDecision:n.extensionState.userDecision}),(0,i.jsx)(jt,{}),(0,i.jsx)(Gt,{})]}):null},Qt=e=>{let{newAI:t}=e;const[n,r]=(0,a.useState)("");return(0,a.useEffect)(()=>{const e=setInterval(()=>{r(e=>e.length>=3?"":e+".")},500);return()=>clearInterval(e)},[]),(0,i.jsx)(tt,{variant:"centered",children:(0,i.jsxs)("div",{className:"loading-content",children:[(0,i.jsx)(Ze,{emoji:t.avatar,size:"large"}),(0,i.jsxs)("div",{className:"loading-text",children:["Connecting to ",t.name,n]}),(0,i.jsx)("div",{className:"loading-subtext",children:t.personality}),(0,i.jsx)("div",{className:"loading-bar",children:(0,i.jsx)("div",{className:"loading-progress"})})]})})},Yt=()=>{const{state:e}=d(),{isDemoMode:t,handleDemoMessage:n,handleDemoExtension:r,handleDemoExit:s}=(()=>{const{state:e,dispatch:t}=d(),n=window.location.hostname.includes("github.io");return(0,a.useRef)(null),(0,a.useEffect)(()=>{n&&(()=>{const e=Qe.getRandomCharacter();t({type:"SET_CONNECTED",payload:!0}),t({type:"SET_SESSION_ID",payload:"demo-session"}),t({type:"SET_AI_CHARACTER",payload:e}),t({type:"SET_TIMER",payload:{minutes:15,seconds:0,isActive:!0}}),t({type:"SET_CONNECTING",payload:!1});const n={id:Ye(),text:`Hi! I'm ${e.name}. ${e.personality}. This is a demo version - in the full app, I'd be powered by real AI! Try chatting with me!`,sender:"ai",timestamp:new Date};t({type:"ADD_MESSAGE",payload:n})})()},[n,t]),{isDemoMode:n,handleDemoMessage:async r=>{if(!n||!e.aiCharacter)return!1;const a={id:Ye(),text:r,sender:"user",timestamp:new Date};t({type:"ADD_MESSAGE",payload:a}),t({type:"UPDATE_TYPING_STATE",payload:{isAITyping:!0}});try{const n=await Qe.generateResponse(r,e.aiCharacter);t({type:"UPDATE_TYPING_STATE",payload:{isAITyping:!1}});const a={id:Ye(),text:n,sender:"ai",timestamp:new Date};t({type:"ADD_MESSAGE",payload:a})}catch(s){t({type:"UPDATE_TYPING_STATE",payload:{isAITyping:!1}});const e={id:Ye(),text:"Sorry, I'm having trouble responding right now. This is just a demo!",sender:"ai",timestamp:new Date};t({type:"ADD_MESSAGE",payload:e})}return!0},handleDemoExtension:async r=>{if(!n||!e.aiCharacter)return!1;const a=await Qe.generateExtensionDecision(e.aiCharacter);return t({type:"UPDATE_EXTENSION_STATE",payload:{userDecision:r,aiDecision:a}}),!0},handleDemoExit:()=>{if(!n)return!1;const e=Qe.getRandomCharacter();return t({type:"SET_CONNECTING",payload:!0}),t({type:"SET_NEXT_AI",payload:e}),setTimeout(()=>{t({type:"RESET_SESSION"}),t({type:"SET_SESSION_ID",payload:"demo-session"}),t({type:"SET_AI_CHARACTER",payload:e}),t({type:"SET_MESSAGES",payload:[]}),t({type:"SET_TIMER",payload:{minutes:15,seconds:0,isActive:!0}}),t({type:"SET_CONNECTING",payload:!1}),t({type:"SET_NEXT_AI",payload:null});const n={id:Ye(),text:`Hello! I'm ${e.name}. ${e.personality}. Nice to meet you!`,sender:"ai",timestamp:new Date};t({type:"ADD_MESSAGE",payload:n})},3e3),!0}}})();(()=>{const{state:e,dispatch:t}=d(),{settings:n}=b();(0,a.useEffect)(()=>{if(!n.initialLoadComplete||e.isConnected||e.sessionId)return;const r=()=>{qe.onSessionJoined(e=>{console.log("Session joined:",e),t({type:"SET_MESSAGES",payload:e.messages})}),qe.onNewMessage(e=>{console.log("Received message:",e),t({type:"ADD_MESSAGE",payload:e})}),qe.onExtensionResponse(e=>{t({type:"UPDATE_EXTENSION_STATE",payload:{userDecision:e.userDecision,aiDecision:e.aiDecision}})}),qe.onSessionEnded(()=>{console.log("Session ended event received in app initialization")}),qe.onError(n=>{console.error("Socket error:",n),"Session not found"===n.message&&e.sessionId&&(console.log("Session not found error - session may have ended, triggering reconnection"),t({type:"SET_CONNECTING",payload:!0}),setTimeout(()=>{window.location.reload()},1e3))})};return(async()=>{try{console.log("Connecting to server..."),await qe.connect(),t({type:"SET_CONNECTED",payload:!0}),console.log("Creating new session...");const e=await He.createSession(),{sessionId:a,aiCharacter:s,sessionDuration:i}=e;t({type:"SET_SESSION_ID",payload:a}),t({type:"SET_AI_CHARACTER",payload:s}),qe.joinSession(a),r();const o=i||n.appSettings.sessionDuration;t({type:"SET_TIMER",payload:{minutes:o,seconds:0,isActive:!0}}),t({type:"SET_CONNECTING",payload:!1})}catch(e){console.error("Failed to initialize app:",e),t({type:"SET_CONNECTING",payload:!1})}})(),()=>{qe.disconnect()}},[n.initialLoadComplete])})(),(()=>{const{state:e,dispatch:t}=d(),{settings:n}=b(),r=(0,a.useRef)(n.appSettings.extensionWarningTime);(0,a.useEffect)(()=>{r.current=n.appSettings.extensionWarningTime},[n.appSettings.extensionWarningTime]),(0,a.useEffect)(()=>{let n=null;return e.timer.isActive&&(n=setInterval(()=>{const n=e.timer;n.seconds>0?t({type:"UPDATE_TIMER",payload:{seconds:n.seconds-1}}):n.minutes>0?t({type:"UPDATE_TIMER",payload:{minutes:n.minutes-1,seconds:59}}):(t({type:"UPDATE_TIMER",payload:{isActive:!1}}),e.sessionId&&qe.endSession(e.sessionId)),n.minutes!==r.current||0!==n.seconds||e.extensionState.hasBeenOffered||t({type:"UPDATE_EXTENSION_STATE",payload:{isModalVisible:!0,hasBeenOffered:!0}})},1e3)),()=>{n&&clearInterval(n)}},[e.timer.isActive,e.extensionState.hasBeenOffered,e.sessionId,t,e.timer.minutes,e.timer.seconds])})(),(()=>{const{state:e,dispatch:t}=d(),{settings:n}=b(),r=(0,a.useRef)(n.appSettings.extensionDuration);(0,a.useEffect)(()=>{r.current=n.appSettings.extensionDuration},[n.appSettings.extensionDuration]),(0,a.useEffect)(()=>{e.extensionState.userDecision&&e.extensionState.aiDecision&&(console.log("Extension decisions:",{user:e.extensionState.userDecision,ai:e.extensionState.aiDecision}),"extend"===e.extensionState.userDecision&&"extend"===e.extensionState.aiDecision&&(console.log("Both parties want to extend, extending session immediately"),t({type:"SET_TIMER",payload:{minutes:r.current,seconds:0,isActive:!0}})),setTimeout(()=>{console.log("Hiding extension modal after showing result"),t({type:"SET_EXTENSION_STATE",payload:{isModalVisible:!1,userDecision:null,aiDecision:null,hasBeenOffered:!1}})},2e3))},[e.extensionState.userDecision,e.extensionState.aiDecision,t])})(),Ve();const{handleSendMessage:o}=(()=>{const{state:e}=d();return{handleSendMessage:(0,a.useCallback)(t=>{console.log("Sending message:",t,typeof t),e.sessionId&&e.isConnected&&qe.sendMessage(e.sessionId,t)},[e.sessionId,e.isConnected])}})(),{handleExit:l,handleExtend:c,handleDecline:u}=Ge(),f=t?s:l,h=t?()=>r("extend"):c,p=t?()=>r("decline"):u;if(e.isConnecting||!e.aiCharacter){const n=e.nextAI||e.aiCharacter||{id:"loading",name:"Loading",personality:t?"Demo Mode - Connecting...":"Connecting to AI...",avatar:"\u23f3"};return(0,i.jsx)(Qt,{newAI:n})}return(0,i.jsx)(Wt,{onSendMessage:async e=>{t?await n(e):o(e)},onExit:f,onExtend:h,onDecline:p,isDemoMode:t})},Kt=()=>(0,i.jsx)(u,{children:(0,i.jsx)(v,{children:(0,i.jsx)(ft,{children:(0,i.jsx)(Yt,{})})})});s.createRoot(document.getElementById("root")).render((0,i.jsx)(a.StrictMode,{children:(0,i.jsx)(Kt,{})}))})();
//# sourceMappingURL=main.1e688f19.js.map